/* ==UserStyle==
@name         Dark-GitLab
@namespace    gitlab.com/vednoc/dark-gitlab
@version      0.46.1
@description  Dark and light theme for GitLab and self-hosted GitLab instances.
@author       vednoc <vednoc@pm.me> (https://gitlab.com/vednoc)
@homepageURL  https://gitlab.com/vednoc/dark-gitlab
@supportURL   https://gitlab.com/vednoc/dark-gitlab/issues
@updateURL    https://gitlab.com/vednoc/dark-gitlab/raw/master/gitlab.user.styl
@preprocessor stylus

@var text     b_radius   "Custom border radius" 4px
@var text     a_radius   "Custom avatar radius" 8px
@var text     max_width  "Custom width for fluid/fixed layout" 100%
@var text     ui_font    "Custom UI font" "'font_name'"
@var text     mono_font  "Custom mono font" "'font_name'"
@var text     emoji_font "Custom emoji font" "'font_name'"
@var text     faded_img  "Fade images in md/wiki/blog" "1"
@var checkbox gl_icons   "GitLab Icons [Add-on]: Fix icon alignment" 0
@var checkbox p_header   "Center project header elements" 0
@var checkbox dark_logo  "Switch to our darker logo" 0
@var checkbox navbar_c   "Navbar: Theme navbar color" 1
@var checkbox navbar_n   "Navbar: Show 'next' badge" 1
@var checkbox invert_ic  "Icons: Invert in Chromium-based browsers" 1
@var checkbox enable_sb  "Enable custom scrollbars" 1
@var checkbox bg_invert  "Background invert colors" 0
@var text     bg_image   "Background URL/base64" "#00000005 url("full-img-URL")"
@var text     bg_filter  "Background filter" opacity(1) invert(var(--bg-invert))
@var text     bg_size    "Background size" cover
@var text     bg_repeat  "Background repeat" repeat
@var text     bg_pos     "Background position" center

@var color dark    "Color: Primary bg   " #212121
@var color darken  "Color: Highlight bg " #262626
@var color darker  "Color: Secondary bg " #2e2e2e
@var color light   "Color: Primary fg   " #e6e6e6
@var color lighter "Color: Secondary fg " #bfbfbf
@var color accent  "Color: Accent       " #bf692b
@var color yellow  "Color: Yellow       " #f0c674
@var color orange  "Color: Orange       " #d98245
@var color red     "Color: Red          " #a54242
@var color magenta "Color: Magenta      " #b294bb
@var color violet  "Color: Violet       " #85678f
@var color blue    "Color: Blue         " #54738c
@var color cyan    "Color: Cyan         " #5e8d87
@var color green   "Color: Green        " #7b823a
@var color white   "Color: White        " #ffffff
@var color shadow  "Color: Shadow       " #00000025
==/UserStyle== */

@-moz-document regexp("^https?://(www\.)?([A-Za-z0-9]+\.)?(gitlab\.(?!(io|biterg.io|custom.domain)).*|your.custom.domain|code.videolan.org|gitgud.io|salsa.debian.org|framagit.org|source.joinmastodon.org|repo.getmonero.org|git.gnu.io|git.synz.io)(/.*)?$") {
  :root {
    --note      : "Dark-GitLab v0.46.1";
    --dark      : dark;
    --darken    : darken;
    --darker    : darker;
    --light     : light;
    --lighter   : lighter;
    --accent    : accent;
    --shadow    : shadow;
    --bshadow   : 0 2px 4px var(--shadow);
    --yellow    : yellow;
    --orange    : orange;
    --red       : red;
    --magenta   : magenta;
    --violet    : violet;
    --blue      : blue;
    --cyan      : cyan;
    --green     : green;
    --white     : white;
    --t         : transparent !important;
    --width     : max_width;
    --radius    : b_radius;
    --avatar    : a_radius;
    --ui-font   : ui_font, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans', Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, var(--emoji-font);
    --mono-font : mono_font, 'Menlo', 'DejaVu Sans Mono', 'Liberation Mono', 'Consolas', 'Ubuntu Mono', 'Courier New', 'andale mono', 'lucida console', monospace;
    --emoji-font: emoji_font, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --bg-invert : bg_invert;
    --bg-filter : bg_filter;
    --bg-size   : bg_size;
    --bg-repeat : bg_repeat;
    --bg-pos    : bg_pos;
    --background: bg_image;
  }

  // Overwrite existing Stylus-lang vars with CSS vars.
  bg      = var(--dark);
  hl      = var(--darken);
  bd      = var(--darker);
  fg      = var(--light);
  cm      = var(--lighter);
  ac      = var(--accent);
  sh      = var(--shadow);
  bsh     = var(--bshadow);
  yellow  = var(--yellow);
  orange  = var(--orange);
  red     = var(--red);
  magenta = var(--magenta);
  voilet  = var(--violet);
  blue    = var(--blue);
  cyan    = var(--cyan);
  green   = var(--green);
  white   = var(--white);
  r       = var(--radius);
  t       = var(--t);
  outer   = 0 0 0 1px bd;
  inner   = inset outer;

  // * Color mixin; use the new one.
  // ? All colors -> `colors: fg bd bg;`
  // ? Only background-color -> `colors: 0 0 bg;`
  colors(x, y, z) {
    if x is a 'call' { color: x !important }
    if y is a 'call' { border-color: y !important }
    if z is a 'call' { background-color: z !important }
  }
  // All colors: `c: fg bd bg;`
  // Only border-color: `c: 0 bd;`
  c(x, y = 0, z = 0, xi = 1, yi = 1, zi = 1) {
      if x is a 'call' or x is a 'rgba' {            color: xi is 0 ? x : x !important }
      if y is a 'call' or y is a 'rgba' {     border-color: yi is 0 ? y : y !important }
      if z is a 'call' or z is a 'rgba' { background-color: zi is 0 ? z : z !important }
  }
  // SVG colors.
  // ? Only fill -> `v: ac 0;`
  v(x, y = 0, xi = 1, yi = 1) {
    if x is a 'call' or x is a 'rgba' {   fill: xi is 0 ? x : x !important }
    if y is a 'call' or y is a 'rgba' { stroke: yi is 0 ? y : y !important }
  }
  // Border radius mixin.
  rad() { border-radius: arguments }

  // * Scrollbars.
  if ( enable_sb == 1 ) {
    html { scrollbar-color: bd bg }
    ::-webkit-scrollbar {
      width: 12px;
      &-track { background: bg; }
      &-thumb { background: bd; }
    }
  }
  // Input placeholder.
  ::placeholder { color: cm !important; }
  ::-webkit-input-placeholder { color: cm !important; }

  body {
    colors: fg 0 t;
    font-family: var(--ui-font);
    // Fixes content shift when modal is open.
    &.modal-open { padding-right: 0px !important; }
    // Empty navbar.
    &.navless {
      colors: fg 0 t;
      height: calc(100% - 41px);
      .navbar-empty { colors: 0 bd bg }
    }
    // Footer.
    .footer-fixed {
      colors: 0 bd bg;
      + .footer-container {
        max-width: 100%;
        colors: 0 0 bg;
      }
    }
    // ? Browser defaults.
    time { color: inherit }
    h1, h2, h3, h4, h5, h6, p { colors: fg 0 0 }
    ul, ol { color: fg }
    a {
      transition: 0.15s ease;
      color: ac;
      &:hover, &:focus { color: ac }
    }
    hr {
      margin: 16px auto;
      colors: 0 bd t;
    }
    img { &.transparent, &.lazy { colors: 0 bd t }}
    code { c: fg bd bg 0 0 0 }
    pre {
      rad: r;
      font-family: var(--mono-font);
      c: fg bd bg 0 0 0;
    }

    // Checkbox/radio inputs.
    input[type="checkbox"], input[type="radio"] {
      &, &:focus, &:hover:active, &:disabled, &:hover:active:disabled {
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        appearance: none !important;
        height: 1em !important;
        width: 1em !important;
        border: 1px solid !important;
        colors: fg bd bd;
      }
      &:hover { box-shadow: 0 0 2px 1px cm !important }
    }
    input[type="radio"] {
      border-radius: 100% !important;
      &:checked { colors: 0 sh ac }
    }
    input[type="checkbox"] {
      &:checked { colors: 0 sh ac }
      &:indeterminate { colors: 0 sh red }
    }
  }

  // Custom icons for checkbox/radio inputs.
  @css {
    input[type="radio"]:checked {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><circle cx="256" cy="256" r="128" fill="white"/></svg>') !important;
      background-size: cover !important;
    }
    input[type="checkbox"]:checked {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M99 213l-1 89 104 102 205-201v-91L203 315 99 213z"/></svg>') !important;
      background-size: cover !important;
    }
    input[type="checkbox"]:indeterminate {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><rect x="128" y="192" width="256" height="96" fill="white"/></svg>') !important;
      background-size: cover !important;
    }
  }

  // * Table -> Base styles for all `table` elements.
  table:not(.code) {
    display: table !important;
    border-collapse: unset;
    border-spacing: 0px;
    rad: r;
    colors: 0 0 bg;
    thead {
      c: 0 0 t;
      &, tr:first-child {
        > th {
          c: fg bd hl;
          border-top: 1px solid bd !important;
          border-bottom: 1px solid bd !important;
          &:not(:last-child) { border-right: none !important }
          &:first-child {
            border-top-left-radius: r;
            border-left: 1px solid bd;
          }
          &:last-child {
            border-top-right-radius: r;
            border-right: 1px solid bd;
          }
        }
      }
    }
    tbody {
      colors: 0 0 t;
      td {
        word-break: break-all;
        border: none !important;
        border-left: 1px solid bd !important;
        border-bottom: 1px solid bd !important;
        colors: fg bd t;
        &:last-child { border-right: 1px solid bd !important }
      }
      tr {
        // AsciiDoc tables and CI/CD jobs.
        > th {
          border: none !important;
          border-left: 1px solid bd !important;
          border-bottom: 1px solid bd !important;
          c: fg 0 hl;
          &[colspan="10"] { border-right: 1px solid bd !important }
        }
        // &:hover { th, td { c: 0 0 hl }}
        &:last-child {
          // Bottom corners look a bit off on Firefox.
          th, td { &:first-child { border-bottom-left-radius: r }}
          td:last-child { border-bottom-right-radius: r }
        }
      }
    }
    &.table-striped tbody {
      tr:nth-of-type(odd) { c: 0 0 t }
      tr:nth-of-type(even) > td { c: 0 0 hl }
    }
  }
  // * Table -> Reported in: https://gitlab.com/vednoc/dark-gitlab/issues/41
  table[frame="void"] {
    colors: cm, 0, 0;
    box-shadow: none;
    > tbody {
      colors: 0, 0, bg;
      tr th {
        border-bottom-width: 1px !important;
        colors: fg, bd, bd;
      }
    }
  }
  // * Table -> Project settings page or new MR.
  .border-bottom {
    padding-bottom: 10px;
    colors: 0 bd 0;
    > .table {
      border-collapse: collapse;
      box-shadow: outer;
      thead th {
        padding: 8px !important;
        c: fg bd hl;
      }
      tbody {
        td {
          padding: 8px !important;
          c: fg bd bg;
        }
      }
    }
  }

  // * Emojis -> Fix emojis being cropped.
  gl-emoji {
    font-size: 1.25em;
    font-family: var(--emoji-font) !important;
    // ? An attempt to fix emoji positioning on *fox-based browsers.
    @supports (-moz-user-select: none) {
      vertical-align: text-top !important;
    }
  }
  .user-status-emoji { display: inline-flex; }
  // ? Remove underline from `label-link` selectors.
  .label-link { text-decoration: none !important; }

  // * Icons!
  svg {
    v: cm;
    // Diff icons.
    &.ic-file-addition { &, &-solid { v: green }}
    &.ic-file-modified { &, &-solid { v: blue }}
    &.ic-file-deletion { &, &-solid { v: red }}
  }
  .fa {
    colors: cm 0 0;
    &[class*="online"] { colors: green 0 0 }
  }
  // * Icons -> Global icons that don't work without `path`.
  // ? Calendar, add reaction, commit icon.
  .nav-controls .has-tooltip svg, .award-control-icon svg, .commit-icon {
    path { v: cm }
  }

  // * Global -> Bootstrap reset.
  .bg {
    &-white { colors: 0 0 bg }
    &-info { colors: 0 0 bd }
    &-light { c: 0 0 bg }
    &-secondary { colors: 0 0 bg }
  }
  .text {
    &-info { c: blue }
    &-white { c: fg }
    &-danger { c: red }
    &-warning { c: orange }
    &-success { c: green }
    &-tertiary { c: cm }
    &-secondary { c: fg }
  }
  .badge {
    &.unverified { colors: cm cm bg }
    &.verified { colors: green green hl }
    &-success { colors: fg 0 green }
    &-primary { colors: fg 0 blue }
    &-info { colors: fg 0 blue }
    &-gray { colors: fg bd bd }
    // Resets.
    &&-pill {
      c: cm bd hl;
      box-shadow: inner;
      // Dashboard -> Activities.
      &.issues-count { colors: white 0 green }
      &.merge-requests-count { colors: white 0 orange }
      &.todos-count { colors: white 0 blue }
    }
  }
  // Text colors.
  .danger-title { c: red }
  .warning-title { c: orange }
  .cgray, .committed_ago, .hint, .help-block { c: cm }
  .light, .description-block, .task-list-item { c: fg }
  .account-btn-link, [class*="settings-sidebar"] a { c: ac 0 0 0 }
  // Warnings.
  .warning_message {
    rad: 0 r r 0;
    border-left-color: ac;
    c: fg 0 bd;
  }

  // * Global -> Alerts.
  .bs-callout {
    rad: 4px;
    position: relative;
    colors: fg bd bg;
    &.gcp-signup-offer { border-left-color: blue !important }
    &.help-callout, &.shared-runners-description {
      border-left: none;
      box-shadow: inner;
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        rad: 4px 0 0 4px;
        border-left: 4px solid bd;
      }
    }
    &&-info {
      border: none;
      box-shadow: inset 0 0 0 1px blue;
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        rad: 4px 0 0 4px;
        border-left: 4px solid blue;
      }
    }
    &&-warning {
      border: none;
      box-shadow: inset 0 0 0 1px orange;
      a { colors: ac 0 0 }
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        rad: 4px 0 0 4px;
        border-left: 4px solid orange;
      }
    }
  }

  // * Global -> Scoped labels.
  .scoped-label {
    .fa-question-circle {
      colors: 0 0 t;
      &[style*="color: #FFFFFF"]  { color: #ffffff !important }
      &[style*="color: #333333"]  { color: #000000 !important }
    }
  }

  // * Button reset.
  .btn {
    // ? Base selectors.
    &, .btn-default {
      transition: 0.15s ease;
      c: cm bd bg 0 0 0;
      // &:hover, &:focus, &.focus {
      //   c: fg bd hl 0 0 0;
      //   box-shadow: none !important;
      // }
    }
    &:not(:disabled):not(.disabled) {
      &:hover, &:focus, &.focus, &:active {
        c: fg bd hl 0 0 0;
        box-shadow: none;
      }
    }
    &.active, &.is-active {
      colors: fg bd bd;
      box-shadow: none !important;
      svg { v: fg }
    }
    &-secondary {
      &:not(:disabled):not(.disabled) {
        &:active, &.active { colors: fg bd bd }
      }
    }
    &-link {
      c: cm t t;
      &:hover { c: 0 0 t }
    }
    // Green buttons.
    &-success, &-register, &-new, &-create, &-save,
    &.comment-btn, .comment-btn, .commit-btn {
      colors: white green green;
      &:hover { opacity: 0.75; }
      .fa { color: inherit !important }
    }
    // Blue buttons.
    &-info, &-primary, &-register {
      colors: white blue blue;
      &:hover { opacity: 0.75; }
    }
    &-primary&-inverted { c: ac ac bg }
    // Orange buttons.
    &-warning {
      colors: white orange orange;
      &:hover { opacity: 0.75; }
    }
    // Close buttons.
    &-close, &-close-color {
      colors: red red bg;
      &:hover { colors: white 0 red; }
    }
    &-close-color.dropdown-toggle {
      colors: red red bg;
      .fa { color: inherit !important; }
      &:hover { colors: white 0 red; }
    }
    // Remove buttons.
    &-danger, &-remove, &-red, &-inverted.btn-remove {
      colors: white red red;
      .fa { c: white }
      &:hover { opacity: 0.75; }
    }
    // Blank buttons.
    &-cancel, &-retry {
      colors: cm bd bg;
      &:hover, &:focus { c: fg 0 hl }
    }
    &-blank { colors: cm 0 t; }
    &-clipboard {
      colors: cm bd t;
      &:hover { colors: fg 0 0 }
      &:hover svg { v: fg }
    }
    // Comment on a note.
    &-text-field { c: cm bd hl }
    // Colors for buttons with dashed borders.
    &-missing {
      c: cm bd bg;
      &:hover { c: fg 0 hl }
    }
    // Disabled buttons.
    &.disabled, &[disabled] {
      &, &:hover {
        opacity: 0.6 !important;
        colors: cm bd bg;
      }
      i[class] { colors: cm 0 0 }
    }
  }
  // ? Button groups.
  .input-group-btn, .input-group-prepend, .input-group-append {
    colors: 0 0 t;
    .btn:focus { colors: 0, 0, bd; }
  }
  // ? Reaction buttons.
  .award-control {
    &.user-authored { c: fg bd bg }
    &.active { c: fg blue hl }
  }

  // * Project notifications.
  // TODO move to appropriate section.
  .project-feature-toggle {
    colors: 0, 0, bd;
    &.is-checked { colors: 0, 0, ac; }
    .toggle-icon { colors: 0, 0, bg; }
  }

  // Issue/Merge status.
  .status-box {
    &-mr-merged { colors: white, 0, blue; }
    &-mr-closed { colors: white, 0, red; }
    &-open { colors: white, 0, green; }
    &-issue-closed { colors: white, 0, blue; }
    &-expired { c: white 0 orange }
    &-closed { c: white 0 red }
  }
  // Confidential icon.
  .issuable-warning-icon {
    colors: 0 0 bd;
    svg.icon { v: orange }
  }

  // * Global -> Random styles.
  [class*="committer-link"],
  [class*="author-link"],
  .ci-table .ref-name,
  .js-user-link,
  .author_name a {
    color: ac !important;
  }
  .label-bold { color: fg; }
  .cred { c: red; v: red }
  .cblue { c: blue; v: blue }
  .cgreen { c: green; v: green }
  .diff-file-changed-icon { &:not(.cgreen):not(.cred) { v: blue }}
  // ? Move to a better place.
  .option {
    &-title { c: fg }
    &-description, &-disabled-reason { c: cm }
  }
  .bordered-box {
    rad: r;
    c: 0 bd;
  }
  // ? Check #13 for more info.
  .deployment-info, .js-deploy-time { colors: fg, 0, 0; }
  // * Grid styles.
  .flex-grid {
    .grid-row { colors: 0, bd, 0; }
    .grid-cell {
      colors: 0, bd, 0;
      .property-label { colors: cm, 0, 0; }
    }
  }
  // ? Promotion background on i.e. project/audit_events page.
  .promotion-backdrop { colors: 0, 0, t; }
  // ? Custom GitLab tables on i.e. project/settings/badges page.
  .gl-responsive-table-row-layout {
    colors: 0, bd, 0;
    // Items border.
    .table-section:not(:first-child) { colors: 0, bd, 0; }
    // Text badges.
    .badge.badge-pill { colors: fg, 0, bd; }
    // Footer.
    .table-button-footer {
      colors: 0, bd, t;
      @media screen and (max-width: 767px) { colors: 0, 0, bd; }
    }
  }
  // ? Pipelines: Fix table corners and item borders.
  .gl-responsive-table-row {
    &:not(:last-child) { border-bottom: 1px solid bd }
    &:first-child { rad: r r 0 0; }
    &:last-child { rad: 0 0 r r; }
  }
  // ? 404 page.
  img[alt="404"] + .container {
    margin-bottom: 1em;
    colors: 0, bd, 0;
  }
  // ? Forms.
  .form-control {
    colors: cm bd bg;
    input.add-issuable-form-input { c: 0 0 t }
    &:focus, &.focus {
      c: fg blue;
      box-shadow: none;
      &:hover { box-shadow: none }
    }
    &:disabled, &[readonly] { colors: cm bd 0 }
  }
  // ? Spinner in pipelines.
  .spinner {
    margin-bottom: -4px;
    border-color: bd;
    border-top-color: ac;
    &&-md {
      width: 24px;
      height: @width;
    }
  }

  // * Sign in/register page.
  .login-page {
    // Header.
    .nav-links.new-session-tabs {
      margin-bottom: -1px;
      rad: r r 0 0;
      li.nav-item {
        margin: 0;
        colors: fg bd t;
        a.active, a:hover { c: ac t t }
      }
    }
    // Credentials.
    .login-box {
      rad: 0 0 r r;
      box-shadow: inner;
      background-color: bg;
    }
    // Sign in with.
    .omniauth-container {
      rad: r;
      colors: 0 0 bg;
      box-shadow: inner;
      .omniauth-btn:hover { colors: 0 0 bd }
    }
  }

  // Epics start/due dates.
  .block .value {
    span:not(.color-label) { colors: fg, 0, 0; }
    abbr { colors: cm, 0, 0; }
  }


  // * Cookies.
  #CybotCookiebotDialog {
    colors: fg, 0, bd;
    box-shadow: 0 0 4px 0 sh;
    // Buttons.
    [id*="ButtonsSelectPane"] { colors: 0, bg, bg; }
    // Show/hide details button.
    [id*="DetailsWrapper"] {
      colors: ac, bg, ac;
      a { color: fg; }
    }
    // Show details.
    [id*="DialogDetail"] {
      border-width: 1px;
      colors: fg, bg, bd;
      [id*="BodyContentTabs"] { border-color: red; }
      a {
        colors: ac, bg, 0;
        &:hover, &[class*="Selected"] { colors: 0, 0, bg; }
      }
      thead th { colors: fg, bg, bg; }
      tbody td { colors: fg, bg, t; }
    }
  }

  // * Navbar.
  .navbar {
    colors: 0 bd 0;
    box-shadow: bsh !important;
    // ? Feature -> Theme navbar color.
    if ( navbar_c == 1 ) { colors: 0 0 bg }
    // ? Feature -> Show 'next' badge.
    if ( navbar_n != 1 ) { .canary-badge { display: none !important }}
    .canary-badge .badge.badge-pill { colors: white green green }
    // Logo text color.
    .logo-text svg, svg.nav-logo .wordmark { v: fg }
    // Search.
    .search form {
      padding: 4px 2px 3px;
      height: unset;
      rad: r;
      colors: cm bd hl;
      box-shadow: inner;
      #search { colors: cm 0 0 }
    }
    // Navbar links and buttons.
    a, button {
      colors: cm 0 0;
      transition: 0.15s ease;
      &:hover, &:focus { c: fg 0 hl }
    }
    // Active tab/button/menu.
    &-sub-nav, &-nav {
      > li.active, .dropdown.show {
        > a, > button { colors: fg 0 bd }
        svg { v: fg }
      }
      .btn:focus { colors: 0 0 bd }
    }
    // Separator.
    &-toggler {
      margin: 4px -7px 4px 0 !important;
      border-left-color: bd !important;
    }
    // ? Avatars -> Reset.
    .header-user-avatar {
      radius: 50%;
      border: none !important;
      colors: cm, 0, t;
    }
    // ? Shows theme version in the user dropdown.
    .header-user li:first-child::before {
      content: var(--note);
      display: block;
      padding: 8px 12px;
      margin: -16px -12px 8px -12px;
      border-bottom: 1px solid bd;
      color: fg;
    }
  }

  // * Navbar -> Projects/Groups.
  .frequent-items-dropdown-menu {
    rad: r;
    .section-header { colors: fg, 0, 0; }
    .section-empty, [class*="namespace"] { colors: cm, 0, 0;}
    [class*="dropdown-sidebar"] { colors: 0, bd, 0; }
  }

  // * Dropdown.
  .dropdown {
    // ? Toggles.
    &-toggle, &-menu-toggle {
      transition: 0.15s ease;
      &:not(.search-input):not([class*="btn-"]) {
        colors: cm bd bg;
        &:hover { colors: fg 0 hl }
      }
      // ? Add missing top margin to the dropdown on group page. @upstream
      + ul.show { margin-top: 10px !important; }
      // ? Active state for toggles.
      ^[0].show:not(#sc) & {
        colors: fg bd bd;
        button[aria-expanded="true"] { c: fg 0 bd }
        ^[2] ^[0]-toggle-text { colors: fg 0 0 }
        // Navbar -> Fix search input.
        &#search { c: 0 0 t }
      }
      // Active state for non-toggle buttons.
      ^[0].show:not(#sc) {
        button[aria-expanded="true"] { c: fg 0 bd }
      }
    }
    // Dashboard -> Dropdowns in activities.
    &-toggle-text.is-default { colors: cm 0 0 }
    // On event.
    &-item {
      transition: 0.15s ease;
      &:hover, &:focus { c: fg 0 hl 0 0 0 }
    }
    // Shadow.
    &-content-faded-mask::after { background: none }
    // Color boxes.
    &-label-box { border-color: inherit !important }
    // Button groups.
    .btn-group {
      > button, > a {
        colors: 0, bd, bg;
        transition: 0.2s ease !important;
        &:hover, &.active { c: 0 0 hl }
        &:first-child { border-radius: r 0 0 r; }
        &:last-child { border-radius: 0 r r 0; }
      }
    }
    a:active { colors: fg, 0, bd; }
    .bold { colors: cm, 0, 0; }
    label { colors: fg, 0, 0; }
    // ? Navbar -> Search menu.
    &-select {
      li {
        &.separator { colors: 0, 0, bd; }
        &.dropdown-header { colors: cm, 0, 0; }
        a {
          span b { colors: ac, 0, 0; }
          &:hover, &.is-focused { c: fg 0 hl }
          // ? Multiple `active` elements.
          &.is-active { colors: cm 0 0 }
        }
      }
    }
    // ? Issue boards -> Switch board.
    &-extended-height {
      a {
        transition: 0.15s ease;
        colors: cm, 0, 0;
        &:hover, &:active, &:focus { c: fg 0 hl }
        &.is-active { colors: ac, 0, 0; }
      }
      // ? Boards -> Create new board.
      .dropdown-divider ~ .dropdown-item {
        colors: cm, 0, 0;
        transition: 0.15s ease;
        &:hover, &:active, &:focus { c: fg 0 hl }
      }
    }
    // ? Project -> Insights.
    &.js-insights-dropdown {
      padding-left: 0;
      button.dropdown-toggle {
        box-shadow: none !important;
        &:focus, ../.show .dropdown-toggle { colors: fg bd bd }
      }
    }
  }
  .dropdown-menu {
    rad: r;
    colors: 0, bd, bg;
    box-shadow: 0 4px 8px 0 sh;
    // ? Height reset.
    &-selectable.show { max-height: unset !important; }
    &, &-nav { max-height: 352px !important }
    // ? Header/Title.
    .dropdown-header, .dropdown-title { colors: fg, bd, 0; }
    .dropdown-bold-header, &-inner-title { colors: fg 0 0 }
    &-inner-content { colors: cm 0 0 }
    // ? Input / Search.
    .dropdown-input-field, .default-dropdown-input {
      rad: r;
      colors: fg, bd, bg;
      &:focus {
        colors: 0 ac 0;
        box-shadow: bsh;
      }
    }
    // ? Body/Content.
    .dropdown-info-note { colors: fg, 0, 0; }
    [class*="divider"] { colors: 0, bd, t; }
    .dropdown-item {
      colors: cm 0 0;
      &:focus, &:active { colors: 0 0 bd }
      // ? Search projects on `/-/operations` page.
      &:not(.disable-hover):hover { c: 0 0 hl }
    }
    li {
      // ? Reset avatar padding.
      .dropdown-menu-user-link:not(.is-active) { padding-left: 8px; }
      // ? Base styles.
      &:hover a, &:hover button:not(.btn-success) { colors: fg 0 hl }
      a, button:not(.btn) {
        colors: cm 0 0;
        transition: 0.15s ease;
      }
      .btn-default { colors: cm 0 0 }
      .is-focused, a:focus, a:active { colors: fg 0 bd }
      &.droplab-item-active .btn { colors: fg 0 bd }
    }
    // ? MR -> "Created date" dropdown.
    &-sort {
      li {
        // ? Reset due to markup being single `li` with a ton of `a` elements.
        &:hover a { colors: cm, 0, t; }
        a {
          transition: 0.15s ease;
          &:hover { c: fg 0 hl }
          &.is-active { colors: fg 0 0 }
        }
      }
    }
    // ? MR -> Download button.
    &-right:not(&-sort) {
      li {
        // ? Reset due to markup being single `li` with a ton of `a` elements.
        &:hover a { colors: cm, 0, t; }
        a, button:not(.btn), .menu-item {
          transition: 0.15s ease;
          colors: cm, 0, 0;
          &:hover { c: fg 0 hl }
        }
        .form-group label { colors: fg, 0, 0; }
      }
    }
    // ? Project -> Notifications.
    &-large {
      li a { transition: 0.15s ease }
    }
    // ? Snippets -> Embed menu.
    &-selectable {
      li {
        button { colors: cm, 0, 0; }
        .is-active { colors: fg, 0, 0; }
      }
    }
    // ? Issue boards -> Add list.
    &-tabs {
      // max-height: 400px !important;
      .dropdown-tabs-list {
        colors: 0, 0, bg;
        box-shadow: 0 1px 0 0 bd !important;
        .dropdown-tab-item {
          colors: 0, bd, 0;
          a { colors: fg, 0, bg; }
          a.active { colors: cm, ac, bg; }
        }
      }
    }
    // ? Diff -> File finder.
    &.diff-file-changes {
      min-width: 500px !important;
      .diff-changed-file {
        [class*="path"] { colors: cm, 0, 0; }
        &.is-focused, &:focus {
          colors: 0, 0, bd;
          [class*="file-name"] { colors: fg, 0, 0; }
        }
      }
    }
    // ? Footer.
    .dropdown-footer {
      colors: 0, bd, 0;
      li:hover a { colors: cm, 0, t; }
      li a {
        transition: 0.15s ease;
        &:hover { c: fg 0 hl }
      }
    }
    // ? Loader.
    [class*="-loading"] {
      colors: 0, 0, bg;
      .fa-spinner:before { color: cm; }
    }
  }

  // * Dropdown -> The select2 component.
  .select2 {
    // Menu.
    &-drop {
      rad: r;
      colors: 0, bd, bg;
    }
    // Menu arrow.
    &-arrow {
      padding-left: 12px;
      colors: 0, 0, t;
      &::after { colors: cm, 0, 0; }
    }
    // Input/select.
    &-drop input, &-choice, &-search-choices, &-default {
      rad: r;
      colors: cm, bd, bg;
    }
    &-container-multi &-choices {
      rad: r;
      colors: cm, bd, bg;
      input:focus { colors: fg, 0, 0; }
    }
    // ? Fix for flashing input.
    &-container-multi &-choices &-search-field input&-active {
      background: none !important;
    }
    // Results.
    &-results &-result-label {
      transition: 0.15s ease;
      colors: cm, 0, 0;
      .group-name { color: fg; }
      .group-path { color: cm; }
    }
    &-results &-highlighted &-result-label { c: fg 0 hl }
    // Loader.
    &-more-results { colors: 0, 0, t; }
    // Project -> Import repositories.
    &-container.import-namespace-select {
      > .select2-choice { rad: 4px 0 0 4px }
      ~ .import-slash-divider { c: 0 bd bd }
    }
  }

  // Global -> GFM links.
  .gfm {
    c: fg 0 bd;
    &&-issue, &&-merge_request, &&-epic { c: ac 0 t }
    &&-commit, &&-milestone { c: ac 0 t }
    &&-label { c: 0 0 t }
    &.current-user {
      c: white 0 ac;
      &:hover {
        text-decoration: none;
        colors: white 0 0;
        opacity: 0.8;
      }
    }
  }

  // * Dashboard -> Search page hacks.
  [data-project=""] {
    .top-area:not(.cover-block) {
      margin-top: 8px;
      rad: r;
      c: 0 0 bg;
      box-shadow: inner;
      .nav-links {
        margin: 0;
        rad: 0;
        c: 0 0 t;
        box-shadow: none;
        a { line-height: 32px }
      }
    }
    // Issues/MR/Milestones.
    .search-results {
      margin-top: 16px;
      rad: r;
      colors: 0 0 bg;
      box-shadow: inner;
      // Bug on .../search/users tab. @upstream
      > .content-list {
        > li { padding: 8px }
        &:not(:last-child) { box-shadow: 0 1px bd }
      }
      .search-result-row {
        padding: 8px;
        margin-bottom: 0;
        colors: 0, bd, 0;
        &:first-child { rad: r r 0 0; }
        &:last-child { rad: 0 0 r r; }
        h4 { margin-top: 0px; }
        code { c: cm 0 hl }
        pre.code { c: 0 bd hl }
      }
    }
  }

  // * Dashboard -> Welcome page.
  .section-welcome {
    padding: 0 !important;
    .container {
      max-width: var(--width) !important;
      // Fix odd spacing.
      .blank-state-row { justify-content: space-between; }
      // Cards.
      .blank-state-link {
        rad: r;
        colors: 0, 0, bg;
        &:hover { colors: fg, 0, bd; }
        .blank-state {
          rad: r;
          colors: 0, bd, 0;
        }
      }
    }
  }

  // * Dashboard -> New project.
  .gitlab-tabs {
    rad: r r 0 0;
    c: 0 bd;
    &.nav.nav-tabs.nav-links {
      rad: r r 0 0;
      border-bottom: 1px solid;
      box-shadow: none;
      > .nav-item { margin: 0 }
    }
    li.nav-item {
      c: 0 bd;
      a {
        rad: 0;
        ../:first-child a { rad: r 0 0 0 }
        ../:last-child a { rad: 0 r 0 0 }
        ../.active a.nav-link { c: fg ac }
        ../:hover a.nav-link { c: fg t }
      }
    }
  }
  // Tab content.
  .gitlab-tab-content {
    rad: 0 0 r r;
    colors: 0 bd bg;
    // 'Create from template' area.
    .card-slim {
      padding: 8px !important;
      margin: 0 16px 8px !important;
    }
    // Inputs.
    [class*="input-group"] {
      rad: r;
      colors: cm, bd, bd;
    }
    // Project -> Create from template.
    .template-option {
      c: 0 bd bg;
      margin-top: 10px;
    }
  }

  // * Settings -> Messages.
  .settings-message {
    rad: r;
    colors: fg bd bg;
  }
  // Social icons.
  .provider-btn {
    rad: r;
    c: fg 0 hl;
    &-group {
      rad: 8px;
      border: none;
      c: 0 t hl;
    }
    &-image {
      rad: r 0 0 r;
      height: 32px;
      c: 0 bd bd;
    }
  }
  // Path.
  .input-group-text {
    colors: fg, bd, 0;
    // Fix #29.
    &:not(.label-color-preview) { colors: 0, 0, bd; }
  }
  // * Settings -> Emails.
  .account-well {
    rad: r;
    colors: cm bd hl;
   }
  // * Settings -> Billings page.
  ul.bordered-list { &, li { colors: 0 bd 0 }}
  // * Settings -> Active sessions.
  .card .list-group {
    rad: r;
    c: cm 0 bg;
    // Settings -> Active sessions.
    &-flush:not(.pages-domain-list) {
      border: 1px solid bd;
    }
    &-item {
      c: cm bd t;
      &:hover { c: 0 0 hl }
      &:last-child { rad: 0 0 r r }
    }
  }
  // * Settings -> Pipeline quota.
  .pipeline-quota {
    padding: 0px !important;
    colors: 0 bd 0;
  }
  // Settings -> Badges.
  .settings-content {
    .card > .card-body {
      > .gl-responsive-table-row { padding: 16px }
    }
    // #69
    .list-group-item { c: 0 bd t }
    .success svg { v: green }
  }
  // * Global -> Progress bar.
  .progress {
    colors: 0 0 bd;
    // Filled progress.
    .bg-success { colors: fg 0 green }
  }
  // TODO: Move.
  .text-muted, .description { colors: cm 0 0 }
  .profile-settings-content a { color: ac }

  // * Alerts.
  .alert-wrapper {
    display: flex;
    flex-direction: column;
    // Move breadcrumbs to the last spot.
    > nav { order: 999; }
    // Alert main reset.
    [class*="flash-"] {
      margin-bottom: 0px !important;
      // ? Align notice with main content.
      .flash-notice > div {
        max-width: var(--width);
        margin: 0 auto;
      }
      // ? Fixes unnecessary limited container issue.
      > .container-limited {
        padding: 0;
        max-width: 100%;
      }
      a {
        color: white;
        text-decoration: underline;
      }
    }
    // Alert colors.
    .flash-notice { colors: white, blue, blue; }
    .flash-alert { colors: white, red, red; }
    .flash-success { colors: white, green, green; }
    .alert-warning { colors: white, orange, orange; }
    .alert-link { colors: white, 0, 0; }
    // ? Broadcasts found on `git.synz.io`.
    .broadcast-message {
      p, .fa { color: inherit !important; }
      &[style*="background-color: #004275"] { colors: white, 0, blue; }
      &[style*="background-color: #00bd7f"] { colors: white, 0, green; }
      &[style*="background-color: #e75e40"] { colors: white, 0, orange; }
      &[style*="background-color: #f4f4f4"] { colors: fg, 0, bd; }
    }
  }
  // Found in IDE when page doesn't load properly.
  .flash-container {
    .flash-alert {
      colors: white 0 red;
      .flash-action { colors: white 0 0 }
    }
  }
  // Green alerts.
  .alert-success {
    colors: white, green, green;
    &.prepend-top-default { rad: r; }
  }
  // Customers page, possible refactor.
  .alert-danger { colors: white, red, red; }
  .alert-info { colors: 0, blue, bg; }

  // * Bootstrap breadcrumbs.
  .breadcrumbs {
    colors: fg, 0, 0;
    // Wrapper.
    .breadcrumbs-container {
      padding: 0 10px;
      margin-top: 10px;
      rad: r;
      border: 1px solid !important;
      colors: 0, bd, bg;
    }
    &-list a { colors: cm, 0, 0; }
    // Highlighted link.
    &-sub-title a { colors: fg, 0, 0; }
    // Separator.
    &-links { c: cm bd 0 }
    // ? Reset epics-roadmap page.
    &.group-epics-roadmap {
      border-bottom: none !important;
      max-width: 100% !important;
    }
  }
  .breadcrumb {
    .breadcrumb-item a { colors: cm 0 0 }
    &.repo-breadcrumb > li + li::before { colors: cm 0 0 }
  }

  // * Epics -> Resets!
  [data-page*="groups:epics:"] {
    // @upstream
    .filtered-search-wrapper { display: flex }
  }
  [data-page*="groups:roadmap:"] {
    .empty-state { margin: 0 }
    .epics-filters {
      border-top: 1px solid bd;
      border-bottom: 1px solid bd;
      colors: 0 0 bg;
      // @upstream
      .filtered-search-wrapper { display: flex }
    }
    .row-content-block {
      margin-top: 0px !important;
      padding: 8px !important;
      rad: 0 !important;
    }
    .alert-wrapper .breadcrumbs.container-fluid.group-epics-roadmap {
      padding: 0px !important;
      max-width: 100% !important;
      .breadcrumbs-container {
        margin-top: 0px !important;
        rad: 0px !important;
        border: none !important;
      }
    }
  }

  // * Epics -> Roadmap.
  .roadmap-container {
    // Timeline header.
    .timeline-header-blank {
      colors: cm, bd, bg;
      box-shadow: inset -1px 0 bd;
      &::before { colors: 0, bd, 0; }
      &::after { background: linear-gradient(to right, sh 0%, t 100%); }
    }
    // Timeline items.
    .timeline-header-item {
      colors: 0, bd, bg;
      .item-label { colors: fg, bd, 0; }
      .item-sublabel .sublabel-value { colors: cm, 0, 0; }
      .item-sublabel .label-bold { colors: fg, 0, 0; }
    }
    // Background cells.
    .epics-list-section {
      c: 0 0 hl;
      // Left sidebar cells.
      .epic-details-cell {
        colors: 0, bd, bg;
        box-shadow: inset -1px 0 bd;
        &::after { background: linear-gradient(to right, sh 0%, t 100%); }
        .epic-url { colors: fg, 0, 0; }
        .epic-timeframe { colors: cm, 0, 0; }
      }
      .epics-list-item {
        &:hover .epic-timeline-cell { colors: 0, bd, bg; }
        .epic-timeline-cell { c: fg bd 0 }
        // ? Bars.
        .timeline-bar {
          colors: 0, 0, blue;
          &.start-date-undefined { background: linear-gradient(
            to right, #55555510 0%, #55555530 50%, blue 100%
          ) !important; }
          &.end-date-undefined { background: linear-gradient(
            to right, blue 0%, #55555530 50%, #55555510 100%
          ) !important; }
        }
      }
    }
  }

  // * Dashboard :: Page title.
  .page-title-holder {
    border: none;
    margin-top: 10px;
    .page-title { margin: 0; }
    // Found on: .../dashboard/milestones
    .project-item-select-holder { overflow: unset; }
  }

  // Dashboard -> Navigation.
  .pipelines-container .top-area {
    margin-top: 8px;
    rad: r;
    c: 0 0 bg;
    box-shadow: inner;
  }
  #content-body > div[class] > .top-area:not(.cover-block) {
    margin-top: 8px;
    rad: r;
    c: 0 0 bg;
    box-shadow: inner;
    > .nav.nav-tabs:not(#sc) {
      a { padding: 10px 8px }
      margin-top: 0;
      c: 0 t t;
      box-shadow: none;
    }
    // ../project/pipeline_schedules
    + .card { margin-top: 8px }
  }
  .top-area.group-nav-container {
    > .scrolling-tabs-container .nav a { padding: 10px 8px }
    > .nav-controls > div:last-child { padding-right: 8px }
  }
  // Remove bottom border.
  .top-area, .wiki-page-header {
    &, .nav-links.mobile-separator { border-bottom: none }
  }
  .nav.nav-tabs {
    padding: 0 !important;
    margin-top: 8px;
    rad: r;
    border-bottom: none;
    box-shadow: inner;
    c: 0 0 bg;
    .cover-block ^[0] {
      rad: 0;
      c: 0 0 t;
      box-shadow: none;
    }
  }
  .nav-links {
    li {
      &:first-child { margin-left: 8px }
      &:last-child { margin-right: 8px }
      a[class], a[href] {
        line-height: 32px;
        border-bottom-width: 1px !important;
        c: cm;
        ../:hover > a { c: fg bd }
        ../.active, ../:active { > a { c: fg ac }}
        &.active { c: fg ac t }
      }
    }
    // Whitespace on the right side.
    + .nav-controls {
      padding: 8px;
      > form {
        margin-right: 7px;
        > input { height: 35px }
      }
      > *:last-child { margin-right: 0px }
    }
  }

  .scrolling-tabs-container {
    .fade-right {
      background: linear-gradient(to left, bg 45%, t);
      border-right: 1px solid bd;
    }
    .fade-left {
      background: linear-gradient(to right, bg 45%, t);
      border-left: 1px solid bd;
    }
  }


  // * Settings -> Billings.
  .billing-plans {
    [class*="card"] {
      colors: 0 0 bg;
      .card-header {
        rad: r r 0 0;
        colors: white 0 ac;
      }
      .card-body {
        rad: 0 0 r r;
        // Items.
        .feature-list li { colors: 0 0 t }
        // Pricing.
        .price-per-month { colors: ac 0 0 }
        .price-per-year { colors: green 0 0 }
        // Borders.
        ../.current .card-body { colors: 0 ac 0 }
        ../:not(.current) .card-body { colors: 0 bd 0 }
      }
    }
  }

  /* SSH Keys. */
  // pre,
  code.key-fingerprint { colors: cm, bd, bd; }


  // Dashboard -> Projects list.
  .projects-list {
    margin: 8px 0;
    rad: r;
    border: 1px solid bd;
    background-color: bg;
    // Items.
    > li {
      padding: 8px;
      transition: 0.15s ease;
      border-bottom-color: bd;
      // On event.
      &:hover { c: 0 0 hl }
      // ? Round corners on first and last child.
      &:first-child { rad: r r 0 0; }
      &:last-child { rad: 0 0 r r; }
      &.project-row { padding: 8px }
    }
    // Profile -> Compact list.
    &.compact {
      margin: 0;
      border: none;
      rad: 0 0 r r;
      .project-row { padding: 8px }
      .project-row:first-child { rad: 0 }
      // @upstream
      .s48.identicon { line-height: 40px }
    }
  }

  // Global -> Content lists.
  ul.content-list {
    > li {
      padding: 8px;
      c: fg bd;
      transition: 0.15s ease;
      &:hover { c: 0 0 hl }
      a { c: ac 0 0 0 0 }
    }
    li {
      c: fg 0 0 0;
      a[href] { c: ac 0 0 0 }
    }
    .group-row .stats { color: cm; }
  }
  // Project -> Activity.
  .content_list {
    &:not(.list-unstyled) {
      margin-top: 10px;
      border: 1px solid bd;
      rad: r;
      c: 0 0 bg;
    }
    .event-item {
      padding: 8px 0 8px 56px;
      c: cm bd;
      transition: 0.15s ease;
      .event-title { c: fg }
      .system-note-image { margin-left: 8px }
      .event-item-timestamp { margin-right: 8px }
      &:hover {  c: 0 0 hl }
      // Remove left padding on small resolution.
      @media (max-width: 575px) { padding-left: 8px }
      // Corners.
      &:first-child { rad: r r 0 0 }
      &:last-child { rad: 0 0 r r }
    }
  }
  // Project -> Groups.
  #groups, #snippets, .snippets-list-holder {
    ul.content-list {
      margin-top: 10px;
      border: 1px solid bd;
      rad: r;
      c: 0 0 bg;
    }
  }

  // * Avatars.
  .avatar {
    c: cm;
    &, &-circle, &-container, &-tile {
      rad: var(--avatar) !important;
      border: none !important;
      c: fg t t;
    }
    &:not(img) {
      box-shadow: inset 0 0 0 2px bd;
      transition: 0.15s ease !important;
    }
    &.identicon {
      position: relative;
      &::before {
        content: "";
        position: absolute;
        top: 0; right: 0; bottom: 0; left: 0;
        opacity: 0.5;
      }
      &.bg1::before { c: 0 0 yellow }
      &.bg2::before { c: 0 0 magenta }
      &.bg3::before { c: 0 0 violet }
      &.bg4::before { c: 0 0 blue }
      &.bg5::before { c: 0 0 cyan }
      &.bg6::before { c: 0 0 red }
      &.bg7::before { c: 0 0 orange }
    }
  }
  // ? Drop some shadow; use transparent avatars for best results.
  img.avatar { filter: drop-shadow(1px 1px 2px sh); }

  // * Project details.
  .project-details {
    .text-plain { c: fg 0 0 0 }
  }
  .user-access-role { c: fg bd bg }

  // * Project -> New fork.
  .fork-thumbnail-container {
    .fork-thumbnail {
      rad: r;
      c: 0 bd bg;
      transition: 0.15s ease;
      &:hover { c: 0 ac 0 }
      a > div { margin: 0 auto }
    }
  }

  // * Project :: Commits.
  #commits-list {
    .commit-list {
      .commit {
        padding: 8px;
        a:not(.gpg-status-box) { colors: fg, 0, 0; }
      }
    }
    // Header.
    .commit-header {
      display: inline-flex;
      rad: r;
      border: 1px solid;
      colors: 0, bd, bg;
      .day { padding-right: 1ch; }
      // Have some whitespace between days.
      &:not(:first-child) { margin-top: 10px; }
      // Separate every first commit from the header.
      + .commits-row { margin-top: 10px; }
    }
    // List.
    .commits-row {
      position: relative;
      margin-bottom: 8px;
      rad: r;
      colors: 0, 0, bg;
      box-shadow: inner;
      &::before {
        content: "";
        height: 10px;
        position: absolute;
        top: -10px; left: 28px;
        border-left: 1px solid bd;
      }
    }
  }
  .commit {
    colors: 0, bd, 0;
    & &-content {
      div.committer {
        colors: cm 0 0;
        time { color: inherit }
        // FIX: Specificity.
        a[href]^[0]-author-link:not(#e) { color: inherit !important }
      }
    }
    a {
      colors: fg, 0, 0;
      // Center avatar.
      img { margin: 2px 0 0 2px }
    }
    // Commit sha.
    > .commit-detail { align-items: center; }
    // Commit description.
    [class*="-description"] {
      border-width: 4px;
      font-size: inherit;
      font-family: var(--ui-font);
      colors: cm, bd, 0;
    }
  }

  // Commits -> Show commit message.
  .text-expander {
    c: 0 bd bg;
    transition: 0.15s ease;
    &:hover { c: 0 0 bd }
    &.open {
      c: 0 ac ac;
      box-shadow: none;
      svg { v: white }
    }
    &:focus { outline: none }
  }

  // * Project :: Commit details page.
  // https://gitlab.com/vednoc/dark-gitlab/commit/9caacd40
  .commit-box {
    margin-bottom: 10px;
    padding: 8px;
    border: none;
    rad: r;
    colors: 0 0 bg;
    box-shadow: inner;
    [class*="-description"] {
      border-width: 4px;
      colors: cm bd 0;
    }
  }

  // * Project :: Branches.
  .all-branches {
    > .branch-item {
      padding: 8px;
      colors: 0, bd, 0;
      .branch-title a { colors: fg, 0, 0; }
      .branch-commit {
        colors: cm, 0, 0;
        .commit-sha { colors: fg 0 0 }
        time, .commit-row-message { colors: cm, 0, 0; }
      }
    }
    .btn.btn-remove { colors: white red red }
    .branch-commit .commit-row-message { colors: fg, 0, 0; }
    // Select next sibling and reset the colors.
    & + .card-footer.text-center {
      colors: fg, 0, t;
      a { colors: cm, 0, 0; }
    }
  }
  // Graph color.
  .divergence-graph {
    .graph-side [class*="bar"] { colors: 0, 0, cm; }
    .graph-separator { colors: 0, 0, cm; }
    [class*="count"] { colors: fg, 0, 0; }
  }
  // ? Active/Stale/All pages.
  [data-page="projects:branches:index"] {
    .row-content-block + .all-branches,
    .top-area.adjust + .all-branches {
      margin-top: 10px !important;
      rad: r;
      colors: 0, 0, bg;
      box-shadow: inner;
      li {
        transition: 0.1s ease;
        &:hover { colors: 0, 0, bd; }
        &:first-child { rad: r r 0 0; }
        &:last-child { rad: 0 0 r r; }
      }
    }
  }

  // * Project :: Tags.
  .tags > ul {
    margin-top: 10px;
    rad: r;
    colors: 0, 0, bg;
    box-shadow: inner;
    li.flex-row {
      padding: 10px;
      transition: 0.2s ease;
      .branch-commit {
        &, .js-timeago, .commit-row-message {
          colors: cm, 0, 0;
        }
      }
      .item-title.ref-name { colors: fg, 0, 0; }
    }
  }
  // * Project :: Tags -> Details.
  .multi-line .branch-commit {
    .commit-row-message { colors: cm, 0, 0; }
    .commit-sha { colors: ac, 0, 0; }
  }

  // * Project -> Contributors.
  [id*="contributors"] {
    .person .spark, .tint-box {
      rad: r;
      c: fg 0 bg;
      box-shadow: inner;
      .axis {
        .domain, line { v: 0 cm }
        text { v: fg }
      }
      // Graph colors.
      .area { v: green }
      .area-contributor { v: orange }
    }
  }

  // * Project -> Graph.
  .project-network {
    overflow: hidden;
    rad: r;
    c: 0 bd;
    .controls { c: 0 bd bd }
    // Graph background.
    .network-graph {
      v: red;
      c: 0 0 bg;
      // Hover over commit.
      > svg rect[rx*="4"][ry*="4"] {
        fill-opacity: 1 !important;
        v: bd t;
      }
      [d^="M165"], [d^="M185"], [d^="M195"] { v: bd 0 0 }
      // Text color.
      > svg text { v: fg 0 0 }
      // Sidebar.
      > svg rect[width*="40"], > svg rect[width*="30"] {
        stroke-width: 0;
        v: bd bd 0 0;
      }
    }
  }

  // * Global -> Modals.
  .modal, .modal-doorkeepr-auth {
    colors: 0 0 t;
    &-backdrop.show, &-backdrop {
      opacity: 0.9;
      colors: 0 0 bg;
    }
    .modal-content {
      border: none;
      rad: r;
      colors: 0 0 bg;
      box-shadow: inner !important;
      > :last-child { rad: 0 0 r r }
    }
    .modal-header {
      rad: r r 0 0;
      colors: 0 bd t;
    }
    .modal-body {
      colors: 0 0 t;
      // ? MR -> Merge with CLI instructions.
      pre {
        rad: r;
        colors: cm bd hl;
      }
      [class*="-subheader"] { colors: 0 bd 0 }
      // ? Shortcuts modal.
      .shortcut-mappings {
        th { colors: fg 0 0 }
        td { colors: cm 0 0 }
        kbd { colors: fg 0 bd }
      }
      // ? Board scope.
      .title { colors: cm, 0, 0; }
      .block + .block { border-top-color: bd; }
      // Actions in auth.
      .form-actions {
        rad: 0;
        colors: 0 0 t;
        border: none !important;
        box-shadow: 0 -1px bd;
      }
    }
    .modal-footer { colors: 0 bd t }
  }

  // * Global -> Close buttons.
  .close {
    transition: 0.15s ease;
    text-shadow: 0 1px 0 sh;
    &, &:hover, &:focus { colors: cm 0 0 }
    // Non-modal.
    &:not(:disabled):not(.disabled) .fa {
      text-shadow: 0 1px 0 sh;
      transform: translateY(-5px);
    }
  }

  // * Project -> Blame.
  [data-page*="projects:blame"] {
    .file-blame-legend { c: 0 bd bg }
    .blame table {
      rad: none;
      box-shadow: none;
      tr { c: 0 bd }
      tr:last-child > td::before { rad: 0 0 0 4px }
    }
    .blame-commit {
      position: relative;
      border-left: none !important;
      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 4px;
      }
    }
    // ? Custom colors!
    for i in 0..9 {
      .legend-box-{i},
      .blame-commit-age-{i}::before {
        colors: 0 0 green;
        opacity: s(("0.%s99"), i);
      }
    }
  }

  // * Project -> Various resets.
  .file-holder {
    .file-fork-suggestion { colors: 0, bd, bg; }
    .file-title a:not(.btn) { colors: fg 0 0 }
  }

  // * Project -> Last commit.
  .info-well {
    rad: r;
    colors: fg bd bg;
    > .well-segment {
      padding: 8px;
      colors: cm bd 0;
      a {
        color: ac;
        img { margin: 1px 8px 0 0 }
      }
    }
    // Deleted branch.
    .limit-box {
      rad: r;
      c: white 0 orange;
      svg {
        margin-top: 3px;
        v: white;
      }
      .fa { c: white }
    }
    // Resets.
    .branch-link { margin-bottom: 0 }
    .branches .fork-svg { margin: 3px 2px -3px 0 }
    .vertical-align-middle { vertical-align: middle }
  }

  // * GPG button.
  // TODO: Remove #sc after refactoring content lists.
  .gpg-status-box:not(#sc) {
    &.valid {
      c: green green bg;
      &:hover { c: white 0 green }
    }
    &.invalid, &.invalid:focus {
      c: cm bd bg;
      &:hover { c: 0 0 bd }
    }
  }

  // * Popover.
  .popover {
    font-family: var(--ui-font);
    rad: r;
    c: 0 bd bg;
    box-shadow: bsh;
    &-header { c: 0 bd hl }
    &-body {
      padding: 8px;
      c: fg;
      ../.blue { c: 0 0 blue }
    }
    // Blue popouts?
    .arrow {
      color: bg;
      ../.blue .arrow { c: blue }
    }
    &[class*="-top"] {
      .arrow::before { border-top-color: bd !important; }
      .arrow::after { border-top-color: inherit !important; }
    }
    &[class*="-bottom"] {
      .arrow::before { border-bottom-color: bd !important; }
      .arrow::after { border-bottom-color: inherit !important; }
    }
    &[class*="-left"] {
      .arrow::before { border-left-color: bd !important; }
      .arrow::after { border-left-color: inherit !important; }
    }
    &[class*="-right"] {
      .arrow::before { border-right-color: bd !important; }
      .arrow::after { border-right-color: inherit !important; }
    }
    .gpg-popover {
      &-icon.valid svg { c: 0 green; v: green; }
      &-icon.invalid svg { c: 0 red; v: red; }
      &-user-link { c: fg }
    }
    // Milestones.
    .milestone-popover-body { colors: 0, 0, t; }
    .milestone-popover-footer { colors: 0, bd, 0; }
  }

  // Popover -> Tour.
  .onboarding-helper-container {
    c: 0 0 bg;
    box-shadow: inner, 0 4px 8px 0 sh;
    .avatar {
      rad: 50% !important;
      c: 0 0 bd;
      box-shadow: inner;
    }
    .progress { c: 0 0 bd }
    .bg-info { c: 0 0 blue }
    .text-info { c: blue }
    .qa-toggle-btn {
      c: 0 0 t;
      &:hover svg { v: fg }
    }
    .active { c: 0 0 bd }
  }

  // * Commits -> Diff summary.
  .diff-files-changed {
    rad: r;
    padding: 8px;
    margin: 10px 0;
    border: 1px solid;
    colors: 0, bd, bg;
    // Wrapper.
    > .files-changed-inner {
      // Hide buttons on small resolution.
      .inline-parallel-buttons {
        @media (max-width: 885px) { display: none !important; }
      }
      // ? Git stats.
      .commit-stat-summary { colors: 0 0 t }
    }
  }
  // * Diff file.
  .diff {
    rad: r;
    // Collapsed file content.
    &-file .diff-content {
      rad: 0 0 r r;
      colors: fg, 0, bg;
      box-shadow: 0 -1px 0 0 bd;
      .btn-link { colors: ac 0 0 }
      // Gems/Packages/etc.
      .code .line a { color: ac; }
      // Inline diffs.
      .idiff { c: fg }
      .new .idiff, .idiff.addition { c: 0 0 green }
      .old .idiff, .idiff.deletion { c: 0 0 red }
    }
    // ? Fix borders on expanded sections.
    &-expanded { & > td, & + :not(&) > td { colors: 0, bd, 0; }}
  }

  // * Diff -> Image.
  .diff-file {
    .image { c: 0 0 t }
    .frame {
      c: 0 0 bd;
      // Added/removed images.
      &.deleted { c: 0 red }
      &.added { c: 0 green }
      // Broken image.
      img {
        background: none !important;
        c: fg t 0;
      }
    }
    .view-modes {
      c: 0 0 t;
      ul li[class] {
        c: cm bd;
        text-decoration: none;
        transition: 0.15s ease;
        &:hover { c: fg }
        &.active { c: ac }
      }
    }
  }
  // * Diff -> Add note.
  .note-container {
    border: none;
    c: 0 bd t;
    box-shadow: 0 -1px bd;
    // Reply background.
    .new-note, .discussion-notes { c: 0 t }
  }
  /* Text color. */
  .branch-info > span {
    color: fg !important;
  }

  // * Timeline content.
  .timeline-entry {
    colors: fg, bd, t;
    &.outlined { colors: 0, 0, bg; }
    // Entry borders.
    .timeline-entry-inner { colors: 0, bd, 0; }
    // Highlighted entry.
    &:target, &.target { &:not(#sc) { c: 0 0 hl }}
    // Fix button background.
    .note-action-button { colors: 0, 0, t; }
    // Alerts -> Command alerts.
    .flash-container .flash-notice { colors: white 0 blue }
    // Confidential issue warning.
    .new-note .issuable-note-warning {
      padding: 6px 8px 4px;
      rad: r r 0 0;
      colors: orange bd bg;
      svg.icon { v: orange }
      // Reset corners in confidential issues.
      + .md-area { rad: 0 0 r r }
    }
  }

  // Notes -> Note.
  .note {
    // Notes on commits.
    &:not(.system-note) { colors: 0 0 bg }
    // Profile links.
    .note-headline-light { c: cm }
    .note-headline-meta .system-note-separator {
      text-decoration: none !important;
      time { color: cm }
    }
  }

  // Notes -> Discussion.
  .discussion {
    &-header { c: 0 yellow } // Seems to no longer be necessary.
    &-headline-light { c: cm }
    .timeline-entry {
      rad: 0;
      &:target, &.target {
        c: 0 0 hl;
        box-shadow: inset 0 1px bd, inset 0 -1px bd;
      }
      &:first-child { rad: r r 0 0 }
    }
    .discussion-wrapper {
      rad: r;
      // Show/hide replies.
      .replies-toggle {
        c: cm bd hl;
        &:not(.expanded) { border-bottom: 0 }
        &.collapsed { rad: 0 0 r r }
        span { c: cm }
      }
    }
  }
  // * Notes.
  .notes {
    colors: 0 0 t;
    // Connectors.
    &::before {
      border-left-width: 1px !important;
      c: 0 bd;
    }
    // Overwriten by user-link styles.
    a, a:hover { colors: ac 0 0 }
    // ? MR -> Notes -> Suggestions.
    .md-suggestion-header {
      rad: r r 0 0;
      colors: fg, bd, bg;
      + table.code { rad: 0 0 r r; }
    }
    .md-suggestion-diff { c: 0 bd }
    span > code:not([class]) { c: 0 0 bd }
    // Added/removed/changed things in discussions.
    .idiff {
      padding: 0 1px;
      rad: 3px;
      c: 0 0 hl;
      &.addition { c: green }
      &.deletion { c: red }
    }
  }

  // * Issues :: Conversation notes.
  [id^="notes"] {
    // ? Note background, avoid system notes and forms.
    .notes.timeline > .timeline-entry:not(.system-note):not(.note-form) {
      border-radius: r;
      background-color: bg !important;
    }
    // Icon.
    .system-note .timeline-icon {
      border: 1px solid bd;
      background-color: bg;
    }
    // ? Issue description.
    .detail-page-description > script + div {
      padding: 8px;
      border-radius: r;
      border: 1px solid bd;
      background-color: bg;
    }
  }

  // * Global -> Markdown input area.
  .common-note-form .md-area {
    padding: 0;
    rad: r;
    colors: 0, bd, bg;
    &.is-focused {
      colors: 0 ac 0;
      box-shadow: none !important;
    }
    // Header.
    .md-header {
      &-tab {
        button[class] {
          border-width: 1px !important;
          c: cm bd;
          &:hover { c: fg ac }
          ../.active button { c: fg ac }
        }
      }
      > ul.nav-links {
        rad: 0;
        margin: 0;
        padding: 8px 0 0 0 !important;
        border-bottom: none;
        c: 0 bd t;
        box-shadow: inset 0 -1px bd;
      }
    }
    // Input area.
    .markdown-area {
      padding: 8px;
      font-family: var(--mono-font);
      c: fg bd t;
    }
    .md-preview-holder { padding: 8px }
    // When you use commands.
    .referenced-commands { colors: 0, 0, bd; }
    .comment-toolbar {
      padding: 8px;
      c: cm bd 0;
    }
  }
  // Edited text color.
  .edited-text { color: cm }

  // * Markdown area.
  .md {
    colors: fg, bg, 0;
    a { colors: ac, 0, 0; }
    h1, h2 { colors: 0, bd, 0; }
    // Hack for anchors reported in #61.
    for i in 1..6 {
      h{i} > a.anchor[href] {
        left: 0px;
        margin: 0 0 0 -10px;
        position: relative;
        font-size: 1rem;
        &::after { content: "#" }
      }
    }
    hr { colors: 0 bd 0; }
    kbd {
      border: 1px solid;
      c: cm bd bd;
      box-shadow 0 1px 0 sh, inset 0 0 0 2px bg !important;
    }
    pre {
      &:not([class]) {
        rad: r;
        c: fg bd hl;
        code { colors: 0 t t }
      }
      &.code {
        rad: r;
        colors: 0 bd hl;
      }
    }
    caption { c: cm }
    mark { c: white 0 ac }
    p, a, :not(pre) { > code { colors: fg bd bd }}
    blockquote:not(#sc) {
      c: cm bd;
      border-left: 4px solid;
      &[dir] p, > div p { c: cm }
    }
    img:not(.emoji) {
      border: none;
      c: ac bd bg;
      transition: 0.15s ease;
      opacity: faded_img;
      &:hover { opacity: 1; }
    }
    ul, ol { ul, ol { margin-bottom: 0 !important }}
    // Fullscreen mode.
    &-area .zen-backdrop.fullscreen {
      c: 0 0 bg;
      textarea { c: fg 0 t }
    }
  }

  // * Left sidebar.
  .nav-sidebar {
    colors: 0, 0, bg;
    box-shadow: 1px 0 0 0 bd;
    .divider { colors: 0, bd, 0; }
    // Hide scrollbar.
    ::-webkit-scrollbar { display: none !important; }
    // Links.
    li a, .context-header > a {
      colors: fg, 0, 0;
      &:hover, &:focus { c: 0 0 hl }
    }
    // ? Fix overflow and height on Firefox.
    .nav-sidebar-inner-scroll {
      height: calc(100% - 48px);
      overflow-x: hidden !important;
      > ul.sidebar-top-level-items { margin-bottom: 0; }
    }
    // ? Styles for submenus.
    .nav-sidebar-inner-scroll > ul.sidebar-top-level-items {
      // Active submenu.
      > li.active:not(.fly-out-top-item) {
        colors: 0, 0, t;
        box-shadow: inset 4px 0 bd, inset 1px 0 0 1px bd;
        // Group name.
        > a {
          transition: 0.15s ease;
          colors: ac, 0, 0;
          svg { v: ac }
        }
        // Active list items.
        .sidebar-sub-level-items li:not(.fly-out-top-item) {
          transition: 0.15s ease;
          &.active, &:hover {
            c: cm 0 hl;
            box-shadow: inset 4px 0 ac;
            // Remove unnecessary background.
            a { colors: fg, 0, t; }
          }
        }
      }
      // Fly-out menu.
      > li:not(.fly-out-top-item).is-showing-fly-out .sidebar-sub-level-items {
        rad: 0 r r 0;
        colors: 0, bd, bg;
        box-shadow: 2px 2px 2px 0 sh;
      }
      > li {
        &.is-over > a { c: 0 0 hl }
        &:hover, &.active { .badge.badge-pill { c: fg }}
        .badge.badge-pill { min-width: 20px }
      }
      // Remove unnecessary margin on items.
      a {
        margin-right: 0;
        transition: 0.15s ease;
      }
    }
    // ? Resets for collapsed sidebar.
    &.sidebar-collapsed-desktop {
      ul.sidebar-top-level-items > li.active:not(.fly-out-top-item) {
        colors: 0, 0, bd;
        box-shadow: inset 4px 0 ac !important;
      }
      ul.sidebar-sub-level-items > li:not(.fly-out-top-item) {
        box-shadow: none !important;
      }
    }
    // ? Collapse button.
    .close-nav-button,
    .toggle-sidebar-button {
      width: 100%;
      transition: 0.15s ease !important;
      colors: 0, bd, bg;
      &:hover { c: 0 0 hl }
      .collapse-text {
        transition: 0.15s ease;
        c: fg;
      }
    }
  }

  // * Right sidebar.
  .right-sidebar {
    colors: 0, bd, bg;
    // Separators.
    .block, .gutter-toggle { colors: 0, bd, 0; }
    // ! Fix buttons for #52. @upstream
    .btn-link {
      line-height: 16px;
      text-transform: capitalize;
      &[class*="-date-"] { margin-top: -2px }
      &[class*="-remove"] { colors: red 0 0 }
    }
    abbr.value-type-dynamic {
      colors: cm 0 0;
      text-decoration: underline;
    }
    // Progress in milestones.
    .progress { colors: 0, 0, bd; }
    // Text color.
    a:not(.btn):hover { colors: ac 0 0 }
    .no-value, .sidebar-collapsed-icon { colors: fg, 0, 0; }
    .title {
      colors: cm, 0, 0;
      // Edit buttons.
      > a, > button { colors: cm, 0, 0; }
    }
    // Adjust sidebar width.
    &.right-sidebar-collapsed {
      &, .block { width: 50px }
      .block:hover { c: 0 0 hl }
      .gutter-toggle { height: 55px }
    }
    .issuable-sidebar-header { height: 55px !important }
    // Expanded state should take more available space.
    &.right-sidebar-expanded .issuable-sidebar {
      padding: 0 16px;
      .block {
        width: 100%;
        max-width: 264px;
      }
    }
    // Wiki -> Sidebar.
    &.wiki-sidebar {
      a { c: fg }
      .active a { c: ac }
    }
  }

  // * Project :: Wiki.
  [data-page*="wikis:show"] #content-body {
    // Wiki sidebar.
    .right-sidebar.wiki-sidebar {
      a { color: fg; }
      a:hover { color: ac; }
      .active > a { color: ac; }
    }
    // Text colors.
    .wiki-last-edit-by {
      colors: cm, 0, 0;
      > strong { colors: fg, 0, 0; }
    }
  }

  // * Markdown -> Mermaid.
  .mermaid {
    // #21.
    /:not(.file-content) > .mermaid {
      padding-bottom: 10px;
      rad: r;
      c: 0 0 bg;
      box-shadow: inner;
    }
    // Boxes.
    rect.actor { v: bd, bd; }
    text.actor { v: fg, 0; }
    // Connectors.
    .actor-line { v: 0, bd; }
    // Notes.
    .note { v: bd, ac; }
    .noteText, .noteText tspan { v: cm, 0; }
    // Lines.
    .message {
      &Text { v: cm, 0; }
      &Line0 { v: 0, bd; }
    }
    // #65.
    .edgePath path { v: 0 bd }
    .edgePath .arrowheadPath { v: bd bd }
    .node { rect, ellipse, polygon { v: bg bd }}
    .label { c: fg; }
    .label { rect { v: bd bd }}
  }

  // * Project :: Project/group home panel.
  .project-home-panel, .group-home-panel {
    colors: 0 t 0;
    // Text color.
    .text-secondary { colors: cm 0 0; }
    // Remove button backgrounds.
    .js-read-more-trigger { colors: ac, 0, t; }
    // Metadata text color.
    .project-metadata * {
      colors: cm, 0, 0;
      // Reset license button.
      &.project-license .btn { colors: 0 0 t }
    }
    // Project tags.
    .home-panel-topic-list {
      colors: 0, bd, 0;
      // Fix line height.
      .text-nowrap { line-height: 22px !important; }
      svg.icon { margin-top: 4px !important; }
      .badge:hover { colors: fg, 0, bd; }
    }
    // ? Repo stats.
    .project-stats {
      .add-license-link, .stat-link { c: cm }
      .project-stat-value { c: fg }
      .nav > .nav-item:first-child { margin-left: 0 }
    }
    // ? Repo buttons.
    .project-repo-buttons {
      .count-badge, .btn-xs { height: 34px; }
      .count-badge {
        .star-count, .count { colors: fg 0 0 }
        &-count { c: 0 bd hl }
        &-button {
          font-size: 14px;
          c: fg bd bg;
          &:hover { c: 0 0 hl }
        }
      }
      .clone-dropdown-btn {
        font-size: 14px;
        c: white blue blue;
        svg { v: white 0 }
        &:focus { opacity: 0.6 }
      }
    }
  }
  // ? Default buttons.
  .project-buttons {
    // margin: 0;
    .nav {
      .btn { margin-top: 10px }
      // "Auto DevOps enabled" and possibly other buttons.
      .stat-text {
        margin-top: 10px;
        colors: cm bd bg;
      }
    }
  }

  // * Arrows.
  // ? Old GitLab design.
  .count-with-arrow {
    .count { colors: 0, bd, bg; }
    .arrow::before { border-right-color: bd !important; }
    .arrow::after { border-right-color: bg !important; }
  }
  // * Remove unnecessary whitespace.
  .project-home-panel {
    // Separate title from repo buttons.
    .home-panel-title-row { margin-bottom: 8px }
    // Badges.
    .project-badges {
      margin: 8px 0;
      a[class] {
        margin: 0;
        display: inline-flex;
        &:not(:last-child) { margin-right: 6px }
      }
    }
    // Project description.
    .project-home-desc, .project-description > div > p { margin: 0 0 10px 0 !important; }
    // Buttons under badges.
    .project-repo-buttons {
      // Reset margins on all items.
      > div { margin: 0; }
      // Apply margins on the child elements.
      // ? Inline is needed for specificity.
      > div > div:not(:last-child), > div > .inline { margin: 0 8px 8px 0 !important; }
      // Right margin for buttons.
      .project-action-button { margin: 0 !important; }
    }
  }
  // * Separator.
  .project-stats {
    border-bottom: none;
    colors: 0, bd, 0;
    // ? Reset background-color on project page.
    .progress { colors: 0, 0, t; }
  }
  // Language bar.
  .progress.repository-languages-bar {
    background-color: t !important;
    .progress-bar {
      rad: 8px;
      // ? Fixes buggy bar in `.../vednoc/better-comments` repo.
      flex-grow: 1;
      // Apply right margin to all but the last child.
      &:not(:last-child) { margin: 0 4px 0 0 !important; }
      // Crystal language color.
      &[style$="#776791"] { background: #000000 !important; }
    }
  }

  // * Project :: Settings.
  .settings {
    border-bottom-color: bd;
    // ? Fix border colors.
    + .settings { colors: 0, bd, 0; }
    // ? Standalone sections i.e. under Advanced.
    .sub-section {
      rad: r;
      colors: 0, bd, bg;
    }
    .project-visibility-setting {
      rad: r r 0 0;
      colors: fg, bd, bg;
    }
    .project-feature-settings {
      rad: 0 0 r r;
      colors: 0, bd, bg;
    }
    // Protected branches/tags/envs.
    &-content {
      [class^="protected-"] {
        > .table-bordered { border: none }
        > .card-header {
          rad: r r 0 0;
          colors: fg bd hl;
          box-shadow: inner;
          + .settings-message {
            margin-top: -2px;
            rad: 0 0 r r;
            box-shadow: inner;
          }
        }
      }
    }
  }
  // ? Service Desk -> Forward...
  #js-service-desk .card-header {
    rad: r;
    colors: orange, bd, bd;
    h3 {
      margin: 0.75rem 0;
      font-size: 1.0rem;
    }
  }

  /* Commit button. */
  .commit-sha-group .label,
  .commit-sha-group .btn {
    color: fg;
    border-color: bd;
    background-color: bg;
  }
  /* Fix background in upload files. */
  .commit-message-container { background: none; }
  /* Dropzone! */
  .blob-upload-dropzone-previews { border-color: bd; }

  // * Project -> Badges.
  .project-badge { transition: 0.15s opacity ease }
  [src*="for-the-badge"] { rad: r; }
  span.badge, button.badge, div.badge {
    // Remove unnecessary underline.
    &.color-label { text-decoration: none !important; }
    // Apply everywhere except on specific badges.
    &:not(.badge-pill):not(.color-label):not(.badge-verification-status) {
      c: white;
    }
    // Hack for darkening background color.
    &:not(.badge-pill):not(.available):not(.badge-verification-status) {
      // transition: 0.15s ease;
      box-shadow: inset 0 0 0 1rem #33333370;
      &:hover { box-shadow: none; }
      &[style*="color: #333333"] {
        color: #000000 !important;
        box-shadow: inset 0 0 0 1rem #33333325;
      }
    }
  }

   // * Project -> Readme.
  .file-holder {
    rad: r;
    colors: 0, bd, bg;
    &.readme-holder .file-title strong { font-weight: normal }
    // ? Header.
    .file-title {
      // @upstream https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/25648
      border-top: 1px solid;
      &, &-flex-parent {
        rad: r r 0 0;
        colors: 0 bd hl;
        &.is-commit { min-height: 52px }
        // Buttons w/o `button-default` class.
        a { color: unset }
        .btn {
          font-size: inherit;
          padding: 2px 10px;
          c: cm 0 0 0;
        }
        // Diff -> Renamed file names. #43
        .idiff {
          &.addition { colors: green 0 t }
          &.deletion { colors: red 0 t }
        }
      }
    }
    // ? Body.
    .file-content {
      colors: 0 0 t;
      &.blob-no-preview h4 { text-shadow: none }
      // @upstream
      &.code pre { rad: 0 }
    }
  }

  // * Wiki.
  // NOTE: Deprecated.
  .wiki:not(.use-csslab) {
    color: fg;
    a { color: ac !important; }
    h1, h2 { colors: cm, bd, 0; }
    > p > code { border: 1px solid bd !important; }
    blockquote, .blockquote {
      padding: 8px 16px;
      border-left-width: 4px;
      colors: fg, bd, 0;
      // Second rule solves blockquote weirdness in issues.
      p, * > p { colors: cm, 0, 0; }
    }
    pre { rad: r; }
    pre, code { colors: cm, bd, bg; }
    img:not(.emoji) {
      border: none;
      rad: r;
      colors: 0, bd, bg;
    }
    kbd {
      colors: ac, bg, sh;
      box-shadow: none;
    }
  }

  // * Project -> File table.
  .table-holder {
    border: none;
    // Project -> File table.
    .tree-table tr.tree-item {
      // Reset borders.
      > td {
        // border: none !important;
        transition: 0.15s ease;
        &:not(:first-child) { border-left: none !important }
        &:not(:last-child) { border-right: none !important }
      }
      &:last-child { border-bottom: none }
      &:hover, &.selected { > td { c: 0 0 hl }}
      // All text colors.
      * { c: fg }
    }
    // ? Fixes `pre` element on project/pages/domains page.
    tbody pre { colors: cm, bd, bg; }
  }

  // Text dividers.
  .middle-dot-divider::after { color: cm; }
  /* Fix master/history/find file/web ide section when low-resolution. */
  @media (max-width: 740px) {
    .nav-block {
      flex-direction: column;
    }
  }

  // * Profile -> Core styles.
  .user-profile {
    // User info cover.
    .cover-block {
      colors: 0 0 bg;
      box-shadow: inset 0 -1px bd;
      [class*="fade-"] { border: none }
      .cover {
        &-title, &-desc { c: fg }
        &-status { padding: 8px 0 4px }
      }
    }
    // ? Calendar in activity. @obsolete
    #activity > .row-content-block { colors: 0, bd, bg; }
    // ? Overview -> Adjust whitespace between panes.
    .row {
      @media (min-width: 980px) {
        .col-12 .append-bottom-default { margin-bottom: 0; }
        .col-lg-6:first-child { padding-right: 3px; }
        .col-lg-6:last-child { padding-left: 3px; }
      }
    }
    // ? Reset items and loader height.
    .overview-content-list {
      a { c: fg }
      > .loading {
        &, > .loading {
          margin: 0 auto !important;
          height: 50px;
        }
      }
      // @obsolete
      .projects-list { border: none }
    }
  }

  // * Profile -> Contribution calendar.
  .calendar {
    &-hint { c: cm }
    svg.contrib-calendar > g {
      text { v: fg }
      rect { v: ac }
      rect[fill="#ededed"] { opacity: 0.05 }
      rect[fill^="rgb(17"] { opacity: 0.20 }
      rect[fill^="rgb(12"] { opacity: 0.45 }
      rect[fill^="rgb(82"] { opacity: 0.70 }
      rect[fill^="rgb(37"] { opacity: 1 }
    }
  }

  // Empty block.
  .nothing-here-block {
    padding: 8px;
    c: fg;
  }

  // * Profile -> Overview.
  .user-profile {
    // Sections.
    [class*="col-"] > [class*="-block"] {
      margin-top: 16px;
      border: 1px solid bd;
      rad: r;
      c: 0 0 bg;
      // Reset blocks. @upstream
      > div {
        margin-top: 0;
        h4, h5 {
          font-weight: normal;
          font-size: 1rem !important;
        }
      }
      // ! @obsolete
      > [class*="-block"] {
        padding: 0.1px;
        h4, h5 { padding: 0 8px }
        + .prepend-top-10 { padding: 0 8px }
        // Hide "activity" border.
        &:first-child { colors: 0 t 0 }
      }
      // Improve empty list.
      .border-bottom {
        padding: 0 8px;
        rad: r r 0 0;
        colors: 0 t hl;
        + div {
          min-height: 32px;
          border-top: 1px solid bd;
        }
      }
    }
    // ? Content list items.
    .event-item {
      c: cm bd;
      transition: 0.15s ease;
      padding: 8px 8px 8px 40px !important;
      @media (max-width: 575px) { padding-left: 8px !important }
      .system-note-image { left: 8px }
      .event-title { c: cm }
      .event-body * { c: fg }
      &:first-child { rad: r r 0 0 }
      &:last-child { rad: 0 0 r r }
      &:hover { c: 0 0 hl }
    }
    // Contributions for the selected day.
    .user-calendar {
      padding: 8px !important;
      &-activities {
        .bordered-list li { padding: 8px }
        h4 { &, & + p { padding: 8px }}
      }
    }
  }

  // * Project :: Cycle Analytics.
  #cycle-analytics {
    // Introduction.
    .landing { colors: 0, bd, bg; }
    // Colors.
    .stage-nav {
      .stage-nav-item {
        position: relative;
        colors: fg, bd, bg;
        // Indicator.
        &::before {
          content: "";
          position: absolute;
          top: 0; left: 0; bottom: 0;
          width: 4px;
          ../:last-child::before { rad: 0 0 0 r }
        }
        // Hover event.
        &:hover:not(.active), &.active {
          colors: 0 bd bg;
          box-shadow: none;
          &::before { colors: 0 0 ac }
        }
        // Hide double borders.
        &, &.active, &:hover:not(.active) { border-top-color: t !important }
        // Median.
        .stage-empty, .not-available { color: cm; }
        &:last-child { rad: 0 0 0 r !important }
      }
    }
    // Related issues.
    .stage-event-item {
      colors: cm, bd, 0;
      .total-time { &, span { colors: cm 0 0 }}
      .issue-link, .issue-date, .build-date { colors: cm, 0, 0; }
      .item-title a { colors: fg, 0, 0; }
    }
  }

  // * Project -> Insights.
  .insights-charts {
    .chart-canvas-wrapper {
      margin-top: 10px;
      rad: r;
      colors: 0 0 bg;
      box-shadow: inner;
    }
  }

  // * Dashboard -> Sub-nav block.
  .row-content-block {
    margin-top: 10px !important;
    padding: 0px;
    rad: r;
    border: 0px solid bd;
    colors: cm 0 t;
    &.middle-block { margin-bottom: 10px }
    // Same as down below; probably outdated.
    &.white {
      border: 1px solid bd;
      background-color: bg;
    }
    time { color: cm }
    // * Global -> *You pushed to...*
    > .event-last-push {
      padding: 8px;
      rad: r;
      colors: 0 0 bg;
      // Smol button is no-no.
      .btn { padding: 8px }
    }
  }
  /* Sub-header found in compare branches. */
  .sub-header-block {
    border-color: bd;
    background-color: transparent;
    // Commits list.
    + .card {
      border-radius: r !important;
      ul > li:last-child { rad: 0 0 r r; }
    }
  }
  // Sticky file name.
  .diff-file .is-compare { top: calc(91px - var(--radius)) !important }
  // * Project -> Compare.
  [class*="card"] {
    // Nothing to compare.
    &.bg-light {
      colors: 0 0 bg;
      box-shadow: inner;
    }
    // Reset whitespace.
    > .content-list > li {
      padding: 6px 8px 6px 6px;
      transition: 0.15s ease;
    }
  }
  /* Text color. */
  .issuable-milestone,
  .issuable-info,
  .task-status,
  .issuable-updated-at {
    color: var(--light) !important;
  }
  /* Email button. */
  .issuable-email-modal-btn {
    color: var(--accent);
  }
  /* Merged/closed. */
  .merge-request.merged,
  .issue.merged,
  .merge-request.closed,
  .issue.closed {
    border-color: var(--darker);
    background-color: var(--dark);
  }
  // ? New issues.
  .issue.today {
    colors: 0, 0, t;
    box-shadow: none;
    &:hover { colors: 0 0 bd }
    &::before {
      content: "";
      border-left: 4px solid ac;
      position: absolute;
      top: 0; left: 0; bottom: 0;
    }
  }
  // ? Rounded corners for first list item.
  .issuable-list > li:first-child::before { rad: r 0 0 0; }

  // * Dashboard -> Activity.
  .activities {
    c: 0 t;
    // @upstream
    > .is-smaller { width: 100% }
    // Fix RSS icon.
    .controls {
      top: 0;
      right: 8px;
      margin: 14px -2px 0 0;
      position: absolute;
      @media (max-width: 740px) { display: none !important; }
    }
  }

  // * Dashboard :: Operations.
  .operations-dashboard {
    // Remove extra padding.
    > nav, > div { padding: 0 !important; }
    // "Search your projects" margin fix.
    .page-title-holder {
      margin-top: 16px;
      .append-bottom-default { margin-bottom: 0px !important; }
    }
    // Add projects.
    .tokenized-input-wrapper {
      rad: r;
      &.focus { box-shadow: 0 0 1px 1px ac !important; }
      .tokenized-input { colors: fg, 0, t; }
      .input-token, .tokenized-input-token-remove { colors: 0, 0, bd; }
    }
    // Cards.
    .card {
      rad: r;
      box-shadow: inner;
      .card-header { rad: r r 0 0; }
    }
    // * Skeleton.
    .dashboard-cards {
      .bg-light { colors: 0 0 bd }
      .dashboard-card-skeleton-info::after {
        background-image: linear-gradient(to right, t 0%, bg 50%, t 100%)
      }
    }
    // Modals -> Add projects.
    #add-projects-modal .project-list-item {
      colors: 0 0 t;
      &:hover {
        colors: fg 0 bd;
        .identicon { colors: 0 0 bg }
      }
    }
  }

  // * Dashboard :: Issues/MR page.
  [class$="-filters"] + .card {
    colors: 0, t, t;
    // List.
    .issuable-list {
      margin-top: 10px !important;
      rad: r;
      border: 1px solid;
      colors: 0, bd, bg;
      // Round corners.
      li {
        &:first-child { border-radius: r r 0 0; }
        &:last-child { border-radius: 0 0 r r; }
      }
      // Remove right padding on issues/merge requests page.
      .issuable-info-container { padding-right: 0; }
    }
  }

  // * Dashboard :: Todos page.
  .js-todos-all .card {
    margin-top: 10px;
    rad: r;
    colors: 0, 0, t;
    // List wrapper.
    .todos-list {
      rad: r;
      border: 1px solid;
      colors: 0, bd, bg;
      // List items.
      .todo {
        border: none;
        // Reset borders and round corners.
        &:not(:first-child) { border-top: 1px solid bd; }
        &:first-child { border-radius: r r 0 0; }
        &:last-child { border-radius: 0 0 r r; }
      }
    }
  }

  // * Issues -> Similar issues list.
  .issue-form .list-unstyled {
    padding: 8px;
    rad: r;
    colors: 0 0 bg;
    box-shadow: inner;
    .suggestion {
      colors: ac 0 0;
      &-state-open { v: green 0 }
      &-state-closed { v: red 0 }
    }
  }

  // * Issues :: Search or filter results.
  .filtered-search-box {
    rad: r;
    colors: 0, bd, bg;
    &.focus { &, &:hover { colors: 0 blue 0; box-shadow: none; }}
    // Fix corners.
    [class*="history-dropdown-toggle-button"] { rad: r 0 0 r }
    &-input-container .filtered-search { rad: 0 r r 0 }
    .btn-link { colors: cm 0 0 }
    // Search field.
    .form-control { colors: fg, t, 0; }
    // Search field words.
    .name { color: fg; }
    // Search field button.
    .clear-search {
      rad: r;
      colors: 0 0 bg
    }
    // Search tokens (labels).
    .selectable {
      margin-right: 8px;
      rad: 2px;
      box-shadow: inner;
      .name { c: cm 0 hl }
      .value-container {
        margin-right: 0;
        c: fg 0 bd;
      }
    }
    .filtered-search-token > .name { c: fg 0 bd }
  }

  // * Issues :: Details.
  .detail-page-header { c: fg bd }
  .issuable-details .content-block { c: fg t }

  // * Epics -> Wrapper.
  .epic-page-container {
    // Remove extra padding.
    .issuable-details {
      padding: 0;
      colors: 0, t, 0;
      // Remove margin.
      .card-slim { margin-bottom: 0px; }
    }
    // Reactions wrapper.
    + .content-block { colors: 0 t 0; }
  }
  // Time tracking.
  .time_tracker {
    .progress .bg-primary { colors: 0 0 blue }
    .compare-label { colors: cm 0 0 }
    .compare-value { colors: fg 0 0 }
    .time-tracking-help-state { colors: 0 bd bg }
  }
  // Edited.
  // ? Contains styles for milestone elements; find a better place.
  .detail-page-description {
    .title, &.milestone-detail { colors: fg, bd, 0; }
    .edited-text, .edited-text * { colors: cm, 0, 0; }
  }

  // * Issues -> Related issues.
  .related-issues-block {
    margin-top: 16px;
    .card-slim {
      border: 1px solid bd;
      .card-header { c: 0 0 hl }
    }
    // Issue metadata.
    .item-body {
      // Link to the issue.
      a.sortable-link { colors: fg, 0, 0; }
      // Milestone/weight/etc.
      .item-weight span, .path-id-text { colors: cm, 0, 0; }
    }
    // Search Box
    input { colors: fg, 0, bg; }
    // Tokens.
    .issue-token {
      rad: 2px;
      box-shadow: inner;
      &-reference { c: fg 0 bd }
      &-remove-button { c: 0 0 t }
    }
  }
  // Related merge requests.
  #merge-requests > .card-header { c: 0 0 hl }
  // Badges.
  .issue-count-badge, .mr-count-badge { c: 0 bd bg }
  .related-items-list {
    .path-id-text, .item-path-id { colors: fg, 0, 0; }
    .open { v: green }
    .closed { v: red }
  }
  // Epic Related Issues
  .sortable-container { background-color: bd; }

  // Notes.
  .note-text pre {
    rad: r !important;
  }
  // ? Fixes missing bottom border for code.
  .notes .note-text > p:last-child { padding-bottom: 1px !important; }

  // * Global -> Cards.
  .card, .card-slim {
    rad: r;
    colors: 0 bd bg;
    .card-header {
      rad: r r 0 0;
      colors: fg bd hl;
      .badge-pill { c: 0 0 bg }
    }
    .card-body {
      padding: 8px;
      colors: 0 0 t;
      .text-plain { colors: cm 0 0 }
      // Reset actions on `user/project/pages` page.
      .form-actions { margin: 0 !important }
    }
    .card-footer {
      padding: 8px;
      rad: 0 0 r r;
      colors: 0 bd t;
    }
    .card-body, .card-footer {
      pre {
        font-family: var(--mono-font);
        rad: r;
        colors: cm bd bg;
      }
    }
    // ? Project -> Releases.
    &.linked-card {
      .badge.badge-pill { colors: fg, 0, 0; }
      &::after {
        border: none;
        border-left: 1px solid bd;
      }
    }
    // Items on hover.
    > ul > li { &:hover, &.done-reversible { c: 0 0 hl }}
    // Project -> Pages.
    &.border-danger {
      c: 0 red;
      .card-header { c: 0 red hl }
    }
  }

  // * Emoji menu.
  .emoji-menu {
    rad: r;
    colors: 0 bd bg;
    box-shadow: 0 4px 8px 0 sh;
  }

  // * Auto-complete menu.
  .atwho-view {
    rad: r;
    colors: cm bd bg;
    box-shadow: bsh;
    .atwho-view-ul {
      li {
        colors: fg 0 0;
        // Matching text.
        strong { colors: ac 0 0 }
        // Light text.
        small, .params { colors: cm 0 0 }
        // Selected.
        &:hover, &.cur { colors: fg 0 bd }
      }
    }
  }

  // * Boards -> Wrapper resets.
  .boards-list {
    padding: 10px 16px !important;
    height: calc(100vh - 134px);
    .board {
      transition: 0.15s ease;
      padding: 0 !important;
      &:not(:first-child) { padding-left: 8px !important }
      &-title-caret:hover { colors: 0 0 bd }
      // Whitespace for the last card.
      .board-card:last-child { margin-bottom: 8px !important }
      &-inner.rounded { rad: r !important }
      // Welcome/promos.
      &-blank-state, &-promotion-state {
        rad: 0 0 r r;
        colors: 0 0 bg;
      }
    }
  }

  // * Boards -> Base styles.
  .issue-boards-content {
    // Fullscreen.
    &.is-focused {
      colors: 0, 0, bg;
      // Fix list height.
      .boards-list { height: calc(100vh - 45px) }
    }
    // Reset search bar.
    .row-content-block {
      margin: 0 16px;
      // Fix search box.
      .filtered-search-box { rad: 3px }
    }
    // Board colors.
    .board-inner {
      colors: 0, bd, bg;
      // Board header.
      .board-title { colors: fg, bd, 0; }
      // Empty, default boards.
      [class$="-state"] { colors: fg, 0, bg; }
      // Showing all issues.
      .board-list-count,
      .board-title-sub-text {
        colors: cm, 0, 0;
      }
    }
    .issue-count-badge {
      colors: 0, bd, 0;
    }
    // Weight cards.
    .board-card-weight { colors: cm, 0, 0; }
    // Fix sidebar gutter close svg. #46 @upstream
    .gutter-toggle {
      padding-right: 10px;
      svg { width: 11px; }
    }
  }

  // * Boards -> Cards.
  // ? They turn into a tooltip once dragged so we must style them here.
  .board-card {
    c: 0 bd bg;
    box-shadow: 0px 1px 2px 0 sh;
    transition: 0.15s ease;
    &:hover {
      c: 0 ac 0;
      box-shadow: 0px 2px 4px 0 sh;
    }
    // Text color.
    .board-card-title a { color: fg; }
    .board-card-number { color: cm; }
    // Assignee background.
    .board-card-assignee:hover a { colors: 0, 0, t; }
  }

  // Boards -> Resets.
  .board {
    // Fix issues block.
    &.is-collapsed .issue-count-badge { c: 0 0 t }
    // Drag'n'drop boards.
    > .board-inner {
      colors: 0, bd, bg;
      .board-title { border-bottom-color: bd; }
    }
  }

  // * Boards -> Add issues.
  .add-issues-container {
    rad: r !important;
    c: 0 0 bg;
    box-shadow: bsh;
    .add-issues-list .board-card {
      box-shadow: bsh;
      &.is-active { c: 0 ac }
    }
    .issue-card-selected {
      v: white;
      c: 0 ac ac;
    }
    // Reset styles.
    .add-issues-header {
      padding: 16px;
      rad: r r 0 0;
      c: 0 0 hl;
    }
    .nav-links {
      rad: r;
      box-shadow: inner;
    }
    .add-issues-footer {
      padding: 16px;
      rad: 0 0 r r;
      c: 0 0 hl;
    }
  }

  // * Issues :: Labels.
  .labels-container {
    padding: 0px;
    colors: 0, 0, t;
    // List.
    .manage-labels-list > li:not(.empty-message) {
      &:not(.no-border) {
        border: 1px solid bd !important;
        box-shadow: none !important;
      }
      &:not(.is-not-draggable) {
        margin-bottom: 8px;
        rad: r;
        colors: 0 bd bg;
      }
    }
    .label {
      // Badges.
      &-badge-gray { colors: fg bd bd }
      &-badge-blue { colors: white blue blue }
      &-subscribe-button[data-toggle] {
        width: auto;
        padding: 3px 8px ;
        margin-top: -3px;
        font-weight: normal;
      }
    }
  }

  // * Issues -> Milestones.
  .milestones {
    padding: 0;
    rad: 0;
    c: 0 0 t;
    // Items.
    .milestone {
      padding: 8px;
      rad: r;
      c: fg 0 bg;
      box-shadow: inner;
      // Text color.
      .milestone-range { colors: fg, 0, 0; }
      // Links.
      .milestone-progress {
        .light, a { colors: cm, 0, 0; }
      }
      // Title and reopen button.
      strong a, .btn-reopen { colors: fg, 0, 0; }
    }
  }
  .milestone {
    padding: 8px;
    .label-badge {
      c: cm bd bg;
      &-gray { c: fg 0 bd }
    }
    // Color in relatable issues.
    &-title { colors: cm, 0, 0; }
    &-banner-link { padding: 2px !important; }
    // Reset for boards.
    &-content {
      .card-header {
        colors: 0 t t;
        + .content-list { box-shadow: inset 0 1px bd }
      }
      li:last-child { rad: 0 0 r r }
    }
  }

  // Details.
  .issuable-row {
    colors: 0, 0, t;
    .issuable-number { colors: cm, 0, 0; }
  }

  // Forms.
  .form-actions {
    padding: 8px;
    border: none;
    rad: r;
    c: 0 0 bg;
    box-shadow: inner;
  }

  // * Promotional.
  .user-callout {
    // Reset extra margins on the side.
    margin: 20px 0 10px !important;
    &.promotion-callout {
      .bordered-box {
        padding: 8px !important;
        rad: r;
        colors: 0, bd, bg;
      }
    }
    // ? Found in: .../repo/pipeline_schedules
    .bordered-box.content-block {
      padding: 8px !important;
      rad: r;
      colors: 0, bd, bg;
    }
  }
  .banner-non-empty-state {
    padding: 5px 0 0 0;
    border: 1px solid;
    rad: r;
    colors: 0, bd, bg;
    &.append-bottom-20 { margin-bottom: 10px }
  }
  // ? Callout in .../project/environments
  .canary-deployment-callout {
    border-top: 1px solid bd;
    border-bottom: none;
  }
  // Milestones -> Burndown chart hint.
  .content-block.burndown-hint {
    rad: r;
    colors: 0 bd bg;
    svg path[fill='#fff'] { v: t }
  }
  // GitLab-Gold promotion.
  .container-fluid > #content-body > .container-fluid.pt-1 { padding: 0; }

  // * Milestones -> Burndown chart.
  .burndown-chart {
    rad: r;
    c: 0 0 bg;
    box-shadow: inner;
    text { v: fg }
    .axis {
      &-label text { v: fg }
      &-label line, line, path { v: 0 cm }
    }
    // ? Legend!
    .legend {
      rect { v: 0 cm }
      text { v: fg }
    }
    .ideal.line { v: 0 cm }
    .actual.line { v: 0 ac }
  }
  // Repository charts.
  .repo-charts {
    // Brings back the language color.
    .fa { color: inherit !important; }
    canvas:not(#languages-chart) { colors: 0, 0, bg; }
  }
  // ? Found in: .../repo/pipelines/charts
  [data-page="projects:pipelines:charts"] {
    .legend {
      &-success .fa { color: inherit !important; }
      &-all { colors: cm, 0, 0; }
      &-all > i { color: inherit !important; }
    }
    canvas {
      rad: r;
      colors: 0, 0, bg;
      box-shadow: inner;
    }
  }

  // * Calendar.
  .pika-single {
    rad: r;
    c: fg bd bg;
    // Header.
    .pika-label { c: cm 0 t }
    .pika-prev, .pika-next { filter: invert(1) }
    // Cells.
    th { c: fg bd }
    td {
      c: 0 bd 0;
      .pika-day {
        c: fg 0 bg;
        &:hover, ../[class^="is-"] .pika-day { c: ac 0 bd }
      }
      &.is-disabled .pika-day { c: cm 0 t }
    }
    // Shadow.
    &.is-bound { box-shadow: bsh }
  }

  // * Pagination.
  .pagination {
    // Rounded corners.
    > .page-item:first-child a {
      border-top-left-radius: r;
      border-bottom-left-radius: r;
    }
    > .page-item:last-child a {
      border-top-right-radius: r;
      border-bottom-right-radius: r;
    }
    // Links.
    .page-item {
      // Defaults.
      .page-link { c: cm bd bg }
      // Disabled.
      &.disabled .page-link {
        c: cm;
        filter: opacity(0.75) !important;
      }
      // Selected.
      .page-link.active, &.active .page-link { c: fg 0 bd }
      &:hover:not(.disabled):not(.active) .page-link { c: fg 0 hl }
    }
  }

  // * Issues/MR -> List.
  .issues-holder, .merge-requests-holder {
    margin-top: 10px;
    rad: r;
    border: 1px solid bd;
    c: 0 0 bg;
    li:not(.page-item) {
      transition: 0.15s ease;
      &:first-child { rad: r r 0 0 }
      &:hover { c: 0 0 bd }
      .issuable-comments a { c: fg }
      // Approvals.
      .text-success {
        c: green;
        svg { v: green }
      }
    }
    // ? Reset pagination.
    .gl-pagination {
      padding: 10px;
      margin-top: 0px !important;
      border-top: 1px solid bd;
      .pagination { margin: 0px; }
    }
    // Email a new issue/MR to this project.
    .issuable-footer {
      padding: 10px;
      border-top: 1px solid bd;
    }
  }

  // * Merge Requests -> Details.
  .merge-request-tabs-holder, .epic-tabs-holder {
    margin: 0 0 10px;
    border: none;
    rad: r;
    colors: 0 0 bg;
    box-shadow: inner;
    // Resets.
    .nav-links {
      margin: 0;
      rad: 0;
      c: 0 0 t;
      box-shadow: none;
    }
    > div > div:last-child { margin: 0 8px }
  }
  // First contribution.
  .fa-certificate {
    colors: ac, 0, 0;
    + strong { colors: fg, 0, 0; }
  }
  /* Resolved. */
  .line-resolve-all {
    border-color: var(--darker);
    background-color: var(--dark);
  }
  // Resolved state icons.
  .line-resolve-btn {
    &.is-active svg { v: green }
    &.is-disabled svg { v: cm }
  }


  /* Merge Requests :: Notes. */
  .discussion-body .notes .note,
  .diff-file .notes .note {
    border-bottom-color: var(--darker);
  }
  /* Reply. */
  .discussion-form {
    background-color: transparent !important;
  }
  // ? Discussion within diff section.
  .diffs {
    .notes {
      border-top: none !important;
      &::before { border-left: 1px solid bd !important; }
    }
    .note.timeline-entry {
      colors: 0, 0, bg;
    }
  }
  // * Notes -> Reply section.
  .discussion-body, .diff-file {
    .discussion-reply-holder {
      colors: 0 bd t;
      &:last-child { rad: 0 0 r r !important; }
      &.is-replying { c: 0 0 hl }
      + .new-note { colors: 0 bd 0 }
    }
  }
  // Comments disabled.
  .disabled-comment {
    margin-top: 10px;
    padding: 8px 0;
    rad: r;
    colors: fg, bd, bg;
    a[href] { color: ac }
    [class*="warning"] { colors: orange, t, t; }
  }
  /* Text color. */
  .timeline .system-note .note-text,
  .notes .note-body .note-text {
    color: var(--light) !important;
  }
  .notes .system-note .system-note-commit-list-toggler {
    color: var(--accent) !important;
  }
  // 'Toggle commit list' background.
  .notes .system-note .note-body .note-text:not(.hide-shade)::after {
    background: none !important;
  }

  // * Merge Requests -> Review.
  .draft-note-component { colors: 0 0 t }
  .review-bar-component { colors: 0 bd bg }

  // * Merge Requests :: Discussions in file diff.
  .diff-file .notes_holder {
    font-family: var(--ui-font);
    // ! Might not need this line anymore.
    .notes_line {
      colors: fg, bg, bg;
      border-right-color: bd !important;
    }
    // Note border/background colors.
    .notes-content { colors: 0 bd t }
    // Different notes_content.
    .notes_content {
      colors: fg, bg, bg;
      // Discussion.
      .notes {
        border-top: 1px solid;
        colors: 0, bd, bg;
      }
    }
  }

  // * Merge Requests :: Files.
  .diff-tree-list {
    .drag-handle:hover { colors: 0 0 bd }
    .tree-list-holder {
      // Search.
      .tree-list-search input {
        rad: r;
        colors: fg 0 0;
      }
      // Files.
      .tree-list-scroll {
        padding: 8px;
        overflow: auto;
        rad: r;
        border: 1px solid;
        colors: 0 bd bg;
        .file-row {
          &:hover, &:active { colors: 0 0 bd }
        }
      }
    }
  }

  // * Merge Requests :: New MR.
  // TODO Refactor needed to simplify styles.
  .mr-state-widget {
    // ! Temporary fix for #64.
    .report-block-container {
      padding: 0;
      colors: 0 bd t;
      .failed svg { v: red 0 }
    }
    .mr-source-target {
      padding: 8px;
      min-height: auto;
      colors: 0, bd, bg;
    }
    // Description container.
    .mr-section-container {
      rad: r;
      border: 1px solid;
      colors: 0, bd, bg;
      .mr-widget-section {
        // padding: 12px 8px;
        rad: 0 !important;
        colors: 0, bd, 0;
        // MR you can merge.
        > div > .media { padding: 8px }
        .border-top { colors: 0 bd 0 }
        // MR you can't merge.
        > .mr-widget-body { padding: 8px }
        > .mr-widget-info { padding: 0 8px }
        .danger_message { colors: red red bd }
      }
      // Remove extra padding.
      .media-section > .media { padding: 0px !important; }
      .mr-widget-footer .mr-widget-help {
        padding: 0 4px;
        colors: cm 0 0;
      }
      // Align the CI icon.
      .media > .space-children { margin-left: 4px !important; }
      // Rounded corners.
      > section:first-child { rad: r r 0 0; }
      > div:last-child { rad: 0 0 r r; }
    }
    // Borders.
    .media-section,
    .mr-widget-heading,
    .mr-widget-footer {
      padding: 8px;
      colors: 0, bd, bg;
    }
    // Rounded corners.
    .mr-source-target, .mr-widget-heading { rad: r; }
    // Circle icon thing.
    .circle-icon-container { colors: fg, bd, 0; }
    .mr-widget-extension { colors: 0, bd, bg; }
    // ? Fixes approved merge request element.
    // TODO Rewrite this entire section at some point.
    .mr-widget-content {
      padding: 0 !important;
      .js-mr-approvals { padding: 0 !important; }
    }
    .mr-widget-workflow {
      // Connector.
      &::before { border-left-color: bd; }
      // Remove the double-border forming on first child.
      > .mr-widget-border-top:first-child,
      > .mr-widget-section:first-child { border-top: none; }
    }
    // Branch name.
    .label-branch, .pipeline-number {
      color: fg;
      font-size: inherit;
      font-weight: inherit;
      font-family: var(--ui-font);
      &.label-truncate > a { line-height: 1.2 }
    }
    // Found on: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/3023
    .ci-widget { colors: cm, 0, 0; }
  }
  .mr-widget-workflow::before,
  .mr-widget-heading:not(.deploy-heading)::before {
    left: 24px !important;
    border-left: 1px solid var(--darker);
  }
  // Text color.
  .mr-state-widget {
    colors: fg, 0, 0;
    .bold { colors: fg, 0, 0; }
    .font-weight-bold, .code-text, .coverage, .diverged-commits-count {
      colors: cm, 0, 0;
      a {
        font-weight: bold;
        color: inherit;
      }
    }
  }
  // Icon color.
  .git-merge-icon-container { colors: fg, bd, bd; }

  // * MR -> Changes.
  .mr-version-controls {
    margin: 0;
    width: 100%;
    rad: r;
    border: 1px solid !important;
    colors: fg, bd, bg;
    // Reset the width when file tree is open. @upstream
    &.is-fileTreeOpen {
      margin: 0 !important;
      width: 100% !important;
    }
    > div { border-bottom: none; }
  }

  // * File Diff :: Expanded view.
  .line_holder {
    // Show/hide comments.
    .diff-notes-collapse {
      colors: 0, bd, bg;
      &:hover { colors: 0, 0, bd; }
    }
    // No new line.
    .new-nonewline { colors: cm, 0, t; }
    // Unfold lines.
    td.unfold, td.line_content.match {
      font-style: italic;
      colors: cm 0 t;
    }
    // Comment bubble.
    .add-diff-note {
      padding: 0 0 1px 1px;
      colors: fg bd bg;
      &:hover { colors: 0 0 bd }
    }
    // Highlight the hovered line.
    &:not(.parallel):hover, &.parallel td.is-over { colors: 0 0 bd }
    // Highlight syntax line in parallel view.
    > td.is-over + .parallel { colors: 0 0 bd }
    // Divider for right pane in side-by-side mode.
    &.parallel > td:nth-child(3) { box-shadow: -1px 0 bd }
  }
  /* Text colors. */
  .diff-stats-summary-toggler { color: blue !important; }

  // * Snippets
  .project-snippets {
    // Fix file title height.
    .js-file-title  .file-header-content {
      line-height: 30px;
      .btn { padding: 8px 7px 2px 8px; }
    }
  }
  // Edit button.
  .detail-page-header a,
  .snippet-edited-ago {
    color: var(--light);
  }
  // Toggle discussion.
  .note-action-button {
    color: fg;
    &:focus, &:hover { color: cm; }
  }

  // Profile -> Snippets list.
  .snippets-list-holder {
    // Text colors.
    li.snippet-row {
      .title {
        a[href] { c: fg }
        .snippet-filename { c: cm }
      }
      .snippet-info { c: fg }
    }
  }
  // Snippets -> Reset block.
  [data-page*="snippets:show"] .row-content-block { padding: 0 }

  // * Project :: Snippets.
  [data-page*="projects:snippets:index"] {
    // Sub-navigation.
    .top-area {
      padding: 0 !important;
      colors: 0, t, t;
    }
    .snippet-scope-menu {
      margin-top: 0 !important;
      border-bottom: 1px solid bd;
    }
  }

  // * Project :: Members.
  .members-list {
    li.member { padding: 8px; }
    .cgray time { colors: cm, 0, 0; }
    .member a.member-group-link { colors: fg, 0, 0; }
  }

  // * Editor -> Wrapper.
  .file-editor {
    .file-holder { rad: r; }
    .toolbar-btn:hover svg { v: fg }
    #preview { font-family: var(--ui-font) }
    // Fix flashing white background.
    #editor {
      rad: 0 0 r r;
      c: 0 0 t;
    }
    // Header.
    .nav-links {
      margin-bottom: 10px;
      border: 1px solid;
      c: 0 bd bg;
      box-shadow: none;
    }
    // Branch name.
    .editor-ref { colors: 0, bd, t; }
  }

  // * Editor -> Templates.
  .template-selector {
    &s-menu { c: 0 bd }
    &-dropdowns-wrap > div[class] { font-family: var(--ui-font) }
  }

  // * Ace editor.
  .ace-tm {
    colors: fg, 0, bg;
    // Gutter.
    .ace_gutter {
      rad: 0 0 0 r;
      colors: cm, 0, bg;
      box-shadow: 1px 0 0 0 bd;
      .ace_gutter-cell { colors: 0, 0, t; }
      + .ace_scroller { rad: 0 0 r 0; }
    }
    // Highlighted line.
    .ace_gutter-active-line, .ace_active-line { c: 0 0 hl }
    .ace_selected-word, .ace_selection {
      c: 0 0 blue;
      opacity: 0.6;
    }
    .ace_cursor { c: ac }
    .ace_indent-guide {
      background: none;
      box-shadow: 1px 0 0 0 bd !important;
    }
    // Wrap line.
    .ace_print-margin { colors: 0, 0, bd; }
    // Search/replace popout.
    .ace_search {
      padding: 0 4px;
      margin: 10px 10px 0 0;
      border: 1px solid;
      rad: 4px;
      c: 0 bd hl;
      box-shadow: 0 4px 8px 0 sh;
      // Inputs.
      &_field { colors: fg, 0, bg; }
      .ace_search_form, .ace_replace_form { colors: 0, bd, 0; }
      .ace_searchbtn, .ace_replacebtn { colors: 0, bd, bd; }
    }
    // Options.
    .ace_search_options {
      margin: 4px 0 0 0;
      text-align: left;
      .ace_button {
        padding: 5px;
        border-radius: 3px;
        colors: cm t bg;
        &:hover, &.checked { colors: ac, 0, t; }
      }
    }
    // Scroller.
    .ace_scroller.ace_scroll-left { box-shadow: inset 17px 0 16px -16px bg; }
  }

  // * Ace editor -> Syntax highlighting.
  .ace {
    &_line { colors: cm, 0, 0; }
    &_support&_function { colors: bd, 0, 0; }
    &_support&_type { colors: cm, 0, 0; }
    &_meta&_tag { colors: blue, 0, 0; }
    &_string, &_comment { colors: green, 0, 0; }
    &_heading, &_storage, &_keyword { colors: blue, 0, 0; }
    &_list { colors: magenta, 0, 0; }
    &_variable { colors: green, 0, 0; }
    &_constant, &_numeric { colors: fg, 0, 0; }
  }

  // Footer links.
  footer.footer a {
    colors: cm, 0, 0;
    &:hover, &:focus { colors: ac, 0, 0; }
  }

  // * Docs :: Search results.
  .algolia-autocomplete {
    [class*="dataset"] {
      c: fg bd bg;
      // Transparentize the content.
      [class*="docsearch-s"] { colors: fg, 0, t; }
    }
    // Remove shadow.
    .ds-dropdown-menu {
      box-shadow: 0 4px 16px -4px sh;
      // Arrow.
      &:before { colors: 0, bd, bg; }
    }
    // Header.
    [class*="header"] { colors: cm, bd, 0; }
    // Separator.
    .algolia-docsearch-suggestion--subcategory-column::before,
    .algolia-docsearch-suggestion--content::before { colors: 0, 0, bd; }
    // Selected.
    [class$="--content"]:hover { colors: 0, 0, bd; }
    // Matching result.
    [class*="highlight"] { box-shadow: inset 0 -2px ac !important; }
  }

  // * Main content.
  .main {
    background-color: transparent !important;
    box-shadow: none !important;
    // TOC.
    // Remove sidebar.
    *::-webkit-scrollbar { display: none !important; }
    // Alerts.
    blockquote {
      position: relative;
      colors: 0, t, bg;
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        rad: r 0 0 r;
        border-left: 4px solid blue;
      }
    }
    .alert-warning { colors: 0, red, bg; }
    .alert.alert-success { colors: 0, voilet, voilet; }
    // Reset *introduced in...* blockquotes.
    blockquote {
      padding: 16px;
      rad: r;
      box-shadow: inner;
      > p { margin: 0; }
    }
    // Border colors.
    h2, h3, h4, h5, h6, .edit-on, .comments { colors: 0, bd, 0; }
    // Text colors.
    a:hover, a:focus { text-decoration: underline; }
    .article-metadata { colors: fg, 0, 0; }
    .highlight.plaintext code { colors: fg, 0, 0; }
    code {
      rad: 3px;
      border: 1px solid;
      c: ac bd hl;
    }
    img {
      transition: 0.15s ease;
      opacity: faded_img;
      &:hover { opacity: 1; }
    }
  }

  // Feature -> Custom width for fluid/fixed layout.
  .layout-page {
    // Fluid layout.
    .container-fluid {
      &:not(.container-limited):not(.js-focus-mode-board) {
        max-width: var(--width) !important;
      }
    }
    // WIP: Fixed layout.
    .container-limited:not(#sc) {
      max-width: var(--width);
      .user-callout-copy { max-width: unset }
    }
    .limit-container-width {
      .emoji-list-container,
      .merge-request-tabs-container,
      .epic-tabs-container,
      .issuable-details,
      .detail-page-header,
      .page-content-header,
      .commit-box,
      .info-well,
      .commit-ci-menu,
      .files-changed-inner,
      .limited-width-notes,
      .limited-header-width,
      .issuable-details .detail-page-description,
      .issuable-details .mr-source-target,
      .issuable-details .mr-state-widget,
      .issuable-details .merge-manually,
      .file-content {
        max-width: unset !important;
        // outline-offset: -1px;
        // outline: 1px solid yellow;
      }
    }
  }

  /* Fix bugged left sidebar. */
  @media screen and (max-width: 1200px) {
    /* Cut transitions. */
    .page-with-contextual-sidebar,
    .nav-sidebar,
    .toggle-sidebar-button,
    .close-nav-button,
    .nav-sidebar a {
      transition-duration: 0s !important;
    }
  }


  // * IDE!
  .ide {
    // Text color.
    .ide-view {
      colors: fg, 0, 0;
      // Left sidebar title.
      .context-header > a,
      .ide-review-sub-header { colors: fg, 0, 0; }
    }
    // Status bar.
    .ide-activity-bar, .ide-status-bar { colors: 0, bd, bg; }
    // Resize.
    .drag-handle { colors: 0, 0, bg; }
  }
  // File templates.
  #ide .ide-file-templates { colors: 0, bd, bg; }

  // Left sidebar active.
  .ide-sidebar-link {
    transition: 0.15s ease;
    // On event.
    &:focus, &:hover, &.active {
      colors: ac, bd, bd;
      box-shadow: inset 3px 0 ac !important;
    }
    &::after { colors: 0, 0, bg; }
  }

  // * IDE :: File explorer.
  .ide {
    // Tree.
    .multi-file-commit-panel-inner-content {
      colors: 0, bd, bg;
      // File in the tree.
      .file-row {
        transition: 0.2s ease-in-out;
        &.is-active, &:hover, &:active { colors: 0, 0, bd; }
        // File options.
        .ide-entry-dropdown-toggle { colors: fg, 0, bg; }
      }
    }
    // Commit.
    .multi-file-commit-form {
      colors: 0, bd, bg;
      > .commit-form-compact { border-top-color: bd; }
    }
    // Icons.
    .ide-tree-header button {
      color: cm;
      transition: all 0.2s ease-in-out;
      &[aria-expanded="true"] { colors: 0, 0, bd; }
    }
  }

  // * IDE :: Merge Requests / Branches.
  .ide-tree-header {
    border-bottom-color: var(--darker);
    // Branch popup.
    .ide-nav-form {
      // Separator.
      .tab-links { colors: 0, bg, 0; }
      // Inactive tab.
      .nav-links li a:not(.active) { colors: 0, 0, bd; }
      .border-bottom { border-color: bg !important; }
      // Search container.
      .filtered-search-wrapper {
        colors: 0, bd, bg;
        input { colors: 0, 0, t; }
      }
      // Project metadata.
      .ide-merge-request-project-path { color: cm; }
    }
    // Branch on hover.
    button:hover { colors: fg, 0, bd; }
  }
  /* Selected. */
  .ide-file-list .file:hover,
  .ide-file-list .file.file-active,
  .multi-file-commit-list-path:hover,
  .multi-file-commit-list-path.is-active {
    background-color: var(--darker);
  }

  // * IDE :: Commit section.
  .ide-view {
    // Borders.
    .ide-commit-list-container.is-first,
    .multi-file-commit-panel-header { colors: 0, bd, 0; }
    // Remove background on buttons.
    .ide-staged-action-btn { colors: 0, 0, t; }
    // Commit message.
    .ide-commit-message-field {
      colors: cm, 0, t;
      textarea { colors: fg, 0, 0; }
    }
    // Background after you push a commit.
    .multi-file-commit-panel-success-message { colors: 0, 0, bg; }
  }

  // * IDE :: Right sidebar.
  .ide-view .multi-file-commit-panel {
    border-color: var(--darker);
    background-color: var(--dark);
  }
  /* Jobs. */
  .ide-view .card-header,
  .ide-view .ide-job-item:not(:last-child) {
    border-color: var(--darker);
  }
  /* Build header. */
  .build-page .top-bar {
    rad: r r 0 0;
    colors: cm, bd, bg;
    // ? Fix terminal controls header, bug on upstream.
    &.sidebar-expanded { margin-right: 0 !important; }
  }
  // ? Hotfix for the header.
  .build-page > header > .build-header.top-area { margin-bottom: 10px; }
  /* Build log. */
  .build-page .build-trace {
    rad: 0 0 r r;
    color: var(--light);
    border: 1px solid var(--darker);
    border-top-color: transparent;
    background-color: var(--dark);
    > code {
      colors: cm, 0, 0;
      .term-fg-l-green { colors: green, 0, 0; }
      .term-fg-red { colors: red, 0, 0; }
    }
  }
  .build-page .environment-information {
    colors: 0, bd, bg;
  }

  // * Build sidebar.
  .build-sidebar {
    .link-commit { colors: ac, 0, 0; }
  }

  // * Pipelines :: Builds.
  // TODO Buggy, info: https://gitlab.com/vednoc/dark-gitlab/issues/22
  .builds-container {
    colors: fg, bd, bg;
    .build-job {
      transition: 0.2s ease;
      a { colors: fg, 0, 0; }
      &:hover { colors: 0, 0, bd; }
      // ? https://gitlab.com/gitlab-org/gitlab-ce/-/jobs/141718266
      &.retried { colors: 0, 0, t; }
    }
  }

  // * IDE :: Edit area.
  .multi-file-edit-pane {
   colors: 0, bd, bg;
   // Tabs.
   .ide-mode-tabs { colors: 0, bd, bd; }
  }
  /* Tabs. */
  .multi-file-tabs {
    background-color: var(--dark);
    box-shadow: inset 0 -1px var(--darker);
    // Items.
    li {
      transition: 0.2s ease-in-out;
      colors: cm, bd, t;
      &.active, &:hover { colors: ac, bd, bd; }
    }
  }
  // Commit header.
  .ide-commit-editor-header {
    colors: fg, bd, bg;
    box-shadow: inset 0 -1px var(--darker);
  }
  // Git additions/deletions.
  .monaco-diff-editor {
    .line-delete {
      border-color: transparent !important;
      background-color: rgba(200, 49, 49, 0.3) !important;
    }
    .char-delete, .char-insert {
      background-color: rgba(0, 0, 0, 0.15) !important;
    }
    .line-insert {
      border-color: transparent !important;
      background-color: rgba(149, 200, 99, 0.3) !important;
    }
  }

  // * IDE :: Monaco editor.
  .monaco-editor {
    colors: fg, 0, bg;
    // Background.
    &-background { colors: fg, 0, bg; }
    .scroll-decoration {
      box-shadow: inset 0 2px 4px -1px bd !important;
    }
    // Gutter.
    .margin {
      colors: 0, bg, bg;
      .line-numbers { colors: cm, 0, 0; }
    }
    // Current line.
    [class*="current-line"]  { colors: 0, bd, bd; }
    // Cursor.
    .cursor { colors: fg, ac, ac; }
    // Indent guide.
    .lines-content [class*="cigr"] { box-shadow: inset 1px 0 ac }
    // Command palette.
    .monaco-quick-open-widget {
      colors: fg, bd, bg;
      box-shadow: bsh !important;
      // Focused.
      .monaco-tree-row {
        &:hover, &.focused { colors: ac, 0, bd; }
      }
    }
    // Inspect tokens.
    .tokens-inspect-widget { colors: fg, bd, bg; }
    // Input.
    .monaco-inputbox {
      colors: fg, bd, bg;
      input { colors: fg, 0, bg; }
    }
    // Resize.
    .monaco-sash { colors: 0, 0, ac; }
    // Find palette.
    .find-widget {
      colors: 0, 0, bd;
      box-shadow: bsh;
      .button, .label { filter: invert(var(--bg-invert)); }
    }
    // Accessibility.
    .accessibilityHelpWidget {
      colors: fg, bd, bg;
      box-shadow: bsh;
    }
    // Context menu.
    .context-view {
      colors: 0, 0, bd;
      box-shadow: bsh;
    }
    // Hover popup.
    .monaco-editor-hover { colors: 0, sh, bd; }
    // Selection.
    .cslr.selected-text { background-color: bd; }
    // Matching.
    .selectionHighlight { background-color: bd !important; }
    // Suggestion.
    .tree {
      colors: fg, bd, bd;
      box-shadow: bsh;
      .focused { colors: ac, 0, bg; }
    }
  }
  /* Diff view. */
  .diffOverviewRuler { background-color: var(--dark); }
  /* Git. */
  .dirty-diff-added { background-color: var(--green); }
  .dirty-diff-modified { background-color: var(--blue); }
  // ? Dropdown for file finder.
  .ide-view .dropdown-menu {
    max-height: 500px;
    li button.is-focused, a.active { colors: 0, 0, bg; }
  }

  // * IDE :: Monaco syntax highlighting.
  .monaco-editor {
    .mtk1, .mtk3 { color: fg; }
    .mtk10 { color: cm; }
    .mtk4, .mtk20 { color: red; }
    .mtk8 { color: green; }
    .mtk5, .mtk6, .mtk23 { color: blue; }
    .mtk14 { color: magenta; }
    .mtk22, .mtk12 { color: cyan; }
    .mtk11 { color: orange; }
  }

  // * Project :: Code view.
  .code {
    colors: fg, 0, t;
    // Remove weird border around code wrapper.
    code { border: none; }
    // Highlighted line.
    span.line.hll { colors: 0 0 bd }
    // Gutter border.
    pre.code, .diff-line-num { colors: 0, bd, 0; }
    // Gutters in file view/diff.
    .line-numbers, .diff-line-num {
      &, a { colors: cm, 0, t; }
      // ? Add left border to right section in parralel diff view.
      &:nth-child(3) { border-left: 1px solid red !darker; }
    }
    // ? Code wrapper.
    .line_holder {
      // Lines for added/removed sections.
      .line_content {
        z-index: 1;
        colors: fg, 0, t;
        &.new::before, &.old::before { colors: cm, 0, 0; }
        &.old::after, &.new::after {
          content: "";
          z-index: -1;
          opacity: 0.25;
          top: 0; right: 0; bottom: 0; left: 0;
          position: absolute;
        }
        &.old::after { colors: 0, 0, red; }
        &.new::after { colors: 0, 0, green; }
      }
      // Gutters for added/removed sections.
      .diff-line-num.old, .diff-line-num.new {
        z-index: 1;
        border-right: none;
        padding-right: 11px;
        box-shadow: inset -1px 0 bd;
        &.old::after, &.new::after {
          content: "";
          z-index: -1;
          opacity: 0.25;
          top: 0; right: 0; bottom: 0; left: 0;
          position: absolute;
        }
        &.old::after { colors: 0, 0, red; }
        &.new::after { colors: 0, 0, green; }
      }
      // Rounded corners.
      &:last-child > td {
        &:first-child, &:first-child::after { rad: 0 0 0 r; }
        &:last-child, &:last-child::after { rad: 0 0 r 0; }
      }
    }
    // ? Notes -> Suggested changes.
    .gd, .gi {
      z-index: 0;
      position: relative;
      colors: fg, 0, t;
      // Fake element.
      &::before {
        content: "";
        position: absolute;
        top: 0; right: 0; bottom: 0; left: 0;
        opacity: 0.25;
        z-index: -1;
      }
    }
    // Removed/added.
    .gd::before { colors: 0, 0, red; }
    .gi::before { colors: 0, 0, green; }
  }

  // * Project :: Code syntax highlighting.
  .code.white {
    .n, .gh, .s2, .gp { color: fg; }
    .s, .c, .cp, .c1, .nn, .go { color: cm; }
    .m, .nv, .na, .mf { color: cyan; }
    .nb, .nc, .kt { color: blue; }
    .ss, .s1, .se, .gu, .nd { color: magenta; }
    .sx, .sb, .sh, .nf, .gt, .sd { color: red; }
    .nt, .si, .mi { color: voilet; }
    .err {
      colors: 0, 0, t;
      box-shadow: inset 0 -2px red;
    }
  }


  // * CI/CD -> Pipelines.
  .table-holder {
    margin: 10px 0 0 0;
    .ci-table:not(.table) {
      border-collapse: separate;
      border: 1px solid bd;
      rad: r;
      c: 0 0 bg;
      tr {
        &:not([class]) > td { c: 0 0 bg }
        > th { c: fg darker hl }
        > td { padding: 8px }
      }
      .table-row-header {
        padding: 8px;
        c: fg bd hl;
      }
      > [class*="table-row"]:nth-last-child(2) { border-bottom: none }
      .commit {
        padding: 8px;
        transition: 0.15s ease;
        &:hover, &:hover { c: 0 0 hl }
      }
    }
  }
  /* Pipeline commit. */
  .commit a,
  .generic_cimmit_status a,
  .pipelines .ci-table .pipeline-id,
  .ci-table .branch-commit .commit-sha {
    color: var(--light);
  }
  // Pipeline stage connectors.
  .stage-container::after { border-bottom: 1px solid cm !important }

  // * Pipelines -> Mini-pipelines.
  .mini-pipeline-graph-dropdown-toggle {
    colors: 0 0 bg;
    &:focus { box-shadow: 0 0 4px 1px blue !important }
    // * Pipelines -> Stages. Old info in #22.
    + .mini-pipeline-graph-dropdown-menu {
      // Indicator.
      &::after { colors: 0 ac 0 }
      // Reset for items.
      li {
        &:hover a { colors: cm 0 t }
        a:hover, a:focus { colors: fg 0 bd }
        // Pipelines where you have permissions.
        .ci-job-component {
          transition: 0.15s ease;
          &:hover { colors: 0 0 bd }
          .mini-pipeline-graph-dropdown-item {
            colors: 0 0 t;
            .ci-status-text { colors: cm 0 0 }
            &:hover .ci-status-text { colors: fg 0 0 }
          }
          // Retry button.
          .ci-action-icon-container {
            colors: 0 bg bd;
            &:hover { colors: 0 ac bd }
          }
        }
      }
      // ? Fix text weight.
      .ci-build-text, .ci-status-text { font-weight: normal !important }
    }
  }

  // * CI/CD -> Pipeline details.
  .pipeline-graph {
    margin-top: 8px;
    rad: r;
    c: fg 0 bg;
    box-shadow: inner;
    // Pipeline node.
    .build .build-content {
      c: cm bd bg;
      transition: 0.15s ease;
      &:hover { c: fg ac 0 }
    }
    // Triangle.
    .cross-project-triangle {
      margin-top: 10px !important;
      border-left-color: bd;
    }
    // Linked pipeline?
    // ? https://gitlab.com/gitlab-org/gitlab-ce/pipelines/31973329
    .linked-pipeline {
      &-content {
        rad: 10px !important;
        colors: fg, bd, bg;
        &:hover { colors: 0, 0, bd; }
      }
      // Connector line.
      &::before { margin-top: 2px; }
    }
    // Actions.
    .ci-action-icon-container {
      margin: 1px 1px 0 0;
      colors: 0, bd, bg;
    }
    // Connectors.
    .build, .stage-column .curve {
      &::before, &::after { colors: 0, bd, 0; }
    }
    .ci-build-txt, .ci-status-text { font-weight: normal; }
  }

  // * Pipelines -> Mini pipelines in notes.
  // ? https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30080
  .linked-pipeline-mini-list {
    .arrow-icon { margin-top: 2px }
    .linked-pipeline-mini-item {
      margin-top: 5px !important;
      > svg { margin: 1px 0 0 1px }
      // Fix size and on-hover event.
      &[class*="ci-status-icon-"] {
        width: 24px;
        height: @width;
        colors: 0 0 bd;
        ../:hover > svg { margin: 0 }
      }
    }
  }

  // * Pipelines :: Failed Jobs.
  .build-failures {
    .table {
      margin-top: 10px;
      border: 1px solid;
      colors: 0, bd, bd;
      // Table header.
      > thead th {
        colors: fg, 0, 0;
      }
    }
    // Log output.
    .build-trace {
      colors: 0, bg, 0;
      > code {
        colors: fg, bd, bd;
      }
    }
    .build-name a {
      color: ac;
    }
  }

  // * Pipelines :: Security.
  .split-report-section {
    margin-top: 10px;
    border: 1px solid;
    rad: r;
    colors: fg, bd, bg;
    // Wrapper.
    .report-block-container {
      colors: fg, bd, bg;
    }
  }

  // * Jobs :: Show output.
  .build {
    // Breadcrumbs.
    &-header .header-content {
      margin: 4px 0;
      color: cm;
      a { color: fg;
        &:hover { color: ac; }
      }
    }
    // Job details.
    &-light-text { color: cm; }
    // Job on hover.
    &s-container a:hover { color: ac !important; }
  }

  // * Jobs :: Browse artifacts.
  [data-page="projects:artifacts:browse"] {
    .tree-table {
      rad: r;
      box-shadow: inner;
      thead {
        tr, tr > th { border-top: none; }
        th:first-child { rad: r 0 0 0; }
        th:last-child { rad: 0 r 0 0; }
      }
      tbody {
        tr:last-child {
          td:first-child { rad: 0 0 0 r; }
          td:last-child { rad: 0 0 r 0; }
        }
      }
      // Remove borders.
      tr {
        border: none !important;
        td {
          border: none !important;
          border-top: 1px solid bd !important;
        }
      }
      // Item text color.
      .tree-item a { colors: fg, 0, 0; }
    }
  }

  // * CI/CD :: Schedules.
  [data-page^="projects:pipeline_schedules"] {
    .ref-name, .next-run-cell { colors: fg, 0, 0; }
    .pipeline-schedule-table-row a { colors: fg, 0, 0; }
  }

  // * Skeleton.
  .animation-container [class^="skeleton-line-"] {
    background-color: bd;
    &::after {
      background-image: linear-gradient(to right, bd 0%, bg 100%)
    }
  }

  // * Groups.
  .group-nav-container {
    + .tab-content .has-no-search-results { c: cm }
  }
  // * Group header.
  .explore-groups {
    rad: r;
    colors: 0, bd, bg;
  }
  // * Group body.
  .groups-list-tree-container > ul.group-list-tree {
    margin-top: 10px !important;
    border: 1px solid bd;
    rad: r;
    c: 0 0 bg;
    // On event.
    > .group-row {
      // Rounded corners.
      &:first-child > div { rad: r r 0 0; }
      &:last-child > div { rad: 0 0 r r; }
      // &.has-children .group-list-tree { margin-left: 42px !important; }
    }
    .group-row {
      // Keep fake border even when sub-group is open.
      &.is-open > div { box-shadow: inset 0 -1px bd }
      // Horizontal line.
      &::before { colors: 0, bd, 0; }
      // Vertical line.
      .group-list-tree::before {
        top: 0px;
        colors: 0, bd, 0;
      }
      // Remove top-border from the first item.
      &:first-child { border-top: none !important; }
      // Fix last item background.
      &:last-child::before { colors: 0, 0, t; }
      // Content.
      &-contents {
        transition: 0.15s ease;
        &:hover { c: 0 0 hl }
        // Text colors and width.
        .last-updated { c: fg }
        .stats {
          colors: cm, 0, 0;
          .stat-value {
            min-width: 1.5rem;
            text-align: left;
          }
        }
        &.has-more-items { padding: 10px; }
      }
    }
  }

  // * Groups -> Contribution Analytics.
  .svg-graph-container {
    padding: 16px;
    margin-top: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    rad: r;
    colors: 0 0 bg;
    box-shadow: inner;
    overflow-y: hidden; // Hide whitespace.
    svg {
      margin-top: -75px;
      text { v: cm 0 }
      path, line { v: 0 cm }
      rect {
        v: t;
        &.bar-rect { v: bd blue }
        &[fill="#fff" i] { v: bg 0 }
      }
    }
  }

  // * Invert image icons.
  // TODO adjust if it causes weird things.
  img[src*="/assets/icon"] {
    filter: invert(1);
  }

  // * Invert illustrations.
  .wiki .anchor,
  .banner-graphic > svg,
  .explore-groups > .svg-container > svg,
  .commits-empty > svg,
  .artwork svg,
  .billing-plan-logo > svg,
  img[src*="/assets/illustrations/"],
  #subgroups_and_projects .empty-state svg {
    filter: opacity(0.9) invert(0.9) hue-rotate(180deg) !important;
  }

  // ! Trick for #44. @upstream
  img[src$="acc9ec5b5.svg"] {
    margin: -6px -16px 0 0;
    clip-path: circle(34px at 50% 48%);
    background: white;
  }

  // * Feature -> Invert icons in Shadow DOM.
  @supports not (-moz-user-select: none) {
    if ( invert_ic == 1 ) {
      .created-icon, .opened-icon,
      .ci-status-icon > svg,
      [class*="ci-status"] svg.s24,
      [class*="ci-status"]:not(#stageDropdown) svg.s16,
      a[class*="ci-status"] svg, svg.ic-upload {
        // ? Does not work with ThemeSwitcher.
        filter: invert(calc(var(--bg-invert) - 0.2)) hue-rotate(180deg);
      }
    }
  }

  // * Icons -> CI status icons.
  .ci-status {
    colors: 0 0 bg;
    &[class*="ci-"]:hover { colors: 0 0 bd }
    // Replace icon's main fill color.
    ../ symbol[id^="status_"] { path[fill='#FFF' i] { v: bg }}
    // Colors!
    &.ci-success,
    &-icon-success, &-icon-passed {
      colors: green green 0;
      svg { v: green }
    }
    &.ci-running,
    &-icon-running {
      colors: blue blue 0;
      svg { v: blue }
    }
    &.ci-success-with-warnings, &-icon-failed-with-warnings,
    &-icon-pending, &-icon-warning, &-icon-success-with-warnings {
      colors: orange orange 0;
      svg { v: orange }
    }
    &.ci-failed,
    &-icon-failed {
      colors: red red 0;
      svg { v: red }
    }
    &.ci-created, &.ci-skipped, &.ci-canceled, &.ci-disabled, &.ci-manual {
      colors: cm cm 0;
    }
    ^[0]-icon {
      &-skipped, &-created, &-canceled {
        colors: 0 cm 0;
        svg { v: cm }
      }
      &-canceled, &-scheduled, &-disabled, &-not-found, &-manual {
        colors: 0 cm 0;
        svg { v: cm }
      }
    }
  }
  // * Icons -> Borderless CI status icons.
  .ic-status {
    &_warning_borderless { colors: 0 orange 0 }
    &_success_borderless { colors: 0 green 0 }
    &_running_borderless { colors: 0 blue 0 }
    &_failed_borderless { colors: 0 red 0 }
  }
  // Icons in epics.
  .issue-token-state-icon-open { v: green }
  .issue-token-state-icon-closed { v: blue }
  // Icons in activities.
  .commented-on-icon svg { v: blue }
  .created-icon svg { v: cyan }
  .opened-icon svg { v: green }
  .closed-icon svg { v: red }
  .accepted-icon svg { v: cyan }
  .deleted-icon svg { v: yellow }
  .imported-icon svg { v: voilet }

  // * Centers project header elements; old design lookalike.
  if ( p_header == 1 ) {
    // Necessary in v11.6 (I think).
    .project-home-panel .project-header {
      > div { max-width: 100%; }
    }
    .project-home-panel .project-badges {
      flex-direction: row !important;
      justify-content: center;
    }
    // Up until v11.5 (I think).
    .project-home-panel > div {
      display: flex;
      flex-direction: column;
      margin-bottom: 0px;
      > div {
        justify-content: center;
        text-align: center;
      }
    }
    .project-stats .nav { justify-content: center; }
    // Center the description.
    .project-description,
    .home-panel-title-row,
    .project-repo-buttons {
      margin: 0 auto;
    }
    // Separate buttons from the header and the description.
    .project-repo-buttons {
      margin-top: 10px;
      justify-content: center !important;
    }
  }

  // Switch to our version of GitLab logo.
  if ( dark_logo == 1 ) {
    .tanuki-logo {
      filter: brightness(095%) drop-shadow(0px 1px 1px sh) !important;
      .tanuki { &-right-eye, &-left-eye { v: ac t; }}
      .tanuki-right { &-cheek, &-ear { v: bg t; }}
      .tanuki-left { &-cheek, &-ear { v: bg t; }}
      .tanuki-nose { v: bg t; }
    }
  }

  // * Custom app background.
  // ? `:not(.dark)` is used to prevent disqus iframe conflicts.
  body:not(.dark)::before {
    position: fixed;
    z-index: -1;
    content: "";
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--background);
    background-position: var(--bg-pos);
    background-repeat: var(--bg-repeat);
    background-size: var(--bg-size);
    filter: var(--bg-filter);
  }

  // * Code font.
  .diff-file table,
  code, .code, pre.code code,
  [class*="monospace"], .ref-name,
  .diff-line-num, .diff-line-num a,
  #editor, .monaco-editor * {
    font-family: var(--mono-font) !important;
  }
  // Resets for code areas.
  .commit-sha, .gfm-commit, .gfm-commit_range, .ref-name,
  .git-revision-dropdown a {
    font-size: 100% !important;
    font-family: var(--ui-font) !important;
  }

  // * Feature -> Fix alignment of icons from GitLab icons extension.
  if ( gl_icons == 1 ) {
    .tree-item-file-name {
      > span, > .fa {
        width: 18px;
        display: inline-flex;
        justify-content: center;
        margin-right: 2px !important;
      }
    }
  }

  /* Prevent horizontal scrollbar from showing up when the viewport is overflowed. */
  html {
    overflow-x: hidden;
    background-color: var(--dark);
  }

  // ! What.
  // ? Fixes weird pseudoelements.
  .diff-file .file-title {
    &::before, &-flex-parent::before { display: none !important; }
  }
}

@-moz-document regexp("https?://customers.gitlab.com(/.*)") {
  h1, h2 { font-weight: normal }
  .times { c: cm }
  .list {
    &-title {
      c: white 0 blue;
      h3 { color: inherit !important }
      &.secondary { c: 0 0 voilet }
    }
    &-info {
      rad: 0 0 3px 3px;
      c: 0 bd bg;
    }
  }
  .btn {
    &:hover { opacity: 0.8 }
    &-gitlab.secondary { c: white voilet voilet }
    &-gitlab.primary {
      c: white bd blue;
      transition: 0.15s ease;
    }
  }
  .pricing-category-ruler {
    .ruler { c: 0 0 voilet }
    .label { c: voilet }
    &.com {
      .ruler { c: 0 0 blue }
      .label { c: blue }
    }
  }
  .buy-ci-minutes {
    rad: r;
    c: fg bd bg;
  }
  .white-card {
    rad: r;
    c: cm bd bg;
    .title { c: 0 bd bd }
    label { c: cm 0 0 0 }
    select, option, input {
      c: cm 0 bd;
      box-shadow: none;
    }
    .description { margin-top: 32px }
    // Left column.
    .subscription-total {
      c: 0 bd;
      .total-amount { c: blue }
    }
    // Right column.
    .chosen-container {
      // Results.
      .chosen-drop {
        c: 0 bd bd;
        box-shadow: none !important;
        .chosen-results {
          c: fg;
          .highlighted {
            c: fg 0 ac;
            background-image: none;
          }
        }
      }
      // Input element.
      .chosen-single {
        min-height: 34px;
        line-height: 34px;
        c: fg bd bd;
        background-image: none !important;
        box-shadow: none !important;
        // Caret position.
        b { background-position: 0px 6px !important; }
      }
    }
  }
}


@-moz-document regexp("https?://design.gitlab.com(/.*)") {
  // Loading bar.
  .nuxt-progress { colors: 0, 0, ac; }
  // Contribute section.
  .contribute { colors: 0, bd, bg; }
  // Cards.
  .card--header { colors: 0, bd, bd; }
  // Navigation.
  .nav-sidebar {
    colors: 0, bd, 0;
    &__header {
      colors: 0, bd, 0;
      &-anchor { colors: fg, 0, 0; }
    }
    // Links.
    summary:hover, details > a:hover { colors: 0, 0, bd; }
    &__section-items-anchor {
      c: cm;
      &.nuxt-link-exact-active {
        c: fg 0 bd;
        box-shadow: inset 4px 0 ac !important;
      }
    }
  }
  // Fix color details.
  .palette:not(.neutral) > .color { background-color: bd; }
  .todo { colors: 0, bd, bg; }
  table {
    colors: fg, bd, bg;
    thead { colors: 0, bd, bd; }
    td, th { colors: 0, bd, 0; }
    td.header, th.header { colors: 0, bd, bd; }
  }
  // Typography spacing.
  .baseline--typography:after { background-image: linear-gradient(bd 1px, t 0); }
}

@-moz-document regexp("^https?://about.gitlab.com(/.*)$") {
  // * Landing page.
  .hero-container {
    background: none;
    border-bottom: 1px solid;
    colors: cm bd bg;
    &::before {
      opacity: 0.6;
      content: "";
      position: absolute;
      top: 0; left: 0; bottom: 0; right: 0;
      background-image: linear-gradient(160deg, yellow -50%, ac 200%);
    }
    img {
      opacity: 1 !important;
      &.hero-bg { filter: opacity(1) grayscale(100%) !important }
      &.hero-thumb { filter: invert(calc(var(--bg-invert) - 0.2)) hue-rotate(180deg) !important}
    }
  }
  // * Global image reset.
  img, .video_container {
    opacity: faded_img !important;
    transition: 0.15s ease;
    &:hover { opacity: 1 !important; }
  }

  // * Index page for about sub-domain.
  .sdlc-table {
    rad: r !important;
    colors: 0, 0, bg;
    box-shadow: inner !important;
    .sdlc-column:not(:last-child) {
      border-right-color: bd !important;
    }
    .stage-container, .solutions-container {
      border-bottom-color: bd !important;
    }
    .devops-tool-logo-container {
      rad: 0 0 r r;
      colors: 0, 0, bg;
    }
  }
  a.feature-more { colors: ac, 0, 0; }

  // * Blog resources.
  .tile-resource {
    rad: r;
    colors: 0, 0, bg;
    box-shadow: bsh, inner;
    .tile-info  { colors: 0, 0, t; }
  }

  // * Articles.
  .blog.article {
    .overlay { background: linear-gradient(0deg, bg, t 100%); }
    .body { colors: 0, 0, bg; }
    // Anchors.
    .content {
      h1, h2, h3, h4, h5, h6, ul li, a {
        // colors: ac, 0, 0;
        a, code { colors: ac, 0, 0; }
      }
      p a, p a > a { colors: ac, 0, 0; }
    }
    .btn {
      &-red { colors: fg red bd }
      &-default { colors: fg bd 0 }
    }
    .twitter-block .panel-body { colors: cm, 0, bd; }
    // Availability of the features.
    .badge:not(.available) { colors: fg bd bg }
    .top-row .badge.available { colors: white red red }
    .bottom-row .badge.available { colors: white orange orange }
    // Previous/next buttons.
    .pull-left a, .pull-right a { colors: fg, bd, bg; }
    // Signup section.
    .signup {
      max-width: 100%;
      colors: 0, 0, bd;
      > .panel {
        margin: 0 auto;
        max-width: 900px;
      }
    }
    // Disqus section.
    .comments {
      rad: r;
      border: 1px solid;
      colors: 0, bd, bg;
    }
  }
  // Header anchor.
  .header-link > i.fa-link { colors: cm, 0, 0; }
  // Divider between new features.
  [class$="-column"]:last-child { colors: 0, bd, 0; }
  // Navbar.
  .sticky-banner {
    colors: 0, 0, bd;
    box-shadow: 0 0 8px 0 sh;
  }
  .gray-section {
    colors: cm, bd, bg;
  }
  .blog-category-nav ul li {
    colors: cm 0 0;
    &::after { colors: 0 0 ac }
    &:hover { colors: ac 0 0 }
  }

  // * Navbar.
  .navbar {
    a.navbar-brand { colors: 0 0 t }
    // Transparentize header.
    &.navbar-header-transparent {
      colors: 0 0 t;
      box-shadow: none !important;
    }
    // Search.
    .search-box {
      background: none !important;
      colors: fg 0 bg;
      box-shadow: inset 0 -1px bd;
      &-large, .search-input { colors: fg t t }
    }
    .sign-up, .search-icon {
      rad: r;
      colors: 0 0 t;
      &:hover { colors: ac 0 bg }
    }
    .icon-bar { colors: 0 0 cm }
    // Mobile.
    .mobile-menu {
      colors: 0 0 bg;
      li .dropdown a {
        rad: r;
        &:hover { colors: 0 0 bd }
      }
      li .main-nav-link { colors: ac 0 0 }
      ul .sign-up-container {
        colors: 0 0 bg;
        li .sign-up {
          rad: r;
          colors: cm 0 bd;
          &:hover { colors: fg 0 0; }
        }
      }
    }
    // Dropdowns and items.
    .navbar-right ul li {
      a, .search-icon i {
        rad: r;
        colors: fg 0 0;
        &:hover:not(.fa), &:focus { colors: ac 0 bg }
      }
      .dropdown {
        rad: r;
        border: 1px solid;
        colors: cm bd bg;
        a {
          rad: r;
          colors: cm 0 0;
          &:hover { colors: ac 0 bd }
        }
      }
      // Active page indicator.
      &.menu-item-active::after { colors: 0 0 ac }
    }
  }

  // Announcements.
  .announcement-container {
    rad: r;
    colors: cm 0 bg;
    box-shadow: inner;
    img { filter: grayscale(100%) }
  }

  // ? https://about.gitlab.com/releases
  .simple-header, .blank-header {
    z-index: 1;
    &, &::after {
      background-image: linear-gradient(60deg, orange -100%, voilet 200%);
      background-color: bg;
    }
    h1 { text-shadow: 2.5px 2.5px 0 sh; }
    // Prevent custom opacity on these images.
    img {
      pointer-events: none;
      &.hero-image-small {
        opacity: 1 !important;
        filter: drop-shadow(0 4px 4px sh);
      }
    }
  }

  // * Main content.
  .md-page {
    rad: r;
    colors: 0, 0, bg;
    box-shadow: inner, 0 3px 3px 0 sh;
    // Inputs.
    input, select, textarea, fieldset {
      rad: r;
      colors: fg bd bg;
    }
    .highlight {
      colors: fg bd bg;
      > code { colors: 0 t t }
      .err { colors: white 0 red }
    }
    li {
      colors: cm, 0, 0;
      a {
        colors: ac, 0, 0;
        code { colors: ac, 0, 0; }
      }
    }
    p.date { font-weight: bold; }
    .breadcrumb { colors: 0, 0, bd; }
    .breadcrumb > li + li::before { colors: cm, 0, 0; }
  }

  // ? https://about.gitlab.com/press/press-kit
  .tile {
    rad: r;
    colors: 0, 0, bg;
    transition: 0.2s ease;
    box-shadow: inner, bsh;
    &:hover { box-shadow: inner, 0 4px 8px 2px sh; }
    .list { colors: 0, bd, 0; }
    .list > a { colors: 0, bd, 0; }
  }
  // Article borders.
  .press-block { colors: 0, bd, 0; }
  // Mini nav.
  .press-toc-links, .toc-links {
    a { colors: fg, 0, 0; }
    a:hover { colors: ac, t, 0; }
  }

  // ? https://about.gitlab.com/solutions/public-sector
  .summary-container, .characteristics-container {
    colors: 0, bd, bg;
  }
  .form-container {
    margin-bottom: -80px;
    colors: 0, 0, bg;
  }

  // ? https://about.gitlab.com/pricing/
  .tabs-wrapper {
    colors: 0, bd, 0;
    .pricing-tabs {
      li { colors: 0, bd, bg; }
      li.active { colors: 0, bd, bd; }
    }
  }
  // Plans.
  .plan-row .plan {
    colors: cm, orange, bg;
    box-shadow: inner;
    li > a { color: ac; }
    .btn-pricing { colors: ac, ac, 0; }
    .plan-name, .all-features { colors: fg, bd, 0; }
  }

  // QnA.
  .faq {
    margin-bottom: -80px;
    colors: 0, bd, bg;
    .faq-item {
      .faq-inner-item { colors: cm, bd, 0; }
      &.is-open .faq-inner-item {
        colors: fg, bd, 0;
        .faq-answer p { colors: 0, 0, bd; }
      }
    }
  }

  // Sign up.
  .mktoForm {
    input[type], select.mktoField, textarea.mktoField {
      colors: fg bd bg;
    }
  }
  .newsletter-form .mktoButton {
    colors: fg, sh, bg;
    &:hover {
      colors: ac, sh, bg;
    }
  }
  .newsletter-form .mktoForm .mktoLogicalField label {
    color: fg !important;
  }

  // Page -> Case studies.
  .case-study-page {
    .customer-info-section-wrapper { colors: 0 bd 0 }
    .customer-case-section-wrapper { colors: 0 0 bg }
  }

  // Page -> Jobs.
  .jobs-content-row {
    colors: 0 0 bg;
    // OpenStreetMap reset.
    + div .teleport-thing {
      margin-top: 20px;
      iframe { rad: r }
    }
  }

  // Front page
  .sdlc-container .sdlc-table {
    td:not(:last-child), td:not(:last-child), tr:not(:last-child) {
      border-color: bd !important;
    }
    .competitor-logo-container {
      background-color: bd !important;
    }
  }

  // Cards.
  .gke-layer .gke-layer-body, .gke-layer .k8s-layer-media,
  .testimonials-container .testimonials-row .testimonial, .forrester-graphic-title,
  .feature, .integrated-teams {
    border: 1px solid;
    rad: r !important;
    colors: fg bd bg;
    box-shadow: bsh;
  }
  .k8s-layer-media { margin-left: 16px }
  .u-subtle-bg {
    background-color: bg;
  }
  .flex-tile-list > .tile {
    colors: fg, bd, bd;
  }
  .cta-btn {
    transition: 0.15s ease;
    rad: r;
    &.orange {
      colors: white orange orange;
      &:hover { opacity: 0.8 }
    }
    &.accent {
      colors: white ac ac;
      &:hover { opacity: 0.8 }
    }
  }
  .panel, .panel-info > .panel-heading {
    colors: fg, bd, bd;
  }
  .panel-success > .panel-heading {
    colors: cm, green, green;
    .panel-title {
      color: cm !important;
    }
  }
  .panel-warning > .panel-heading {
    colors: cm, orange, orange;
    .panel-title {
      color: cm !important;
    }
  }
  // Featured Posts cards
  .blog.list {
    .article-information {
      colors: cm, sh, bd;
      a {
        color: ac !important;
      }
    }
    .more, .browse {
      colors: cm, bg, bg;
      &:hover {
        background-color: ac !important;
      }
    }
  }
  .blog .callout, .blog .gitlab-trial {
    colors: cm, sh, bd;
  }

  // * Handbook search.
  .st-ui {
    &-autocomplete, &-slide-autocomplete {
      > div[class] {
        rad: r !important;
        colors: fg bd bg;
        box-shadow: bsh;
      }
    }
    &-result[href] {
      border-color: bd !important;
      &:hover { colors: fg bd bd }
      .st-ui-type-heading {
        colors: ac 0 0;
        em {
          colors: white 0 ac;
          box-shadow: inset 0 -1px ac;
        }
      }
      .st-ui-type-detail, .st-ui-type-detail-bold {
        colors: cm 0 0;
        em {
          colors: ac 0 t;
          box-shadow: inset 0 -1px ac;
        }
      }
    }
  }

  // Search
  .st-ui-injected-overlay-container {
    colors: cm, bd, bg;
    .st-ui-header, .st-ui-footer {
      colors: cm, bd, bg;
      input[type="text"] {
        color: cm !important;
      }
    }
  }
  a.st-ui-close-button {
    filter: invert(1);
  }

  // Code
  .command, .alert-warning {
    colors: ac, sh, bd;
  }
  .panel-body pre {
    colors: ac, sh, bg;
  }
  .method p a:not(.btn) {
    color: ac !important;
  }
  .distro-content .display-extra-links li {
    a {
      colors: ac, $darler, 0;
      background: t !important;
      text-shadow: none !important;
      text-decoration: none !important;
    }
    &:not(:last-child)::before {
      background-color: bd !important;
    }
  }

  // Footer.
  .footer {
    margin-top: 50px;
    padding-top: 20px;
    border-top: 1px solid;
    colors: 0 bd bg;
  }

  // Footer -> Sources.
  .source-link {
    c: cm 0 bg;
    box-shadow: 0 -1px bd;
    a[href] { c: ac cm }
  }

  // * Feature -> Custom logo.
  if ( dark_logo == 1 ) {
    svg.nav-logo {
      filter: drop-shadow(0 2px 4px sh);
      path:nth-child(1) { v: fg 0 }
      path:nth-child(2), path:nth-child(5), path:nth-child(8) { v: bg 0 }
      path:nth-child(7), path:nth-child(4) { v: bg 0 }
      path:nth-child(3), path:nth-child(6) { v: ac 0 }
    }
  }

  // Applications -> Search.
  .search-container {
    border: 1px solid bd;
    rad: r;
    c: fg 0 bg;
    input { c: fg 0 bg }
    .suggestions {
      c: 0 0 bg;
      li { rad: r; }
      .selected-suggestion, li:hover { c: 0 0 hl }
      .hl { c: 0 0 ac }
    }
  }
  // Categories.
  .category {
    &-name { c: fg 0 0 }
    &-applications .tile:hover { c: 0 0 hl }
  }
  // Scroll.
  .scroll-to-top { c: fg 0 hl }
}

// ? Not extensively tested, mainly a refactor of old working code.
@-moz-document regexp("^https?://forum.gitlab.com(/.*)$") {
  // Top bar.
  nav#bar {
    colors: 0 0 bd;
    li a {
      colors: cm 0 0;
      &:hover { colors: fg 0 0 }
    }
  }

  // Navigation and menu.
  .d-header {
    colors: 0 bd bg;
    .icon { &:hover { colors: 0 bd bd }}
    .active { > a { &, &::after { colors: 0 bd bg }}}
    .menu-panel {
      rad: r;
      colors: 0 bd bg;
      box-shadow: bsh;
      // Burger
      ul a {
        colors: fg 0 0;
        &:hover, &:focus { colors: 0 t bd }
      }
    }
  }

  input[type] {
    colors: cm bd bg;
    &:focus {
      colors: fg ac 0;
      box-shadow: none !important;
    }
  }

  // Advanced search.
  .search-container {
    .search-advanced-title { colors: 0 0 bd }
    .search-advanced-filters {
      colors: 0 0 bg;
      box-shadow: inner;
    }
    // Posted by.
    .ac-wrap {
      colors: 0 bd bg;
      .ac-user {
        colors: 0 bg bg;
        box-shadow: inner;
        li { colors: 0 bd 0 }
        a {
          colors: cm 0 0;
          &:hover, &.selected { colors: 0 0 bd }
          .username { colors: fg 0 0 }
        }
      }
    }
  }

  // Dropdowns.
  .select-kit {
    .is-focused {
      colors: 0 ac 0;
      box-shadow: none !important;
    }
    .is-highlighted { colors: fg 0 bd }
    .combo-box-header { colors: fg bd bg }
    &-collection { box-shadow: inner }
    &.multi-select { colors: 0 bd bg }
    &-header { colors: cm bd t }
    &-filter { colors: 0 bd bg }
    &-body {
      box-shadow: bsh;
      ../-collection { colors: 0 0 bg }
      span, .topic-count { colors: cm 0 0 }
    }
    .period-chooser {
      .top-date-string { colors: cm 0 0 }
      .date-section { colors: ac 0 0 }
    }
  }

  // Shortcuts.
  #keyboard-shortcuts-help ul b {
    border-bottom: 1px solid;
    colors: fg bd bg;
    box-shadow: bsh;
  }

  // Breadcrumbs.
  .nav-pills {
    a { colors: cm t bg }
    .active a { colors: ac 0 0 }
  }

  // Post badges.
  .badge-wrapper.bar span.badge-category { colors: cm 0 0 }

  // Topic list.
  .topic-list {
    .num, .badge-posts[href] { colors: cm 0 0 }
    .sortable:hover { colors: ac 0 t }
    .topic-excerpt { colors: cm 0 0 }
    .main-link a.title {
      colors: fg 0 0;
      &:visited { colors: ac 0 0 }
    }
    // Tables.
    tr {
      colors: 0 bd 0;
      th { colors: cm 0 0 }
      &:hover > td { colors: 0 0 bd }
    }
    tbody { colors: 0 bd 0 }
  }
  // Number of views.
  .heatmap {
    &-high { &, span { colors: red 0 0 }}
    &-med { &, span { colors: orange 0 0 }}
    &-low { &, span { colors: yellow 0 0 }}
  }
  // Last visit.
  .topic-list .topic-list-item-separator td {
    colors: 0 ac 0;
    span { colors: ac sh bd }
  }
  // Tags.
  .discourse-tag.simple {
    &, &:hover { colors: cm 0 0 }
    &:visited { colors: ac 0 0 }
  }

  // Main content.
  #main {
    .title-wrapper h1 a, .topic-link { colors: fg 0 0 }
    .topic-body, .topic-avatar, .topic-status-info { colors: 0 bd 0 }
    .onebox { colors: 0 bd 0 }
    .post-links-container {
      .post-links { colors: 0 bd 0 }
      ul li a[href] { colors: fg 0 0}
    }
  }

  // Remove animation.
  .topic-body {
    &, &.highlighted { animation: 0s !important; }
  }
  // Pinned topics
  .names span a { colors: cm 0 0 }
  .small-action {
    colors: 0 bd 0;
    .small-action-desc { colors: fg 0 0 }
  }
  // Mods.
  .moderator {
    .names span.user-title, .regular > .cooked { colors: ac 0 bd }
  }
  .alert.alert-info { colors: cm 0 bd }
  // Mentions.
  a.mention, a.mention-group { colors: ac 0 bd }

  // Code blocks.
  .topic-post {
    * > code, blockquote { colors: cm bd bd }
  }
  .quote-button {
    colors: cm bd fg;
    box-shadow: bsh !important;
  }
  aside.quote .title { colors: fg ac bd }

  // Badges.
  .badge-notification { colors: ac 0 bd }
  .badge-card {
    colors: 0 bd bg;
    .badge-contents .badge-info {
      border: none !important;
      colors: cm 0 t;
      h3 { colors: ac 0 0 }
    }
    .badge-contents .badge-icon {
      &.badge-type-gold .fa { colors: yellow 0 0 }
      &.badge-type-silver .fa { colors: fg 0 0 }
      &.badge-type-bronze .fa { colors: orange 0 0 }
    }
  }

  // Like and share buttons.
  nav.post-controls {
    *:hover { colors: 0 0 t }
    .like-button {
      .like-count { colors: fg 0 0 }
      &:hover {
        .like-count { colors: ac 0 0 }
        .d-hover { colors: ac 0 0 }
      }
    }
  }
  #share-link { colors: 0 0 bd }
  // Reply.
  nav.post-controls button.create {
    colors: fg 0 0;
    &:hover { colors: ac 0 0 }
  }

  // Topic map.
  .topic-map {
    colors: 0 sh bd;
    section { colors: 0 sh 0 }
    .buttons .btn, .link-summary .btn { colors: 0 sh bd }
    .map .number, .map i, span.domain { colors: fg 0 0 }
    td { colors: 0 0 t }
  }

  // Timeline.
  .timeline-container .topic-timeline {
    .timeline-handle { colors: 0 0 cm }
    .timeline-scrollarea { colors: 0 cm 0 }
    .timeline-replies { colors: cm 0 0 }
    .timeline-ago, .start-date, .now-date { colors: fg 0 0 }
  }
  #topic-progress-wrapper {
    .timeline-fullscreen, #topic-progress, .bg { colors: cm t t }
    .topic-timeline { .username, .title a { colors: ac 0 0 }}
  }

  // New topic modal/comment modal.
  .open .grippie { colors: 0 0 ac }
  #reply-control {
    colors: fg bd bg;
    box-shadow: none !important;
    .reply-to .action-title, #draft-status, #file-uploading {
      colors: fg 0 0
    }
    .save-or-cancel .cancel {
      colors: cm 0 0
      &:hover { colors: red 0 0 }
    }
  }
  .select-kit.dropdown-select-box {
    .select-kit-body { colors: fg bd bg }
    &.toolbar-popup-menu-options .select-kit-row {
      colors: cm 0 bg;
      &:hover .name { colors: ac 0 0 }
      .name, .d-icon { colors: fg 0 0 }
    }
    .select-kit-row .texts .name { colors: ac 0 0 }
    .select-kit-row .texts .desc { colors: fg 0 0 }
  }
  .composer-popup { colors: cm bd bg }

  // User pages.
  .user-content { colors: 0 0 bg }
  .user-main .about {
    .details, &.collapsed-info .details { colors: 0 bd bg }
    &.collapsed-info .controls ul a, & .controls a { colors: fg 0 bd }
    .secondary {
      colors: 0 bd bg;
      dt { colors: fg 0 0 }
      dd { colors: cm 0 0 }
    }
  }
  .stats-section .value { colors: fg 0 0 }
  .user-main .d-icon-heart { colors: red 0 0 }
  // Top borders.
  .top-sub-section li { colors: 0 bd 0 }
  // Other usernames.
  .user-info .user-detail .username a { colors: cm 0 0 }
  .user-info .user-detail .name { colors: fg 0 0 }
  // Text colors.
  .links-section .domain { colors: fg 0 0 }
  .top-sub-section .topic-info { colors: fg 0 0 }
  // User activity.
  .user-stream {
    .item, .user-stream-item { colors: 0 sh bd }
    .time, .delete-info { colors: fg 0 0 }
  }
  .user-navigation .nav-stacked a, .controls > .btn[href] { colors: cm 0 0 }
  // Logged user settings.
  .user-preferences {
    .static { colors: cm 0 0 }
    .instructions { colors: fg 0 0 }
  }

  // About.
  .user-preferences .bio-composer, .group-form-bio, .edit-category-tab-topic-template {
    colors: 0 sh 0;
    & .d-editor-preview { colors: 0 0 bg }
    & textarea { colors: fg 0 0 }
  }
  .d-editor {
    &-spacer, &-button-bar { colors: 0 0 sh }
    &-textarea-wrapper {
      colors: fg bd bd;
      textarea { colors: fg bd bg }
    }
    // Insert link.
    & .d-editor-modal { colors: fg bd bg }
  }

  // Emojis.
  .emoji-picker {
    colors: fg bd bg;
    box-shadow: bsh;
    .categories-column { colors: 0 bd bg }
    .filter {
      colors: 0 bd 0;
      .clear-filter .fa, .d-icon-search .fa {
        colors: cm 0 0;
        &:hover { colors: fg 0 0 }
      }
    }
    .section-header .title { colors: cm 0 0 }
    button.emoji:hover { colors: 0 0 bg }
    .footer { colors: 0 bd 0 }
  }

  // Upload image.
  .uploaded-image-preview { color: 0 0 bd }
  .upload-selector .radios .inputs input[type="file"] { colors: fg 0 0 }

  // Modals.
  .modal {
    &-header { colors: fg bd 0 }
    &-inner-container {
      colors: fg bd bg;
      box-shadow: bsh !important;
    }
    .modal-body label { colors: cm 0 0 }
    // History.
    &.history-modal {
      #revision-details, tbody { colors: 0 sh 0 }
      .diff-ins { colors: cm 0 green }
    }
  }

  // Notifications.
  .user-menu .notifications li {
    colors: fg bd bg;
    &:hover, &:focus { colors: 0 0 bd }
    span { colors: ac 0 0 }
  }
  div.menu-links-header a {
    color: cm;
    &:hover, &:focus { colors: ac 0 bg }
  }

  // Login/register.
  #simple-container { colors: 0 0 bd }
  #login-buttons:not(.hidden) { colors: 0 bd 0 }
  button#login-link, button#new-account-link { colors: cm 0 0 }
  #login-form a { colors: fg 0 0 }
}

@-moz-document regexp("https?://docs.gitlab.com(/.*)") {
  // * Landing page.
  .landing {
    // Search container.
    .landing-header {
      colors: fg 0 bg;
      box-shadow: 0 1px 0 0 bd, 0 2px 8px 0 sh;
      // Navbar.
      &-top {
        colors: 0 bd bg;
        box-shadow: 0 1px 0 0 bd, bsh;
        // Items.
        .header-link {
          transition: 0.15s ease;
          text-decoration: none !important;
          &:hover p { colors: ac, 0, 0; }
        }
      }
      // Search.
      .input-container {
        img { filter: invert(var(--bg-invert)) }
        input {
          border: 1px solid bd;
          rad: r;
          colors: fg 0 hl;
          &:focus { box-shadow: 0 4px 16px -4px sh; }
        }
      }
    }
    // Cards.
    .main-topics li {
      rad: r;
      border: 1px solid;
      colors: 0 bd bg;
      box-shadow: 0 4px 16px -4px sh !important;
    }
    // Most popular topics.
    .topic h4 { colors: 0, bd, 0; }
  }

  // * Navigation.
  .header {
    colors: 0 bd bg;
    // Search bar.
    #search-form {
      colors: cm 0 0;
      // Found on docs/.../archives page.
      .docsearch {
        rad: r;
        colors: cm 0 bd;
      }
      input[type="text"] {
        padding: 2px 11px 2px 28px;
        line-height: 30px;
        rad: r;
        colors: fg bd 0;
      }
    }
    // Docs versions.
    .btn-versions { colors: cm bd t }
    .versions-tooltip { colors: fg, 0, bg; }
    // Main navigation.
    .nav-item a { colors: fg, 0, 0; }
    .nav-item:hover a { colors: ac, 0, 0; }
  }

  // Cards
  .main-topics li .wrapper h2 {
    border-color: bd !important;
  }

  // Footer
  .footer {
    colors: 0 0 bg;
    box-shadow: 0 -1px 0 0 bd, 0 -2px 4px 0 sh;
    // Colorize icons.
    a:hover .fa { colors: ac, 0, 0; }
  }

  // Logo
  if ( dark_logo == 1 ) {
    .landing .landing-header-top .logo, .header img {
      height: 0 !important;
      width: 0 !important;
      padding: 40px 0 0 40px !important;
      background-image: url("https://gitlab.com/vednoc/dark-gitlab/raw/master/images/docs_logo.png") !important;
      background-size: 40px 40px;
      background-repeat: no-repeat;
    }

    .footer-logo path.logo-dark-orange-shape:nth-child(4), .footer-logo path.logo-light-orange-shape:nth-child(3) {
      dark-logo: t, 0, 0, 0, 0;
    }
    .footer-logo path.logo-svg-shape:nth-child(1) {
      dark-logo: 0, t, 0, 0, 0;
    }
    .footer-logo path.logo-dark-orange-shape:nth-child(7), .footer-logo path.logo-light-orange-shape:nth-child(6) {
      dark-logo: 0, 0, t, 0, 0;
    }
    .footer-logo path.logo-orange-shape:nth-child(2) {
      dark-logo: 0, 0, 0, t, 0;
    }
    .footer-logo path.logo-orange-shape:nth-child(5) {
      dark-logo: 0, 0, 0, 0, t;
    }
  }

  // * Main content.
  .main {
    border: none;
    h1 { colors: 0, bd, 0; }
    img { box-shadow: none !important; }
    * > a { colors: ac, 0, 0; }
    // Help and feedback section.
    .comments {
      margin: 16px auto -16px auto;
      rad: r;
      border: 1px solid;
      colors: 0 bd bg;
      .nav-tabs {
        margin: 0;
        border-color: bd;
        li a {
          border-bottom: none;
          rad: r r 0 0;
          colors: cm bd t;
          &.active { colors: fg bd bd }
        }
      }
      // Buttons.
      .comments-filter a.comments-holder {
        colors: 0 bd bg;
        box-shadow: none !important;
      }
      .tab-content .row {
        margin-top: 16px;
        colors: 0 bd 0;
      }
    }
  }
  .anchor {
    filter: invert(1);
  }
  .badge-small:hover::after {
    colors: ac, sh, bd;
    box-shadow: bsh !important;
  }

  // * Left sidebar.
  .nav-wrapper {
    c: 0 bd bg;
    .global-nav {
      c: 0 0 t;
      a.active { c: cm ac bd }
      &-block-top a {
        color: fg;
        text-shadow: none;
      }
      &-link {
        color: cm;
        box-shadow: none !important;
        transition: all 0.15s ease-in-out;
        &:visited { colors: voilet 0 0 }
        &:hover, &:focus { colors: fg, 0, bd; }
      }
      .nav-link {
        transition: 0.15s ease;
        &:hover {
          colors: 0 0 bd;
          box-shadow: none;
        }
      }
    }
    // Collapse sidebar.
    .nav-toggle {
      c: 0 t t;
      box-shadow: 0 -1px bd !important;
      &:hover { c: 0 0 hl }
      .label { c: fg }
      .arrow { &::before, &::after { c: 0 0 cm }}
    }
  }

  // * Right sidebar.
  .doc-nav {
    right: -12px;
    height: calc(100vh + 20px);
    colors: cm 0 t;
    // Wrapper.
    #markdown-toc {
      a {
        text-decoration: none;
        colors: cm 0 0;
        &:hover { colors: fg 0 0 }
        &.active { colors: ac 0 0 }
      }
    }
  }

  // * Search results page.
  // ? https://docs.gitlab.com/search/?q=test&idx=gitlab&p=1
  .instantsearch-input {
    .ais-search-box {
      colors: 0 0 t;
      &--input {
        rad: r;
        colors: fg bd bg;
        box-shadow: bsh;
        &:focus { colors: 0 ac 0 }
      }
      &--magnifier { pointer-events: none }
    }
    .search-results {
      .ais-stats {
        &, .stats {
          opacity: 1;
          colors: cm 0 0;
        }
      }
      .ais-header {
        colors: 0 bd 0;
        + .ais-body {
          label { colors: fg 0 0 }
          label > span { colors: fg 0 bd }
        }
      }
      // Results.
      .hit {
        &-content {
          padding: 8px;
          font-size: 1rem;
          colors: 0 t 0;
          box-shadow: none;
          em { colors: ac 0 t }
        }
        &-text { colors: cm 0 0 }
        &-tag {
          rad: 0 0 3px 3px;
          colors: fg t t;
        }
      }
      .ais-infinite-hits {
        rad: r;
        colors: 0 0 bg;
        box-shadow: inner;
        &__empty { padding: 8px }
        &--item:not(:first-child) { box-shadow: 0 -1px bd }
        &--showmore > button {
          rad: r;
          border: 1px solid;
          colors: cm bd bg;
        }
      }
    }
  }

  // * Code blocks.
  pre.highlight {
    rad: r;
    colors: 0 bd t;
    box-shadow: bsh;
    code {
      white-space: pre-wrap;
      word-break: break-all;
      rad: inherit;
      colors: 0 t 0;
    }
    // Copy to clipboard.
    .clip-btn {
      top: 1px; right: 1px;
      rad: 0 r 0 0;
      c: cm 0 hl;
      .fa-clipboard::before { color: cm; }
    }
    // Syntax highlighting.
    code, .na, .c { colors: cm, 0, 0; }
    .n, .p, .nb { colors: fg, 0, 0; }
    .pi { colors: red, 0, 0; }
    .no { colors: voilet, 0, 0; }
    .na { colors: cm, 0, 0; }
    .s1, .s2 { colors: green, 0, 0; }
    .kp, .k { colors: voilet, 0, 0; }
    .nt { colors: blue, 0, 0; }
    .se, .err { colors: orange, 0, 0; }
    .o { colors: cyan, 0, 0; }
  }

  // Footer -> Sources.
  .source-link {
    c: cm 0 bg;
    box-shadow: 0 -1px bd;
    a[href] { c: ac }
  }
}

@-moz-document domain("status.gitlab.com") {
  // * Header.
  #statusio_header {
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    // ? Make the header image smaller.
    #statuspage_header_image {
      float: left;
      width: 100%;
      max-width: 400px;
      &::before, &::after { clear: both; }
    }
  }

  // * Status bar.
  [style*="background:#C44031"] { colors: 0, 0, red; }
  [style*="background:#27AE60"] { colors: 0, 0, green; }
  [style*="background:#00AAF0"] { colors: 0, 0, blue; }
  [style*="background:#FFA837"] { colors: 0, 0, yellow; }

  // * About section.
  .section_border_1 {
    colors: 0, bd, bg;
    a { colors: ac, 0, 0; }
    // Icons and text elements nested within them.
    .fa {
      span { colors: fg, 0, 0; }
      &-check { colors: green, 0, 0; }
    }
  }

  // * Table.
  .status_td { colors: cm, bd, bg; }

  // * History timeline.
  #statusio_history .history-filter-text, .back-text { colors: cm, 0, 0; }
  #statusio_history_timeline .timelineContainer {
    colors: 0, bd, 0;
    .incident_time { colors: fg, 0, 0; }
    .timelineMajor h2 {
      background-image: none !important;
      &::after {
        content: "";
        position: absolute;
        margin-top: 20px;
        left: 16px;
        width: 24px;
        height: 2px;
        colors: 0, 0, bd;
      }
    }
    .timelineMinor dt {
      background: none;
      .open, .closed { colors: cm, 0, 0; }
      &::before {
        content: "";
        position: absolute;
        margin-top: 20px;
        left: 0px;
        width: 12px;
        height: 2px;
        colors: 0, 0, bd;
      }
    }
    hr { colors: 0, 0, bd; }
  }

  // * Labels.
  .label-success { colors: fg, 0, green; }
  .label-info { colors: fg, 0, blue; }

  // * Rounded corners.
  .make_round {
    rad: r;
    &.make_round_bottom_only { rad: 0 0 r r; }
    &.panel-heading { rad: r r 0 0; }
  }
  .component {
    &_first { rad: r r 0 0; }
    &_last { rad: 0 0 r r; }
  }

  // * Footer.
  #bottom_menu {
    a { colors: ac, 0, 0; }
    strong a { text-decoration: underline; }
  }
}

@-moz-document domain("next.gitlab.com") {
  body {
    background: none !important;
    .wrapper > img.bg { opacity: 0 }
  }
  .white-box {
    rad: r;
    border: 1px solid;
    colors: fg, bd, bg;
    a { colors: ac, 0, 0; }
    .text-switch { colors: cm, 0, 0; }
    .switch .cmn-toggle-round {
      + label { colors: 0, 0, bd; }
      + label::after { colors: 0, 0, bd; }
      + label::before { colors: 0, 0, bg; }
      &:checked + label::before { colors: 0, 0, blue; }
    }
  }
  .footer a { colors: fg, 0, 0; }
}
