/* ==UserStyle==
@name         GitLab Dark by Mew
@namespace    gitlab.com/vednoc/dark-gitlab
@version      0.45.0
@description  Dark theme for GitLab.
@author       vednoc
@homepageURL  https://gitlab.com/vednoc/dark-gitlab
@supportURL   https://gitlab.com/vednoc/dark-gitlab/issues
@updateURL    https://gitlab.com/vednoc/dark-gitlab/raw/master/gitlab.user.styl
@preprocessor stylus

@var text     b_radius  "Custom border radius" 4px
@var text     a_radius  "Custom avatar radius" 50%
@var text     max_width "Custom width for fluid/fixed layout" 100%
@var text     ui_font   "Custom UI font" "'custom_font', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans', Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji'"
@var text     mono_font "Custom mono font" "'custom_font', 'Menlo', 'DejaVu Sans Mono', 'Liberation Mono', 'Consolas', 'Ubuntu Mono', 'Courier New', 'andale mono', 'lucida console', monospace"
@var text     emoji_font "Custom emoji font" "'custom_font', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'"
@var text     faded_img "Fade images in md/wiki/blog" "1"
@var checkbox gl_icons  "GitLab Icons [Add-on]: Fix icon alignment" 0
@var checkbox p_header  "Center project header elements" 0
@var checkbox dark_logo "Switch to our darker logo" 0
@var checkbox navbar_c  "Navbar: Theme navbar color" 1
@var checkbox navbar_n  "Navbar: Show 'next' badge" 1
@var checkbox invert_ic "Icons: Invert in Chromium-based browsers" 1
@var checkbox enable_sb "Enable custom scrollbars" 1
@var checkbox bg_invert "Background inversion" 1
@var text     bg_image  "Background url/base64" "url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAA7SURBVCiRY2BgYHBgQABbBgaGlwwMDE4ExBwYGBheMRBQRJQY/TUyQN3uQIZGBzhBhsbRACNR44gMMADUtz9VRtuY9AAAAABJRU5ErkJggg==")"
@var text     bg_filter "Background filters" opacity(0.05) invert(var(--bg-invert))
@var text     bg_size   "Background size" 15px
@var text     bg_repeat "Background repeat" repeat
@var text     bg_pos    "Background position" center

@var color dark    "Dark color."    #212121
@var color darker  "Darker color."  #2e2e2e
@var color light   "Light color."   #e6e6e6
@var color lighter "Lighter color." #bfbfbf
@var color accent  "Accent color."  #bf692b
@var color yellow  "Yellow color."  #f0c674
@var color orange  "Orange color."  #d98245
@var color red     "Red color."     #a54242
@var color magenta "Magenta color." #b294bb
@var color violet  "Violet color."  #85678f
@var color blue    "Blue color."    #54738c
@var color cyan    "Cyan color."    #5e8d87
@var color green   "Green color."   #7b823a
@var color white   "White color."   #ffffff
@var color shadow  "Shadow color."  #00000025

==/UserStyle== */

@-moz-document regexp("^https?://(www\.)?([A-Za-z0-9]+\.)?(gitlab\.(?!(io|biterg.io|custom.domain)).*|your.custom.domain|code.videolan.org|gitgud.io|salsa.debian.org|framagit.org|source.joinmastodon.org|repo.getmonero.org|git.gnu.io|git.synz.io)(/.*)?$") {
  :root {
    --note      : "Dark-GitLab v0.45.0";
    --dark      : dark;
    --darker    : darker;
    --light     : light;
    --lighter   : lighter;
    --accent    : accent;
    --shadow    : shadow;
    --box-shadow: 0 2px 3px 0 var(--shadow);
    --yellow    : yellow;
    --orange    : orange;
    --red       : red;
    --magenta   : magenta;
    --violet    : violet;
    --blue      : blue;
    --cyan      : cyan;
    --green     : green;
    --white     : white;
    --t         : transparent !important;
    --width     : max_width;
    --radius    : b_radius;
    --avatar    : a_radius;
    --ui-font   : ui_font;
    --mono-font : mono_font;
    --emoji-font: emoji_font;
    --bg-invert : bg_invert;
    --bg-filter : bg_filter;
    --bg-size   : bg_size;
    --bg-repeat : bg_repeat;
    --bg-pos    : bg_pos;
    --background: bg_image;
  }

  // * Use stylus-lang variables with CSS variables.

  $dark    = var(--dark);
  $darker  = var(--darker);
  $light   = var(--light);
  $lighter = var(--lighter);
  $accent  = var(--accent);
  $shadow  = var(--shadow);
  $yellow  = var(--yellow);
  $orange  = var(--orange);
  $red     = var(--red);
  $magenta = var(--magenta);
  $violet  = var(--violet);
  $blue    = var(--blue);
  $cyan    = var(--cyan);
  $green   = var(--green);
  $white   = var(--white);
  $radius  = var(--radius);
  $t       = var(--t);
  $box     = var(--box-shadow);
  $outer   = 0 0 0 1px $darker;
  $inner   = inset 0 0 0 1px $darker;

  // * Color mixin; use the new one.
  // ? All colors -> `colors: $light $darker $dark;`
  // ? Only background-color -> `colors: 0 0 $dark;`
  colors(x, y, z) {
    if x is a 'call' { color: x !important }
    if y is a 'call' { border-color: y !important }
    if z is a 'call' { background-color: z !important }
  }
  // All colors: `c: $light $darker $dark;`
  // Only border-color: `c: 0 $darker;`
  c(x, y = 0, z = 0, xi = 1, yi = 1, zi = 1) {
      if x is a 'call' or x is a 'rgba' {            color: xi is 0 ? x : x !important }
      if y is a 'call' or y is a 'rgba' {     border-color: yi is 0 ? y : y !important }
      if z is a 'call' or z is a 'rgba' { background-color: zi is 0 ? z : z !important }
  }
  // * Inlined SVGs.
  // ? Only fill -> `isvg: $accent 0;`
  isvg(x, y = 0) {
    if x is a 'call' { fill: x !important; }
    if y is a 'call' { stroke: y !important; }
  }
  // * Border radius mixin.
  radius() { border-radius: arguments }

  // * Scrollbars.
  if ( enable_sb == 1 ) {
    html { scrollbar-color: $darker $dark }
    ::-webkit-scrollbar {
      width: 12px;
      &-track { background: $dark; }
      &-thumb { background: $darker; }
    }
  }
  // Input placeholder.
  ::placeholder { color: $lighter !important; }
  ::-webkit-input-placeholder { color: $lighter !important; }

  body {
    colors: $light 0 $t;
    font-family: var(--ui-font);
    // Fixes content shift when modal is open.
    &.modal-open { padding-right: 0px !important; }
    // Empty navbar.
    &.navless {
      colors: $light 0 $t;
      height: calc(100% - 41px);
      .navbar-empty { colors: 0 $darker $dark }
    }
    // Footer.
    .footer-fixed {
      colors: 0 $darker $dark;
      + .footer-container {
        max-width: 100%;
        colors: 0 0 $dark;
      }
    }
    // ? Browser defaults.
    time { color: $light }
    h1, h2, h3, h4, h5, h6, p { colors: $light 0 0 }
    ul, ol { color: $light }
    a {
      transition: 0.15s ease;
      color: $accent;
      &:hover, &:focus { color: $accent }
    }
    hr {
      margin: 16px auto;
      colors: 0 $darker $t;
    }
    img { &.transparent, &.lazy { colors: 0 $darker $t }}
    code { c: $light $darker $dark 0 0 0 }
    pre {
      radius: $radius;
      font-family: var(--mono-font);
      c: $light $darker $dark 0 0 0;
    }

    // Checkbox/radio inputs.
    input[type="checkbox"], input[type="radio"] {
      &, &:focus, &:hover:active, &:disabled, &:hover:active:disabled {
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        appearance: none !important;
        height: 1em !important;
        width: 1em !important;
        border: 1px solid !important;
        colors: $light $darker $darker;
      }
      &:hover { box-shadow: 0 0 2px 1px $lighter !important }
    }
    input[type="radio"] {
      border-radius: 100% !important;
      &:checked { colors: 0 $shadow $accent }
    }
    input[type="checkbox"] {
      &:checked { colors: 0 $shadow $accent }
      &:indeterminate { colors: 0 $shadow $red }
    }
  }

  // Custom icons for checkbox/radio inputs.
  @css {
    input[type="radio"]:checked {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><circle cx="256" cy="256" r="128" fill="white"/></svg>') !important;
      background-size: cover !important;
    }
    input[type="checkbox"]:checked {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M99 213l-1 89 104 102 205-201v-91L203 315 99 213z"/></svg>') !important;
      background-size: cover !important;
    }
    input[type="checkbox"]:indeterminate {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><rect x="128" y="192" width="256" height="96" fill="white"/></svg>') !important;
      background-size: cover !important;
    }
  }

  // * Table -> Base styles for all `table` elements.
  table:not([class]) {
    radius: $radius;
    display: table !important;
    border-style: hidden !important;
    border-collapse: collapse !important;
    colors: 0 0 $dark;
    box-shadow: inset 0 0 0 1px $darker;
    thead {
      colors: 0 0 $t;
      th { colors: $light $darker $darker }
      tr:first-child {
        th { border: none !important }
        > th:first-child { border-top-left-radius: $radius; }
        > th:last-child { border-top-right-radius: $radius; }
      }
    }
    tbody {
      colors: 0 $darker $t; // Fixes large top border in docs.
      td {
        word-break: break-all;
        colors: $light $darker $t;
      }
      // AsciiDoc tables.
      tr > th {
        border: none !important;
        c: $light 0 $darker;
      }
      tr:last-child {
        // Bottom corners look a bit off on Firefox.
        th, td { &:first-child { border-bottom-left-radius: $radius; }}
        td:last-child { border-bottom-right-radius: $radius; }
      }
    }
  }
  // * Table -> Found on: https://gitlab.com/help
  *:not(.use-csslab) table[data-sourcepos][dir] {
    > thead {
      display: flex;
      > tr {
        width: 100%;
        display: flex;
        > th {
          flex: 1 1 100%;
          colors: $light 0 0;
        }
      }
    }
    > tbody {
      display: flex;
      flex-direction: column;
      colors: 0, 0, $dark;
      > tr {
        display: flex;
        // Remove default border and set cell background color.
        > td {
          flex: 1 1 100%;
          border: none !important;
          a[href] { &, > code { colors: $accent, 0, 0; }}
          &:first-child {
            border-left: 1px solid $darker !important;
            border-bottom: 1px solid $darker !important;
          }
          &:last-child {
            border: 1px solid $darker !important;
            border-top: none !important;
          }
          &:not(:last-child):not(:first-child) {
            border-left: 1px solid $darker !important;
            border-bottom: 1px solid $darker !important;
          }
        }
      }
    }
  }
  // * Table -> Reported in: https://gitlab.com/vednoc/dark-gitlab/issues/41
  table[frame="void"] {
    colors: $lighter, 0, 0;
    box-shadow: none;
    > tbody {
      colors: 0, 0, $dark;
      tr th {
        border-bottom-width: 1px !important;
        colors: $light, $darker, $darker;
      }
    }
  }
  // * Table -> Project settings page.
  .border-bottom {
    colors: 0 $darker 0;
    > .table {
      border-collapse: collapse;
      box-shadow: 0 0 0 1px $darker;
      thead th {
        padding: 8px !important;
        colors: $light, $darker, $darker;
        &:first-child { border-top-left-radius: $radius; }
        &:last-child { border-top-right-radius: $radius; }
      }
      tbody {
        td {
          padding: 8px !important;
          colors: $light, $darker, $dark;
        }
        tr:last-child > td:first-child { border-bottom-left-radius: $radius; }
        tr:last-child > td:last-child { border-bottom-right-radius: $radius; }
      }
    }
  }

  // * Emojis -> Fix emojis being cropped.
  gl-emoji {
    font-size: 1.25em;
    font-family: var(--emoji-font) !important;
    // ? An attempt to fix emoji positioning on *fox-based browsers.
    @supports (-moz-user-select: none) {
      vertical-align: text-top !important;
    }
  }
  .user-status-emoji { display: inline-flex; }
  // ? Remove underline from `label-link` selectors.
  .label-link { text-decoration: none !important; }

  // * Icons!
  svg {
    isvg: $lighter;
    // Diff icons.
    &.ic-file-addition { &, &-solid { isvg: $green }}
    &.ic-file-modified { &, &-solid { isvg: $blue }}
    &.ic-file-deletion { &, &-solid { isvg: $red }}
  }
  .fa {
    colors: $lighter 0 0;
    &[class*="online"] { colors: $green 0 0 }
  }
  // * Icons -> Global icons that don't work without `path`.
  // ? Calendar, add reaction, commit icon.
  .nav-controls .has-tooltip svg, .award-control-icon svg, .commit-icon {
    path { fill: $lighter !important; }
  }

  // * Global -> Bootstrap reset.
  .bg {
    &-white { colors: 0 0 $dark }
    &-info { colors: 0 0 $darker }
    &-light { c: 0 0 $dark }
    &-secondary { colors: 0 0 $dark }
  }
  .text {
    &-white { colors: $light 0 0 }
    &-tertiary { colors: $lighter 0 0 }
    &-secondary { colors: $light 0 0 }
    &-danger { colors: $red 0 0 }
  }
  .badge {
    &.unverified { colors: $lighter $lighter $dark }
    &.verified { colors: $green $green $dark }
    &-success { colors: $light 0 $green }
    &-primary { colors: $light 0 $blue }
    &-info { colors: $light 0 $blue }
    &-pill { colors: $light 0 0 }
    &.badge-pill {
      // Prevent conflicts.
      & {
        box-shadow: 0 0 0 1px inset $darker;
        colors: $lighter $darker $dark;
      }
      // Dashboard -> Activities.
      &.issues-count { colors: $white 0 $green }
      &.merge-requests-count { colors: $white 0 $orange }
      &.todos-count { colors: $white 0 $blue }
    }
    &-gray { colors: $light $darker $darker }
  }
  // Text colors.
  .warning-title { colors: $orange, 0, 0; }
  .danger-title { colors: $red, 0, 0; }
  .cgray,
  .committed_ago,
  .hint {
    color: var(--lighter) !important;
  }
  .warning_message {
    radius: 0 $radius $radius 0;
    border-left-color: $accent;
    colors: $light, 0, $darker;
  }

  // * Global -> Alerts.
  .bs-callout {
    radius: $radius;
    position: relative;
    colors: $light $darker $dark;
    &.gcp-signup-offer { border-left-color: $blue !important }
    &.help-callout, &.shared-runners-description {
      border-left: none;
      box-shadow: 0 0 0 1px inset $darker;
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        radius: $radius 0 0 $radius;
        border-left: $radius solid $darker;
      }
    }
    &&-info {
      border: none;
      box-shadow: 0 0 0 1px inset $blue;
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        radius: $radius 0 0 $radius;
        border-left: $radius solid $blue;
      }
    }
    &&-warning {
      border: none;
      box-shadow: 0 0 0 1px inset $orange;
      a { colors: $accent 0 0 }
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        radius: $radius 0 0 $radius;
        border-left: $radius solid $orange;
      }
    }
  }

  // * Global -> Scoped labels.
  .scoped-label {
    .fa-question-circle {
      colors: 0 0 $t;
      &[style*="color: #FFFFFF"]  { color: #ffffff !important }
      &[style*="color: #333333"]  { color: #000000 !important }
    }
  }

  // * Button reset.
  .btn {
    // ? Base selectors.
    &, .btn-default {
      transition: 0.15s ease;
      color: $lighter;
      border-color: $darker;
      background-color: $dark;
      &:hover, &:focus, &.focus {
        color: $light;
        border-color: $darker;
        background-color: $darker;
        box-shadow: none !important;
      }
    }
    // TODO: Needs testing.
    &:not(:disabled):not(.disabled) {
      &:hover, &:focus, &:active {
        color: $light;
        border-color: $darker;
        background-color: $darker;
        box-shadow: none;
      }
    }
    &.active {
      colors: $light $darker $darker;
      box-shadow: none !important;
      svg { fill: $light !important }
    }
    &-secondary {
      &:not(:disabled):not(.disabled) {
        &:active, &.active { colors: $light $darker $darker }
      }
    }
    &-link {
      colors: $lighter $t 0;
      &:hover { colors: 0 0 $t }
    }
    // Green buttons.
    &-success, &-register, &-new, &-create, &-save, &-success.dropdown-toggle,
    &.comment-btn, .comment-btn, .commit-btn {
      colors: $white $green $green;
      &:hover { opacity: 0.75; }
      .fa { color: inherit !important }
    }
    // TODO: Find where this button is located.
    &-create.comment-btn { colors: $green $green $dark; }
    // Blue buttons.
    &-info, &-primary, &-register {
      colors: $white $blue $blue;
      &:hover { opacity: 0.75; }
    }
    &-primary&-inverted { c: $accent $accent $dark }
    // Orange buttons.
    &-warning {
      colors: $white $orange $orange;
      &:hover { opacity: 0.75; }
    }
    // Close buttons.
    &-close, &-close-color {
      colors: $red $red $dark;
      &:hover { colors: $white 0 $red; }
    }
    &-close-color.dropdown-toggle {
      colors: $red $red $dark;
      .fa { color: inherit !important; }
      &:hover { colors: $white 0 $red; }
    }
    // Remove buttons.
    &-danger, &-remove, &-red, &-inverted.btn-remove {
      colors: $white $red $red;
      &:hover { opacity: 0.75; }
    }
    // Blank buttons.
    &-cancel, &-retry {
      colors: $lighter $darker $dark;
      &:hover { colors: $light 0 $darker; }
    }
    &-blank { colors: $lighter 0 $t; }
    &-clipboard {
      colors: $lighter $darker $t;
      &:hover { colors: $light 0 0 }
      &:hover svg { isvg: $light }
    }
    // Comment on a note.
    &-text-field {
      colors: $lighter, $darker, $darker;
    }
    // Colors for buttons with dashed borders.
    &-missing {
      colors: $lighter $darker $dark;
      &:hover { colors: $light 0 $darker; }
    }
    // Disabled buttons.
    &.disabled, &[disabled] {
      &, &:hover {
        opacity: 0.6 !important;
        colors: $lighter $darker $dark;
      }
      i[class] { colors: $lighter 0 0 }
    }
  }
  // ? Button groups.
  .input-group-btn, .input-group-prepend, .input-group-append {
    colors: 0 0 $t;
    .btn:focus { colors: 0, 0, $darker; }
  }
  // ? Reaction buttons.
  .award-control {
    &.is-active, &.user-authored { colors: $light, $darker, $dark; }
    // Reacted to.
    &.active { colors: $light, $blue, $dark; }
  }

  // * Project notifications.
  // TODO move to appropriate section.
  .project-feature-toggle {
    colors: 0, 0, $darker;
    &.is-checked { colors: 0, 0, $accent; }
    .toggle-icon { colors: 0, 0, $dark; }
  }

  // Issue/Merge status.
  .status-box {
    &-mr-merged { colors: $white, 0, $blue; }
    &-mr-closed { colors: $white, 0, $red; }
    &-open { colors: $white, 0, $green; }
    &-issue-closed { colors: $white, 0, $blue; }
    &-expired { c: $white 0 $orange }
    &-closed { c: $white 0 $red }
  }
  // Confidential icon.
  .issuable-warning-icon {
    colors: 0 0 $darker;
    svg.icon { isvg: $orange }
  }

  // * Global -> Random styles.
  [class*="committer-link"],
  [class*="author-link"],
  .ci-table .ref-name,
  .js-user-link,
  .author_name a {
    color: $accent !important;
  }
  .label-bold { color: $light; }
  .cred { color: $red; fill: $red !important; }
  .cblue { color: $blue; fill: $blue !important; }
  .cgreen { color: $green; fill: $green !important; }
  .diff-file-changed-icon { &:not(.cgreen):not(.cred) { isvg: $blue }}
  // ? Move to a better place.
  .option {
    &-title { c: $light }
    &-description, &-disabled-reason { c: $lighter }
  }
  .bordered-box {
    radius: $radius;
    c: 0 $darker;
  }
  // ? Check #13 for more info.
  .deployment-info, .js-deploy-time { colors: $light, 0, 0; }
  // * Grid styles.
  .flex-grid {
    .grid-row { colors: 0, $darker, 0; }
    .grid-cell {
      colors: 0, $darker, 0;
      .property-label { colors: $lighter, 0, 0; }
    }
  }
  // ? Promotion background on i.e. project/audit_events page.
  .promotion-backdrop { colors: 0, 0, $t; }
  // ? Custom GitLab tables on i.e. project/settings/badges page.
  .gl-responsive-table-row-layout {
    colors: 0, $darker, 0;
    // Items border.
    .table-section:not(:first-child) { colors: 0, $darker, 0; }
    // Text badges.
    .badge.badge-pill { colors: $light, 0, $darker; }
    // Footer.
    .table-button-footer {
      colors: 0, $darker, $t;
      @media screen and (max-width: 767px) { colors: 0, 0, $darker; }
    }
  }
  // ? Pipelines: Fix table corners and item borders.
  .gl-responsive-table-row {
    &:not(:last-child):not(:first-child) {
      border-bottom: none !important;
      border-top: 1px solid $darker;
    }
    &:first-child { radius: $radius $radius 0 0; }
    &:last-child { radius: 0 0 $radius $radius; }
  }
  // ? 404 page.
  img[alt="404"] + .container {
    margin-bottom: 1em;
    colors: 0, $darker, 0;
  }
  // ? Forms.
  .form-control {
    colors: $lighter $darker $dark;
    &:focus, &.focus {
      c: $light $blue;
      box-shadow: none;
      &:hover { box-shadow: none }
    }
    &:disabled, &[readonly] { colors: $lighter $darker 0 }
  }
  // ? Spinner in pipelines.
  .spinner {
    margin-bottom: -4px;
    border-color: $darker;
    border-top-color: $accent;
    &&-md {
      width: 24px;
      height: @width;
    }
  }

  // * Sign in/register page.
  .login-page {
    // Header.
    .new-session-tabs {
      border-color: $darker;
      box-shadow: 0 0 0 1px $darker;
      li {
        colors: $lighter, $darker, $darker;
        a.active, a:hover { colors: $light, $accent, $darker; }
      }
    }
    // Credentials.
    .login-box {
      radius: 0 0 $radius $radius;
      box-shadow: 0 0 0 1px $darker;
      background-color: $dark;
      .form-control { colors: 0, 0, $darker; }
    }
    // Sign in with.
    .omniauth-container {
      radius: $radius;
      colors: 0, 0, $dark;
      box-shadow: 0 0 0 1px $darker;
      .omniauth-btn { colors: 0, 0, $darker; }
    }
  }

  /* Misc text color. */
  .light,
  .description-block,
  .task-list-item {
    color: var(--light) !important;
  }
  .help-block {
    colors: $lighter, 0, 0;
  }
  // Epics start/due dates.
  .block .value {
    span:not(.color-label) { colors: $light, 0, 0; }
    abbr { colors: $lighter, 0, 0; }
  }


  // * Cookies.
  #CybotCookiebotDialog {
    colors: $light, 0, $darker;
    box-shadow: 0 0 4px 0 $shadow;
    // Buttons.
    [id*="ButtonsSelectPane"] { colors: 0, $dark, $dark; }
    // Show/hide details button.
    [id*="DetailsWrapper"] {
      colors: $accent, $dark, $accent;
      a { color: $light; }
    }
    // Show details.
    [id*="DialogDetail"] {
      border-width: 1px;
      colors: $light, $dark, $darker;
      [id*="BodyContentTabs"] { border-color: $red; }
      a {
        colors: $accent, $dark, 0;
        &:hover, &[class*="Selected"] { colors: 0, 0, $dark; }
      }
      thead th { colors: $light, $dark, $dark; }
      tbody td { colors: $light, $dark, $t; }
    }
  }

  // * Navbar.
  .navbar {
    colors: 0 $darker 0;
    box-shadow: 0 2px 4px 0 $shadow !important;
    // ? Feature -> Theme navbar color.
    if ( navbar_c == 1 ) { colors: 0 0 $dark }
    // ? Feature -> Show 'next' badge.
    if ( navbar_n != 1 ) { .canary-badge { display: none !important }}
    .canary-badge .badge.badge-pill { colors: $white $green $green }
    // Logo text color.
    .logo-text svg, svg.nav-logo .wordmark { fill: $light !important; }
    // Search.
    .search form {
      padding: 4px 2px 3px;
      height: unset;
      radius: $radius;
      colors: $lighter $darker $darker;
      #search { colors: $lighter 0 0 }
    }
    // Navbar links and buttons.
    a, button {
      transition: 0.15s ease;
      colors: $lighter 0 0;
      &:hover, &:focus { colors: $light 0 $darker }
    }
    // Active tab/button/menu.
    &-sub-nav, &-nav {
      > li.active, .dropdown.show {
        > a, > button { colors: $light 0 $darker }
        svg { isvg: $light }
      }
      .btn:focus { colors: 0 0 $darker }
    }
    // Separator.
    &-toggler {
      margin: 4px -7px 4px 0 !important;
      border-left-color: $darker !important;
    }
    // ? Avatars -> Reset.
    .header-user-avatar {
      radius: var(--avatar) !important;
      border: none !important;
      colors: $lighter, 0, $t;
    }
    // ? Shows theme version in the user dropdown.
    .header-user li:first-child::before {
      content: var(--note);
      display: block;
      padding: 8px 12px;
      margin: -16px -12px 8px -12px;
      border-bottom: 1px solid $darker;
      color: $light;
    }
  }

  // * Navbar -> Projects/Groups.
  .frequent-items-dropdown-menu {
    radius: $radius;
    .section-header { colors: $light, 0, 0; }
    .section-empty, [class*="namespace"] { colors: $lighter, 0, 0;}
    [class*="dropdown-sidebar"] { colors: 0, $darker, 0; }
  }

  // * Dropdown.
  .dropdown {
    // ? Toggles.
    &-toggle, &-menu-toggle {
      transition: 0.15s ease;
      &:not(.search-input):not([class*="btn-"]) {
        colors: $lighter $darker $dark;
        &:hover { colors: $light 0 $darker }
      }
      // ? Add missing top margin to the dropdown on group page. @upstream
      + ul.show { margin-top: 10px !important; }
      // ? Active state for toggles.
      ^[0].show & {
        colors: $light $darker $darker;
        ^[2] ^[0]-toggle-text { colors: $light 0 0 }
      }
    }
    // Dashboard -> Dropdowns in activities.
    &-toggle-text.is-default { colors: $lighter 0 0 }
    // On event.
    &-item {
      transition: background 0.15s ease-in-out;
      &:hover, &:focus {
        color: var(--light);
        background-color: var(--dark);
      }
    }
    // Shadow.
    &-content-faded-mask::after {
      background: none;
    }
    // Color boxes.
    &-label-box { border-color: inherit !important }
    // Button groups.
    .btn-group {
      > button, > a {
        colors: 0, $darker, $dark;
        transition: 0.2s ease !important;
        &:hover, &.active { colors: 0, 0, $darker; }
        &:first-child { border-radius: $radius 0 0 $radius; }
        &:last-child { border-radius: 0 $radius $radius 0; }
      }
    }
    a:active { colors: $light, 0, $darker; }
    .bold { colors: $lighter, 0, 0; }
    label { colors: $light, 0, 0; }
    // ? Navbar -> Search menu.
    &-select {
      li {
        &.separator { colors: 0, 0, $darker; }
        &.dropdown-header { colors: $lighter, 0, 0; }
        a {
          span b { colors: $accent, 0, 0; }
          &:hover { colors: $light, 0, $darker; }
          &.is-focused { colors: $light 0 $darker }
          // ? Multiple `active` elements.
          &.is-active { colors: $lighter 0 0 }
        }
      }
    }
    // ? Issue boards -> Switch board.
    &-extended-height {
      a {
        transition: 0.1s ease;
        colors: $lighter, 0, 0;
        &:hover, &:active, &:focus { colors: $light, 0, $darker; }
        &.is-active { colors: $accent, 0, 0; }
      }
      // ? Boards -> Create new board.
      .dropdown-divider ~ .dropdown-item {
        colors: $lighter, 0, 0;
        transition: 0.15s ease;
        &:hover, &:active, &:focus { colors: $light, 0, $darker; }
      }
    }
    // ? Project -> Insights.
    &.js-insights-dropdown {
      padding-left: 0;
      button.dropdown-toggle {
        box-shadow: none !important;
        &:focus, ../.show .dropdown-toggle { colors: $light $darker $darker }
      }
    }
  }
  .dropdown-menu {
    radius: $radius;
    colors: 0, $darker, $dark;
    box-shadow: 0 4px 8px 0 $shadow;
    // ? Height reset.
    &-selectable.show { max-height: unset !important; }
    &, &-nav { max-height: 352px !important }
    // ? Header/Title.
    .dropdown-header, .dropdown-title { colors: $light, $darker, 0; }
    .dropdown-bold-header, &-inner-title { colors: $light 0 0 }
    &-inner-content { colors: $lighter 0 0 }
    // ? Input / Search.
    .dropdown-input-field, .default-dropdown-input {
      radius: $radius;
      colors: $light, $darker, $dark;
      &:focus {
        colors: 0 $accent 0;
        box-shadow: 0 2px 4px 0 $shadow;
      }
    }
    // ? Body/Content.
    .dropdown-info-note { colors: $light, 0, 0; }
    [class*="divider"] { colors: 0, $darker, $t; }
    .dropdown-item {
      colors: $lighter 0 0;
      &:focus, &:active { colors: 0 0 $darker }
      // ? Search projects on `/-/operations` page.
      &:not(.disable-hover):hover { colors: 0 0 $darker }
    }
    li {
      // ? Reset avatar padding.
      .dropdown-menu-user-link:not(.is-active) { padding-left: 8px; }
      // ? Base styles.
      &:hover a, &:hover button:not(.btn-success) { colors: $light 0 $darker }
      a, button:not(.btn) {
        colors: $lighter 0 0;
        transition: 0.15s ease;
      }
      .btn-default { colors: $lighter 0 0 }
      .is-focused, a:focus, a:active { colors: $light 0 $darker }
      &.droplab-item-active .btn { colors: $light 0 $darker }
    }
    // ? MR -> "Created date" dropdown.
    &-sort {
      li {
        // ? Reset due to markup being single `li` with a ton of `a` elements.
        &:hover a { colors: $lighter, 0, $t; }
        a {
          transition: 0.1s ease;
          &:hover { colors: $light, 0, $darker; }
          &.is-active { colors: $light 0 0 }
        }
      }
    }
    // ? MR -> Download button.
    &-right:not(&-sort) {
      li {
        // ? Reset due to markup being single `li` with a ton of `a` elements.
        &:hover a { colors: $lighter, 0, $t; }
        a, button:not(.btn), .menu-item {
          transition: 0.15s ease;
          colors: $lighter, 0, 0;
          &:hover { colors: $light, 0, $darker; }
        }
        .form-group label { colors: $light, 0, 0; }
      }
    }
    // ? Project -> Notifications.
    &-large {
      li a { transition: 0.15s ease }
    }
    // ? Snippets -> Embed menu.
    &-selectable {
      li {
        button { colors: $lighter, 0, 0; }
        .is-active { colors: $light, 0, 0; }
      }
    }
    // ? Issue boards -> Add list.
    &-tabs {
      // max-height: 400px !important;
      .dropdown-tabs-list {
        colors: 0, 0, $dark;
        box-shadow: 0 1px 0 0 $darker !important;
        .dropdown-tab-item {
          colors: 0, $darker, 0;
          a { colors: $light, 0, $dark; }
          a.active { colors: $lighter, $accent, $dark; }
        }
      }
    }
    // ? Diff -> File finder.
    &.diff-file-changes {
      min-width: 500px !important;
      .diff-changed-file {
        [class*="path"] { colors: $lighter, 0, 0; }
        &.is-focused, &:focus {
          colors: 0, 0, $darker;
          [class*="file-name"] { colors: $light, 0, 0; }
        }
      }
    }
    // ? Footer.
    .dropdown-footer {
      colors: 0, $darker, 0;
      li:hover a { colors: $lighter, 0, $t; }
      li a {
        transition: 0.1s ease;
        &:hover { colors: $light, 0, $darker; }
      }
    }
    // ? Loader.
    [class*="-loading"] {
      colors: 0, 0, $dark;
      .fa-spinner:before { color: $lighter; }
    }
  }

  // * Dropdown -> The select2 component.
  .select2 {
    // Menu.
    &-drop {
      radius: $radius;
      colors: 0, $darker, $dark;
    }
    // Menu arrow.
    &-arrow {
      padding-left: 12px;
      colors: 0, 0, $t;
      &::after { colors: $lighter, 0, 0; }
    }
    // Input/select.
    &-drop input, &-choice, &-search-choices, &-default {
      radius: $radius !important;
      colors: $lighter, $darker, $dark;
    }
    &-container-multi &-choices {
      radius: $radius;
      colors: $lighter, $darker, $dark;
      input:focus { colors: $light, 0, 0; }
    }
    // ? Fix for flashing input.
    &-container-multi &-choices &-search-field input&-active {
      background: none !important;
    }
    // Results.
    &-results &-result-label {
      transition: 0.1s ease;
      colors: $lighter, 0, 0;
      .group-name { color: $light; }
      .group-path { color: $lighter; }
    }
    &-results &-highlighted &-result-label {
      colors: $light, 0, $darker;
    }
    // Loader.
    &-more-results { colors: 0, 0, $t; }
  }

  // Global -> GFM links.
  .gfm {
    c: $light 0 $darker;
    &&-issue, &&-merge_request { c: $accent 0 $t }
    &&-commit, &&-milestone { c: $accent 0 $t }
    &&-label { c: 0 0 $t }
    &.current-user {
      c: $white 0 $accent;
      &:hover {
        text-decoration: none;
        colors: $white 0 0;
        opacity: 0.8;
      }
    }
  }

  // * Dashboard -> Search page hacks.
  [data-project=""] {
    .top-area:not(.cover-block) {
      margin-top: 8px;
      radius: $radius;
      c: 0 0 $dark;
      box-shadow: $inner;
      .nav-links {
        margin: 0;
        radius: 0;
        c: 0 0 $t;
        box-shadow: none;
      }
    }
    // Issues/MR/Milestones.
    .search-results {
      margin-top: 16px;
      radius: $radius;
      colors: 0 0 $dark;
      box-shadow: $inner;
      // Bug on .../search/users tab. @upstream
      > .content-list {
        > li { padding: 8px }
        &:not(:last-child) { box-shadow: 0 1px $darker }
      }
      .search-result-row {
        padding: 8px;
        margin-bottom: 0;
        colors: 0, $darker, 0;
        &:first-child { radius: $radius $radius 0 0; }
        &:last-child { radius: 0 0 $radius $radius; }
        h4 { margin-top: 0px; }
        code { colors: $lighter, 0, 0; }
        pre.code { colors: 0, $darker, 0; }
      }
    }
  }

  // * Dashboard -> Welcome page.
  .section-welcome {
    padding: 0 !important;
    .container {
      max-width: var(--width) !important;
      // Fix odd spacing.
      .blank-state-row { justify-content: space-between; }
      // Cards.
      .blank-state-link {
        radius: $radius;
        colors: 0, 0, $dark;
        &:hover { colors: $light, 0, $darker; }
        .blank-state {
          radius: $radius;
          colors: 0, $darker, 0;
        }
      }
    }
  }

  // * Dashboard -> New project.
  .gitlab-tabs {
    radius: $radius $radius 0 0;
    c: 0 $darker;
    &.nav.nav-tabs.nav-links {
      radius: $radius $radius 0 0;
      border-bottom: 1px solid;
      box-shadow: none;
      > .nav-item { margin: 0 }
    }
    li.nav-item {
      c: 0 $darker;
      a {
        radius: 0;
        ../:first-child a { radius: $radius 0 0 0 }
        ../:last-child a { radius: 0 $radius 0 0 }
        ../.active a.nav-link { c: $light $accent }
        ../:hover a.nav-link { c: $light $t }
      }
    }
  }
  // Tab content.
  .gitlab-tab-content {
    radius: 0 0 $radius $radius;
    colors: 0 $darker $dark;
    // 'Create from template' area.
    .card-slim {
      padding: 8px !important;
      margin: 0 16px 8px !important;
    }
    // Inputs.
    [class*="input-group"] {
      radius: $radius;
      colors: $lighter, $darker, $darker;
    }
    .template-option { colors: 0, $darker, 0; }
  }
  .account-btn-link,
  .profile-settings-sidebar a,
  .settings-sidebar a {
    color: var(--accent);
  }

  // * Table -> Old-ish table components.
  .table-responsive, table.table {
    radius: $radius;
    colors: 0, 0, $dark;
    box-shadow: 0 0 0 1px inset $darker;
    thead tr {
      th {
        border-top: none;
        colors: $light, 0, $darker;
      }
      > th:first-child { radius: $radius 0 0 0; }
      > th:last-child { radius: 0 $radius 0 0; }
    }
    tbody tr {
      td {
        transition: 0.15s ease;
        colors: $lighter $darker 0;
      }
      &:last-child > td:first-child { radius: 0 0 0 $radius; }
      &:last-child > td:last-child { radius: 0 0 $radius 0; }
      &:hover > td { colors: $light, 0, $darker; }
    }
    // Highlighted odd rows.
    &.table-striped tbody tr:nth-of-type(2n + 1) { colors: 0 0 $shadow; }
    // Remove extra margin.
    > .table { margin-bottom: 0px; }
    // Imported projects.
    .table-success,
    .table-success > td {
      colors: 0, 0, $darker;
    }
  }


  // * Settings -> Messages.
  .settings-message {
    radius: $radius;
    colors: $light $darker $dark;
  }
  // ! Explore replacing `border` with `box-shadow` in the future.
  .triggers-container, .coverage-report, .pipeline-status, .builds-feature {
    .card { border: none !important }
  }
  // Social icons.
  .provider-btn {
    colors: $lighter, 0, $dark;
    &-group { colors: 0, $darker, $dark; }
    &-image { colors: 0, $darker, 0; }
  }
  // Path.
  .input-group-text {
    colors: $light, $darker, 0;
    // Fix #29.
    &:not(.label-color-preview) { colors: 0, 0, $darker; }
  }
  // * Settings -> Emails.
  .account-well {
    radius: $radius;
    colors: $lighter $darker $dark;
   }
  // * Settings -> Billings page.
  ul.bordered-list { &, li { colors: 0 $darker 0 }}
  // * Settings -> Active sessions.
  .card .list-group {
    radius: $radius;
    colors: $lighter 0 $dark;
    box-shadow: 0 0 0 1px inset $darker;
    &-item { colors: $lighter $darker $t }
  }
  // * Settings -> Pipeline quota.
  .pipeline-quota {
    padding: 0px !important;
    colors: 0 $darker 0;
  }
  // * Global -> Progress bar.
  .progress {
    colors: 0 0 $darker;
    // Filled progress.
    .bg-success { colors: $light 0 $green }
  }
  // TODO: Move.
  .text-muted, .description { colors: $lighter 0 0 }
  .profile-settings-content a { color: $accent }

  // * Alerts.
  .alert-wrapper {
    display: flex;
    flex-direction: column;
    // Move breadcrumbs to the last spot.
    > nav { order: 999; }
    // Alert main reset.
    [class*="flash-"] {
      margin-bottom: 0px !important;
      // ? Align notice with main content.
      .flash-notice > div {
        max-width: var(--width);
        margin: 0 auto;
      }
      // ? Fixes unnecessary limited container issue.
      > .container-limited {
        padding: 0;
        max-width: 100%;
      }
      a {
        color: $white;
        text-decoration: underline;
      }
    }
    // Alert colors.
    .flash-notice { colors: $white, $blue, $blue; }
    .flash-alert { colors: $white, $red, $red; }
    .flash-success { colors: $white, $green, $green; }
    .alert-warning { colors: $white, $orange, $orange; }
    .alert-link { colors: $white, 0, 0; }
    // ? Broadcasts found on `git.synz.io`.
    .broadcast-message {
      p, .fa { color: inherit !important; }
      &[style*="background-color: #004275"] { colors: $white, 0, $blue; }
      &[style*="background-color: #00bd7f"] { colors: $white, 0, $green; }
      &[style*="background-color: #e75e40"] { colors: $white, 0, $orange; }
      &[style*="background-color: #f4f4f4"] { colors: $light, 0, $darker; }
    }
  }
  // Found in IDE when page doesn't load properly.
  .flash-container {
    .flash-alert {
      colors: $white 0 $red;
      .flash-action { colors: $white 0 0 }
    }
  }
  // Green alerts.
  .alert-success {
    colors: $white, $green, $green;
    &.prepend-top-default { radius: $radius; }
  }
  // Customers page, possible refactor.
  .alert-danger { colors: $white, $red, $red; }
  .alert-info { colors: 0, $blue, $dark; }

  // * Bootstrap breadcrumbs.
  .breadcrumbs {
    colors: $light, 0, 0;
    // Wrapper.
    .breadcrumbs-container {
      padding: 0 10px;
      margin-top: 10px;
      radius: $radius;
      border: 1px solid !important;
      colors: 0, $darker, $dark;
    }
    &-list a { colors: $lighter, 0, 0; }
    // Highlighted link.
    &-sub-title a { colors: $light, 0, 0; }
    // Separator.
    &-links { c: $lighter $darker 0 }
    // ? Reset epics-roadmap page.
    &.group-epics-roadmap {
      border-bottom: none !important;
      max-width: 100% !important;
    }
  }
  .breadcrumb {
    .breadcrumb-item a { colors: $lighter 0 0 }
    &.repo-breadcrumb > li + li::before { colors: $lighter 0 0 }
  }

  // * Epics :: Resets!
  [data-page*="groups:roadmap:"]  {
    .epics-filters {
      border: 1px solid $darker;
      colors: 0 0 $dark;
    }
    .row-content-block {
      margin-top: 0px !important;
      padding: 8px !important;
      radius: 0 !important;
    }
    .alert-wrapper .breadcrumbs.container-fluid.group-epics-roadmap {
      padding: 0px !important;
      max-width: 100% !important;
      .breadcrumbs-container {
        margin-top: 0px !important;
        radius: 0px !important;
        border: none !important;
      }
    }
  }

  // * Epics :: Roadmap.
  .roadmap-container {
    radius: $radius;
    colors: 0 0 $dark;
    box-shadow: 0 0 0 1px inset $darker;
    // Timeline header.
    .timeline-header-blank {
      colors: $lighter, $darker, $dark;
      box-shadow: -1px 0 0 0 inset $darker;
      &::before { colors: 0, $darker, 0; }
      &::after { background: linear-gradient(to right, $shadow 0%, $t 100%); }
    }
    // Timeline items.
    .timeline-header-item {
      colors: 0, $darker, $dark;
      .item-label { colors: $light, $darker, 0; }
      .item-sublabel .sublabel-value { colors: $lighter, 0, 0; }
      .item-sublabel .label-bold { colors: $light, 0, 0; }
    }
    // Background cells.
    .epics-list-section {
      colors: 0, 0, $darker;
      // Left sidebar cells.
      .epic-details-cell {
        colors: 0, $darker, $dark;
        box-shadow: -1px 0 0 0 inset $darker;
        &::after { background: linear-gradient(to right, $shadow 0%, $t 100%); }
        .epic-url { colors: $light, 0, 0; }
        .epic-timeframe { colors: $lighter, 0, 0; }
      }
      .epics-list-item {
        &:hover .epic-timeline-cell { colors: 0, $darker, $dark; }
        .epic-timeline-cell { colors: $light, $dark, 0; }
        // ? Bars.
        .timeline-bar {
          colors: 0, 0, $blue;
          &.start-date-undefined { background: linear-gradient(
            to right, #55555510 0%, #55555530 50%, $blue 100%
          ) !important; }
          &.end-date-undefined { background: linear-gradient(
            to right, $blue 0%, #55555530 50%, #55555510 100%
          ) !important; }
        }
      }
    }
  }

  // * Dashboard :: Page title.
  .page-title-holder {
    border: none;
    margin-top: 10px;
    .page-title { margin: 0; }
    // Found on: .../dashboard/milestones
    .project-item-select-holder { overflow: unset; }
  }

  // Dashboard -> Navigation.
  .pipelines-container .top-area {
    margin-top: 8px;
    radius: $radius;
    c: 0 0 $dark;
    box-shadow: $inner;
  }
  #content-body > div[class] > .top-area:not(.cover-block) {
    margin-top: 8px;
    radius: $radius;
    c: 0 0 $dark;
    box-shadow: $inner;
    > .nav.nav-tabs:not(#sc) {
      a { padding: 10px 8px }
      margin-top: 0;
      c: 0 $t $t;
      box-shadow: none;
    }
    // ../project/pipeline_schedules
    + .card { margin-top: 8px }
  }
  .top-area.group-nav-container {
    > .scrolling-tabs-container .nav a { padding: 10px 8px }
    > .nav-controls > div:last-child { padding-right: 8px }
  }
  // Remove bottom border.
  .top-area, .wiki-page-header {
    &, .nav-links.mobile-separator { border-bottom: none }
  }
  .nav.nav-tabs {
    padding: 0 !important;
    margin-top: 8px;
    radius: $radius;
    border-bottom: none;
    box-shadow: $inner;
    c: 0 0 $dark;
    .cover-block ^[0] {
      radius: 0;
      c: 0 0 $t;
      box-shadow: none;
    }
  }
  .nav-links {
    li {
      &:first-child { margin-left: 8px }
      &:last-child { margin-right: 8px }
      a[class], a[href] {
        line-height: 32px;
        border-bottom-width: 1px !important;
        c: $lighter;
        ../:hover > a { c: $light $darker }
        ../.active, ../:active {
          > a { c: $light $accent }
          .badge.badge-pill { c: $light }
        }
        &.active { c: $light $accent $t }
      }
      .badge.badge-pill { c: $lighter 0 $darker }
    }
    // Whitespace on the right side.
    + .nav-controls {
      padding: 8px;
      > form {
        margin-right: 7px;
        > input { height: 35px }
      }
      > *:last-child { margin-right: 0px }
    }
  }

  .scrolling-tabs-container {
    .fade-right {
      background: linear-gradient(to left, $dark 45%, $t);
      border-right: 1px solid $darker;
    }
    .fade-left {
      background: linear-gradient(to right, $dark 45%, $t);
      border-left: 1px solid $darker;
    }
  }


  // * Settings -> Billings.
  .billing-plans {
    [class*="card"] {
      colors: 0 0 $dark;
      .card-header {
        radius: $radius $radius 0 0;
        colors: $white 0 $accent;
      }
      .card-body {
        radius: 0 0 $radius $radius;
        // Items.
        .feature-list li { colors: 0 0 $t }
        // Pricing.
        .price-per-month { colors: $accent 0 0 }
        .price-per-year { colors: $green 0 0 }
        // Borders.
        ../.current .card-body { colors: 0 $accent 0 }
        ../:not(.current) .card-body { colors: 0 $darker 0 }
      }
    }
  }

  // * Purchases.
  // ? https://customers.gitlab.com/customers/sign_up
  .sign-in .white-card {
    color: $light;
    border-color: $darker;
    background-color: $dark;
    .title { colors: 0, $darker, $darker; }
    label { color: $lighter; }
    select, option, input {
      colors: $lighter, 0, $darker;
      box-shadow: none;
    }
    // Select one.
    .chosen-container {
      // Results.
      .chosen-drop {
        colors: 0, $darker, $darker;
        box-shadow: none !important;
        .chosen-results {
          colors: $light, 0, 0;
          .highlighted {
            colors: $light, 0, $accent;
            background-image: none;
          }
        }
      }
      // Input element.
      .chosen-single {
        min-height: 34px;
        line-height: 34px;
        colors: $light, $darker, $darker;
        background-image: none !important;
        box-shadow: none !important;
        // Caret position.
        b { background-position: 0px 6px !important; }
      }
    }
    // Register button.
    .btn-gitlab {
      colors: 0, $darker, 0;
      transition: all 0.2s ease-in-out !important;
      &:hover, &:focus, &:active { colors: $light, $accent, $accent; }
    }
  }

  /* SSH Keys. */
  // pre,
  code.key-fingerprint { colors: $lighter, $darker, $darker; }


  // * Projects list.
  // TODO move groups to appropriate place. Possible refactor.
  .projects-list, #groups .content-list {
    margin: 8px 0;
    radius: $radius;
    box-shadow: inset 0 0 0 1px $darker;
    background-color: $dark;
    // Items.
    > li {
      padding: 8px;
      transition: all 0.15s ease-in-out;
      border-bottom-color: $darker;
      // On event.
      &:hover { background-color: $darker; }
      // ? Round corners on first and last child.
      &:first-child { radius: $radius $radius 0 0; }
      &:last-child { radius: 0 0 $radius $radius; }
    }
    // ? List items from 11.8 update?
    .project-row {
      padding: 8px;
      // TODO Turn this into a global and/or custom setting?
      .avatar-container.s64 {
        min-width: 48px !important;
        min-height: 48px !important;
        height: 48px !important;
        width: 48px !important;
      }
      // Project metadata.
      .metadata-info, .updated-note {
        colors: $lighter, 0, 0;
        time { color: $lighter; }
      }
      // Project stats and icons.
      .icon-container > .icon-wrapper {
        colors: $lighter, 0, 0;
      }
    }
  }

  // * Avatars.
  .avatar {
    &, &-circle, &-container, &-tile {
      radius: var(--avatar) !important;
      border: none !important;
      colors: $lighter, 0, $t;
    }
  }
  // TODO Prolly not needed anymore.
  .identicon { color: $lighter; }
  // ? Drop some shadow; use transparent avatars for best results.
  img.avatar { filter: drop-shadow(1px 1px 2px $shadow); }
  // ? Replace default background for project avatars and fix the height.
  .avatar:not(img) {
    colors: 0, 0, $darker;
    transition: 0.15s ease-in-out !important;
  }
  // ? Hover event for content list and group list.
  li:not(.group-row), .group-row-contents {
    &:hover .avatar:not(img) {
      colors: 0, 0, $dark;
    }
  }

  // * Project details.
  .project-details {
    .text-plain {
      color: $light;
      &:hover { color: $lighter; }
    }
  }
  .project-stats .nav .stat-link {
    color: $light;
    &:hover { color: $lighter; }
  }
  .user-access-role { colors: $light, $dark, $darker; }

  // * Project -> New fork.
  .fork-thumbnail-container {
    .fork-thumbnail {
      radius: $radius;
      c: 0 $darker $dark;
      transition: 0.15s ease;
      &:hover { c: 0 $accent 0 }
      a > div { margin: 0 auto }
    }
  }

  // * Project :: Commits.
  #commits-list {
    .commit-list {
      .commit {
        padding: 8px;
        a:not(.gpg-status-box) { colors: $light, 0, 0; }
      }
    }
    // Header.
    .commit-header {
      display: inline-flex;
      radius: $radius;
      border: 1px solid;
      colors: 0, $darker, $dark;
      .day { padding-right: 1ch; }
      // Have some whitespace between days.
      &:not(:first-child) { margin-top: 10px; }
      // Separate every first commit from the header.
      + .commits-row { margin-top: 10px; }
    }
    // List.
    .commits-row {
      position: relative;
      margin-bottom: 8px;
      radius: $radius;
      colors: 0, 0, $dark;
      box-shadow: inset 0 0 0 1px $darker;
      &::before {
        content: "";
        height: 10px;
        position: absolute;
        top: -10px; left: 28px;
        border-left: 1px solid $darker;
      }
    }
  }
  .commit {
    colors: 0, $darker, 0;
    & &-content {
      div.committer {
        colors: $lighter 0 0;
        time { color: inherit }
        // FIX: Specificity.
        a[href]^[0]-author-link:not(#e) { color: inherit !important }
      }
    }
    a {
      colors: $light, 0, 0;
      // Center avatar.
      img { margin: 2px 0 0 2px }
    }
    // Commit sha.
    > .commit-detail { align-items: center; }
    // Commit description.
    [class*="-description"] {
      border-width: 4px;
      font-size: inherit;
      font-family: var(--ui-font);
      colors: $lighter, $darker, 0;
    }
  }

  // Commits -> Show commit message.
  .text-expander {
    c: 0 $darker $dark;
    transition: 0.15s ease;
    &:hover { c: 0 0 $darker }
    &.open {
      c: 0 $accent $accent;
      box-shadow: none;
      svg { isvg: $white }
    }
    &:focus { outline: none }
  }

  // * Project :: Commit details page.
  // https://gitlab.com/vednoc/dark-gitlab/commit/9caacd40
  .commit-box {
    margin-bottom: 10px;
    padding: 8px;
    border: none;
    radius: $radius;
    colors: 0 0 $dark;
    box-shadow: inset 0 0 0 1px $darker;
    [class*="-description"] {
      border-width: 4px;
      colors: $lighter $darker 0;
    }
  }

  // * Project :: Branches.
  .all-branches {
    > .branch-item {
      padding: 8px;
      colors: 0, $darker, 0;
      .branch-title a { colors: $light, 0, 0; }
      .branch-commit {
        colors: $lighter, 0, 0;
        .commit-sha { colors: $light 0 0 }
        time, .commit-row-message { colors: $lighter, 0, 0; }
      }
    }
    .btn.btn-remove { colors: $white $red $red }
    .branch-commit .commit-row-message { colors: $light, 0, 0; }
    // Select next sibling and reset the colors.
    & + .card-footer.text-center {
      colors: $light, 0, $t;
      a { colors: $lighter, 0, 0; }
    }
  }
  // Graph color.
  .divergence-graph {
    .graph-side [class*="bar"] { colors: 0, 0, $lighter; }
    .graph-separator { colors: 0, 0, $lighter; }
    [class*="count"] { colors: $light, 0, 0; }
  }
  .content-list li {
    colors: 0, $darker, 0;
    // TODO Find a better way to style this selector.
    a:not(.btn-warning):not(.btn-danger):not(.page-link) { color: $accent !important; }
  }
  // ? Active/Stale/All pages.
  [data-page="projects:branches:index"] {
    .row-content-block + .all-branches,
    .top-area.adjust + .all-branches {
      margin-top: 10px !important;
      radius: $radius;
      colors: 0, 0, $dark;
      box-shadow: inset 0 0 0 1px $darker;
      li {
        transition: 0.1s ease;
        &:hover { colors: 0, 0, $darker; }
        &:first-child { radius: $radius $radius 0 0; }
        &:last-child { radius: 0 0 $radius $radius; }
      }
    }
  }

  // * Project :: Tags.
  .tags > ul {
    margin-top: 10px;
    radius: $radius;
    colors: 0, 0, $dark;
    box-shadow: inset 0 0 0 1px $darker;
    li.flex-row {
      padding: 10px;
      transition: 0.2s ease;
      .branch-commit {
        &, .js-timeago, .commit-row-message {
          colors: $lighter, 0, 0;
        }
      }
      .item-title.ref-name { colors: $light, 0, 0; }
    }
  }
  // * Project :: Tags -> Details.
  .multi-line .branch-commit {
    .commit-row-message { colors: $lighter, 0, 0; }
    .commit-sha { colors: $accent, 0, 0; }
  }

  // * Project :: Contributors.
  [id*="contributors"] {
    .person .spark, .tint-box {
      radius: $radius;
      colors: $light, 0, $dark;
      box-shadow: 0 0 0 1px $darker;
      .axis {
        .domain, line { stroke: $lighter; }
        text { fill: $light; }
      }
      // Graph colors.
      .area { fill: $green !important; }
      .area-contributor { fill: $orange !important; }
    }
  }

  // * Project :: Graph.
  .project-network {
    margin-top: 10px;
    overflow: hidden;
    radius: $radius;
    border-color: $darker;
    .controls { colors: 0, $darker, $dark; }
    // Graph background.
    .network-graph {
      fill: var(--light);
      background-color: var(--dark);
      // Hover over commit.
      > svg rect[rx*="4"][ry*="4"] {
        fill-opacity: 1 !important;
        stroke: $t;
        fill: $darker;
      }
      [d^="M185"], [d^="M195"] {
        fill-opacity: 1 !important;
        fill: $darker;
      }
      // Text color.
      > svg text { fill: $light; }
      // Sidebar.
      > svg rect[width*="40"], > svg rect[width*="30"] {
        stroke-width: 0;
        stroke: var(--darker);
        fill: var(--darker);
      }
    }
  }
  // ? Fix conflicting styles in the navigation.
  [data-page="projects:network:show"] .row-content-block {
    padding: 0;
    border: 0;
  }


  // * Global -> Modals.
  .modal, .modal-doorkeepr-auth {
    colors: 0 0 $t;
    &-backdrop.show {
      opacity: 0.7;
      colors: 0 0 $dark;
    }
    .modal-content {
      border: none;
      radius: $radius;
      colors: 0 0 $dark;
      box-shadow: 0 0 0 1px inset $darker !important;
      // Rounded corners for the last element.
      > :last-child { radius: 0 0 $radius $radius }
    }
    .modal-header {
      radius: $radius $radius 0 0;
      colors: 0 $darker $t;
    }
    .modal-body {
      colors: 0 0 $t;
      // ? MR -> Merge with CLI instructions.
      pre {
        radius: $radius;
        colors: $lighter $darker $dark;
      }
      [class*="-subheader"] { colors: 0 $darker 0 }
      // ? Shortcuts modal.
      .shortcut-mappings {
        th { colors: $light 0 0 }
        td { colors: $lighter 0 0 }
        kbd { colors: $light 0 $darker }
      }
      // ? Board scope.
      .title { colors: $lighter, 0, 0; }
      .block + .block { border-top-color: $darker; }
      // Actions in auth.
      .form-actions {
        radius: 0;
        colors: 0 0 $t;
        border: none !important;
        box-shadow: 0 -1px $darker;
      }
    }
    .modal-footer { colors: 0 $darker $t }
  }

  // * Global -> Close buttons.
  .close {
    transition: 0.15s ease;
    text-shadow: 0 1px 0 $shadow;
    &, &:hover, &:focus { colors: $lighter 0 0 }
    // Non-modal.
    &:not(:disabled):not(.disabled) .fa {
      text-shadow: 0 1px 0 $shadow;
      transform: translateY(-5px);
    }
  }

  // * Project -> Blame.
  [data-page*="projects:blame"] {
    .blame table {
      radius: none;
      box-shadow: none;
    }
    .blame-commit {
      position: relative;
      border-left: none !important;
      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 4px;
      }
    }
    tr:last-child > td::before { radius: 0 0 0 $radius }
    // ? Custom colors!
    for i in 0..9 {
      .legend-box-{i},
      .blame-commit-age-{i}::before {
        colors: 0 0 $green;
        opacity: s(("0.%s99"), i);
      }
    }
  }

  // * Project -> Various resets.
  .file-holder {
    .file-fork-suggestion { colors: 0, $darker, $dark; }
    .table-responsive { radius: 0 !important; }
    .file-blame-legend { colors: 0, $darker, $dark; }
    .file-content.blame tr { border-bottom-color: $darker; }
    // ? Search file names; official GitLab solution.
    .file-title a:not(.btn) { colors: $light 0 0 }
  }

  // * Project -> Last commit.
  .info-well {
    radius: $radius;
    colors: $light $darker $dark;
    > .well-segment {
      padding: 8px;
      colors: $lighter 0 0;
      // https://gitlab.com/vednoc/dark-gitlab/commit/9caacd40
      &:not(:last-of-type) { colors: 0 $darker 0 }
      a {
        color: $accent;
        img { margin: 1px 8px 0 0 }
      }
      // &.branch-info svg { }
    }
    // Deleted branch.
    .limit-box {
      radius: $radius;
      c: $white 0 $orange;
      svg {
        margin-top: 3px;
        isvg: $white;
      }
      .fa { c: $white }
    }
    // Resets.
    .branch-link { margin-bottom: 0 }
    .branches .fork-svg { margin: 3px 2px -3px 0 }
    .vertical-align-middle { vertical-align: middle }
    // Diff -> Nav on commit details page.
    + .nav-links {
      padding: 0 8px;
      margin-top: -6px;
      border: none;
      radius: $radius;
      colors: 0 0 $dark;
      box-shadow: inset 0 0 0 1px $darker;
      a { border-bottom-width: 1px !important }
    }
  }

  // * GPG button.
  // TODO: Remove #sc after refactoring content lists.
  .gpg-status-box:not(#sc) {
    &.valid {
      c: $green $green $dark;
      &:hover { c: $white 0 $green }
    }
    &.invalid, &.invalid:focus {
      c: $lighter $darker $dark;
      &:hover { c: 0 0 $darker }
    }
  }

  // * Popover.
  .popover {
    font-family: var(--ui-font);
    colors: 0, $darker, $dark;
    box-shadow: 0 4px 8px 0 $shadow;
    &-header { colors: 0, $darker, $darker; }
    &-body {
      c: $light 0 0;
      ../.blue { c: 0 0 $blue }
    }
    // Blue popouts?
    .arrow {
      color: $dark;
      ../.blue .arrow { c: $blue }
    }
    &[class*="-top"] {
      .arrow::before { border-top-color: $darker !important; }
      .arrow::after { border-top-color: inherit !important; }
    }
    &[class*="-bottom"] {
      .arrow::before { border-bottom-color: $darker !important; }
      .arrow::after { border-bottom-color: inherit !important; }
    }
    &[class*="-left"] {
      .arrow::before { border-left-color: $darker !important; }
      .arrow::after { border-left-color: inherit !important; }
    }
    &[class*="-right"] {
      .arrow::before { border-right-color: $darker !important; }
      .arrow::after { border-right-color: inherit !important; }
    }
    .gpg-popover-user-link { colors: $light, 0, 0; }
    // Milestones.
    .milestone-popover-body { colors: 0, 0, $t; }
    .milestone-popover-footer { colors: 0, $darker, 0; }
  }

  // Popover -> Tour.
  .onboarding-helper-container {
    c: 0 0 $dark;
    box-shadow: $inner, 0 4px 8px 0 $shadow;
    .avatar {
      radius: 50% !important;
      c: 0 0 $darker;
      box-shadow: inset 0 0 0 1px $darker;
    }
    .progress { c: 0 0 $darker }
    .bg-info { c: 0 0 $blue }
    .text-info { c: $blue }
    .qa-toggle-btn {
      c: 0 0 $t;
      &:hover svg { isvg: $light }
    }
    .active { c: 0 0 $darker }
  }

  // * Commits -> Diff summary.
  .diff-files-changed {
    radius: $radius;
    padding: 8px;
    margin: 10px 0;
    border: 1px solid;
    colors: 0, $darker, $dark;
    // Wrapper.
    > .files-changed-inner {
      // Hide buttons on small resolution.
      .inline-parallel-buttons {
        @media (max-width: 885px) { display: none !important; }
      }
      // ? Git stats.
      .commit-stat-summary { colors: 0 0 $t }
    }
  }
  // * Diff file.
  .diff {
    radius: $radius;
    // Collapsed file content.
    &-file .diff-content {
      radius: 0 0 $radius $radius;
      colors: $light, 0, $dark;
      box-shadow: 0 -1px 0 0 $darker;
      .btn-link { colors: $accent 0 0 }
      // Gems/Packages/etc.
      .code .line a { color: $accent; }
      // Inline diffs.
      .idiff { c: $light }
      .new .idiff, .idiff.addition { c: 0 0 $green }
      .old .idiff, .idiff.deletion { c: 0 0 $red }
    }
    // ? Fix borders on expanded sections.
    &-expanded { & > td, & + :not(&) > td { colors: 0, $darker, 0; }}
  }

  // * Diff -> Image.
  .diff-file {
    .image { c: 0 0 $t }
    .frame {
      c: 0 0 $darker;
      // Added/removed images.
      &.deleted { c: 0 $red }
      &.added { c: 0 $green }
      // Broken image.
      img {
        background: none !important;
        c: $light $t 0;
      }
    }
    .view-modes {
      c: 0 0 $t;
      ul li[class] {
        c: $lighter $darker;
        text-decoration: none;
        transition: 0.15s ease;
        &:hover { c: $light }
        &.active { c: $accent }
      }
    }
  }
  // * Diff -> Reset file-title when scrolling.
  .sticky-placeholder ~ .files {
    .diff-file .file-title-flex-parent {
      radius: 0;
    }
  }
  // * Diff -> Add note.
  .note-container {
    border: none;
    c: 0 $darker $t;
    box-shadow: 0 -1px $darker;
    // Reply background.
    .new-note, .discussion-notes { c: 0 $t }
  }
  // Show/hide replies.
  .notes .replies-toggle {
    colors: $lighter, $darker, $dark;
    &:not(.expanded) { border-bottom: 0 }
    &:hover span { colors: $light 0 0 }
  }
  /* Text color. */
  .branch-info > span {
    color: $light !important;
  }

  // * Timeline content.
  .timeline-entry {
    colors: $light, $darker, $t;
    &.outlined { colors: 0, 0, $dark; }
    // Entry borders.
    .timeline-entry-inner { colors: 0, $darker, 0; }
    // Highlighted entry.
    &:target, &.target {
      border: 1px solid;
      colors: 0 $blue 0;
    }
    // Fix button background.
    .note-action-button { colors: 0, 0, $t; }
    // Alerts -> Command alerts.
    .flash-container .flash-notice { colors: $white 0 $blue }
    // Confidential issue warning.
    .new-note .issuable-note-warning {
      padding: 6px 8px 4px;
      radius: $radius $radius 0 0;
      colors: $orange $darker $dark;
      svg.icon { isvg: $orange }
      // Reset corners in confidential issues.
      + .md-area { radius: 0 0 $radius $radius }
    }
  }

  // * Note.
  .note {
    // Notes on commits.
    &:not(.system-note) { colors: 0 0 $dark }
    // Profile links.
    .note-headline-light { colors: $lighter, 0, 0; }
  }
  .discussion-header { colors: 0, $darker, 0; }
  // ? Fix for discussion's rounded corners in MR.
  // TODO: Explore merging this with `.card, .card-slim` selectors.
  .discussion-wrapper {
    radius: $radius;
    [class$="notes"] .replies-toggle:last-child { radius: 0 0 $radius $radius; }
  }
  /* Text color. */
  .discussion-headline-light,
  .note-headline-meta .system-note-separator {
    text-decoration: none !important;
    color: var(--light);
    time { color: $lighter; }
  }
  // * Notes.
  .notes {
    colors: 0 0 $t;
    a, a:hover { colors: $accent 0 0 }
    // ? MR -> Notes -> Suggestions.
    .md-suggestion-header {
      radius: $radius $radius 0 0;
      colors: $light, $darker, $dark;
      + table.code { radius: 0 0 $radius $radius; }
    }
    .md-suggestion-diff { c: 0 $darker }
    span > code:not([class]) { c: 0 0 $darker }
    // Added/removed/changed things in discussions.
    .idiff.addition { c: $light 0 $green }
    .idiff.deletion { c: $light 0 $red }
  }

  // * Issues :: Conversation notes.
  [id^="notes"] {
    // ? Note background, avoid system notes and forms.
    .notes.timeline > .timeline-entry:not(.system-note):not(.note-form) {
      border-radius: $radius;
      background-color: $dark !important;
    }
    // Icon.
    .system-note .timeline-icon {
      border: 1px solid $darker;
      background-color: $dark;
    }
    // ? Issue description.
    .detail-page-description > script + div {
      padding: 8px;
      border-radius: $radius;
      border: 1px solid $darker;
      background-color: $dark;
    }
  }
  // The line connector.
  .main-notes-list::before {
    border-left-width: 1px !important;
    colors: 0, $darker, 0;
  }

  // * Global -> Markdown input area.
  .common-note-form .md-area {
    padding: 0;
    radius: $radius;
    colors: 0, $darker, $dark;
    &.is-focused {
      colors: 0 $accent 0;
      box-shadow: none !important;
    }
    // Header.
    .md-header {
      &-tab {
        button[class] {
          border-width: 1px !important;
          c: $lighter $darker;
          &:hover { c: $light $accent }
          ../.active button { c: $light $accent }
        }
      }
      > ul.nav-links {
        radius: 0;
        margin: 0;
        padding: 8px 0 0 0 !important;
        border-bottom: none;
        c: 0 $darker $t;
        box-shadow: inset 0 -1px $darker;
      }
    }
    // Input area.
    .markdown-area {
      padding: 8px;
      font-family: var(--mono-font);
      c: $light $darker $t;
    }
    .md-preview-holder { padding: 8px }
    // When you use commands.
    .referenced-commands { colors: 0, 0, $darker; }
    .comment-toolbar {
      padding: 8px;
      c: $lighter $darker 0;
    }
  }
  // Edited text color.
  .edited-text { color: $light }

  // * Markdown selectors.
  .md {
    colors: $light, $dark, 0;
    a { colors: $accent, 0, 0; }
    h1, h2 { colors: 0, $darker, 0; }
    // Hack for anchors reported in #61.
    for i in 1..6 {
      h{i} > a.anchor[href] {
        left: 0px;
        margin: 0 0 0 -10px;
        position: relative;
        font-size: 1rem;
        &::after { content: "#" }
      }
    }
    hr { colors: 0 $darker 0; }
    kbd {
      border: 1px solid;
      c: $lighter $darker $darker;
      box-shadow 0 1px 0 $shadow, inset 0 0 0 2px $dark !important;
    }
    pre {
      &:not([class]) {
        radius: $radius;
        colors: $light $darker $dark;
        code { colors: 0 $t $t }
      }
      &.code {
        radius: $radius;
        colors: 0 $darker $dark;
      }
    }
    caption { c: $lighter }
    mark { c: $white 0 $accent }
    p >, a >, :not(pre) > { code { colors: $light $darker $darker }}
    blockquote:not(#sc) {
      c: $lighter $darker;
      border-left: 4px solid;
      &[dir] p, > div p { c: $lighter }
    }
    img:not(.emoji) {
      border: none;
      c: $accent $darker $dark;
      transition: 0.15s ease;
      opacity: faded_img;
      &:hover { opacity: 1; }
    }
    ul, ol { ul, ol { margin-bottom: 0 !important }}
  }
  /* Attach a file. */
  .markdown-selector { color: $accent; }
  /* Fullscreen (zen) mode. */
  .zen-backdrop.fullscreen {
    colors: 0, 0, $darker;
    textarea {
      margin-top: 5px;
      radius: $radius;
      colors: $light, 0, $dark;
    }
  }


  // * Left sidebar.
  .nav-sidebar {
    colors: 0, 0, $dark;
    box-shadow: 1px 0 0 0 $darker;
    .divider { colors: 0, $darker, 0; }
    // Hide scrollbar.
    ::-webkit-scrollbar { display: none !important; }
    // Links.
    li a, .context-header > a {
      colors: $light, 0, 0;
      &:hover, &:focus { colors: 0, 0, $darker; }
    }
    // ? Fix overflow and height on Firefox.
    .nav-sidebar-inner-scroll {
      height: calc(100% - 48px);
      overflow-x: hidden !important;
      > ul.sidebar-top-level-items { margin-bottom: 0; }
    }
    // ? Styles for submenus.
    .nav-sidebar-inner-scroll > ul.sidebar-top-level-items {
      // Active submenu.
      > li.active:not(.fly-out-top-item) {
        colors: 0, 0, $t;
        box-shadow: 4px 0 0 0 inset $darker, 1px 0 0 1px inset $darker;
        // Group name.
        > a {
          transition: 0.15s ease;
          colors: $accent, 0, 0;
          svg { fill: $accent !important; }
        }
        // Active list items.
        .sidebar-sub-level-items li:not(.fly-out-top-item) {
          transition: 0.15s ease;
          &.active, &:hover {
            colors: $lighter, 0, $darker;
            box-shadow: 4px 0 0 0 inset $accent;
            // Remove unnecessary background.
            a { colors: $light, 0, $t; }
          }
        }
      }
      // Fly-out menu.
      > li:not(.fly-out-top-item).is-showing-fly-out .sidebar-sub-level-items {
        radius: 0 $radius $radius 0;
        colors: 0, $darker, $dark;
        box-shadow: 2px 2px 2px 0 $shadow;
      }
      > li.is-over > a { colors: 0, 0, $darker; }
      // Badges.
      .badge.badge-pill { colors: $lighter, $darker, $dark; }
      > li:hover, > li.active {
        .badge.badge-pill { colors: $light, $dark, $darker; }
      }
      // Remove unnecessary margin on items.
      a {
        margin-right: 0;
        transition: 0.15s ease;
      }
    }
    // ? Resets for collapsed sidebar.
    &.sidebar-collapsed-desktop {
      ul.sidebar-top-level-items > li.active:not(.fly-out-top-item) {
        colors: 0, 0, $darker;
        box-shadow: 4px 0 0 0 inset $accent !important;
      }
      ul.sidebar-sub-level-items > li:not(.fly-out-top-item) {
        box-shadow: none !important;
      }
    }
    // ? Collapse button.
    .close-nav-button,
    .toggle-sidebar-button {
      width: 100%;
      transition: 0.15s ease !important;
      colors: 0, $darker, $dark;
      .collapse-text {
        transition: 0.15s ease;
        colors: $lighter, 0, 0;
      }
      &:hover {
        colors: 0, 0, $darker;
        .collapse-text { colors: $light, 0, 0; }
      }
    }
  }

  // * Right sidebar.
  .right-sidebar {
    colors: 0, $darker, $dark;
    // Separators.
    .block, .gutter-toggle { colors: 0, $darker, 0; }
    // ! Fix buttons for #52. @upstream
    .btn-link {
      line-height: 16px;
      text-transform: capitalize;
      &[class*="-date-"] { margin-top: -2px }
      &[class*="-remove"] { colors: $red 0 0 }
    }
    abbr.value-type-dynamic {
      colors: $lighter 0 0;
      text-decoration: underline;
    }
    // Progress in milestones.
    .progress { colors: 0, 0, $darker; }
    // Text color.
    a:not(.btn):hover { colors: $accent 0 0 }
    .no-value, .sidebar-collapsed-icon { colors: $light, 0, 0; }
    .title {
      colors: $lighter, 0, 0;
      // Edit buttons.
      > a, > button { colors: $lighter, 0, 0; }
    }
    // Button background.
    .js-move-issue:hover { colors: 0, 0, $darker; }
    // Adjust sidebar width.
    &.right-sidebar-collapsed {
      width: 50px;
      .block {
        width: 50px;
        transition: 0.15s ease;
        &:hover { colors: 0, 0, $darker; }
      }
      .gutter-toggle { height: 55px; }
    }
    // Expanded state should take more available space.
    &.right-sidebar-expanded .issuable-sidebar {
      padding: 0 16px;
      .block {
        width: 100%;
        max-width: 264px;
      }
    }
  }

  // * Project :: Wiki.
  [data-page*="wikis:show"] #content-body {
    // Wiki sidebar.
    .right-sidebar.wiki-sidebar {
      a { color: $light; }
      a:hover { color: $accent; }
      .active > a { color: $accent; }
    }
    // Text colors.
    .wiki-last-edit-by {
      colors: $lighter, 0, 0;
      > strong { colors: $light, 0, 0; }
    }
  }

  // * Project :: Wiki -> Mermaid.
  .mermaid {
    max-width: var(--width) !important;
    padding-bottom: 10px;
    radius: $radius;
    colors: 0, 0, $dark;
    box-shadow: inset 0 0 0 1px $darker;
    // Boxes.
    rect.actor { isvg: $darker, $darker; }
    text.actor { isvg: $light, 0; }
    // Connectors.
    .actor-line { isvg: 0, $darker; }
    // Notes.
    .note { isvg: $darker, $accent; }
    .noteText, .noteText tspan { isvg: $lighter, 0; }
    // Lines.
    .message {
      &Text { isvg: $lighter, 0; }
      &Line0 { isvg: 0, $darker; }
    }
  }

  // * Project :: Project/group home panel.
  .project-home-panel, .group-home-panel {
    colors: 0 $t 0;
    // Text color.
    .text-secondary { colors: $lighter 0 0; }
    // Remove button backgrounds.
    .js-read-more-trigger { colors: $accent, 0, $t; }
    // Metadata text color.
    .project-metadata * {
      colors: $lighter, 0, 0;
      // Reset license button.
      &.project-license .btn { colors: 0 0 $t }
    }
    // Project tags.
    .home-panel-topic-list {
      colors: 0, $darker, 0;
      // Fix line height.
      .text-nowrap { line-height: 22px !important; }
      svg.icon { margin-top: 4px !important; }
      .badge:hover { colors: $light, 0, $darker; }
    }
    // ? Repo stats.
    .project-stats {
      .add-license-link, .stat-link { colors: $lighter 0 0 }
      .project-stat-value { colors: $light 0 0 }
    }
    // ? Repo buttons.
    .project-repo-buttons {
      .count-badge, .btn-xs { height: 34px; }
      .count-badge {
        .star-count, .count { colors: $light 0 0 }
        &-count { colors: 0 $darker $dark }
        &-button {
          font-size: 14px;
          colors: $light $darker $darker;
          &:hover { colors: 0 0 $dark }
        }
      }
      .clone-dropdown-btn {
        font-size: 14px;
        colors: $white $green $green;
        svg { isvg: $white 0 }
      }
    }
  }
  // ? Default buttons.
  .project-buttons {
    margin: 0;
    .nav {
      .btn { margin-top: 10px }
      // "Auto DevOps enabled" and possibly other buttons.
      .stat-text {
        margin-top: 10px;
        colors: $lighter $darker $dark;
      }
    }
  }

  // * Arrows.
  // ? Old GitLab design.
  .count-with-arrow {
    .count { colors: 0, $darker, $dark; }
    .arrow::before { border-right-color: $darker !important; }
    .arrow::after { border-right-color: $dark !important; }
  }
  // * Remove unnecessary whitespace.
  .project-home-panel {
    // Separate title from repo buttons.
    .home-panel-title-row { margin-bottom: 8px }
    // Badges.
    .project-badges {
      margin: 8px 0;
      a[class] {
        margin: 0;
        display: inline-flex;
        &:not(:last-child) { margin-right: 6px }
      }
    }
    // Project description.
    .project-home-desc, .project-description > div > p { margin: 0 0 10px 0 !important; }
    // Buttons under badges.
    .project-repo-buttons {
      // Reset margins on all items.
      > div { margin: 0; }
      // Apply margins on the child elements.
      // ? Inline is needed for specificity.
      > div > div:not(:last-child), > div > .inline { margin: 0 8px 8px 0 !important; }
      // Right margin for buttons.
      .project-action-button { margin: 0 !important; }
    }
  }
  // * Separator.
  .project-stats {
    border-bottom: none;
    colors: 0, $darker, 0;
    // ? Reset background-color on project page.
    .progress { colors: 0, 0, $t; }
  }
  // Language bar.
  .progress.repository-languages-bar {
    background-color: $t !important;
    .progress-bar {
      radius: 8px;
      // ? Fixes buggy bar in `.../vednoc/better-comments` repo.
      flex-grow: 1;
      // Apply right margin to all but the last child.
      &:not(:last-child) { margin: 0 4px 0 0 !important; }
      // Crystal language color.
      &[style$="#776791"] { background: #000000 !important; }
    }
  }

  // * Project :: Settings.
  .settings {
    border-bottom-color: $darker;
    // ? Fix border colors.
    + .settings { colors: 0, $darker, 0; }
    // ? Standalone sections i.e. under Advanced.
    .sub-section {
      radius: $radius;
      colors: 0, $darker, $dark;
    }
    .project-visibility-setting {
      radius: $radius $radius 0 0;
      colors: $light, $darker, $dark;
    }
    .project-feature-settings {
      radius: 0 0 $radius $radius;
      colors: 0, $darker, $dark;
    }
    // Protected branches/tags/envs.
    &-content {
      [class^="protected-"] {
        radius: $radius;
        border: 1px solid $darker;
        > .card-header {
          radius: $radius $radius 0 0;
          colors: $light $darker $darker;
         }
        > .settings-message { radius: 0 0 $radius $radius }
        .table-bordered {
          margin: 0;
          border: none;
          radius: $radius;
          box-shadow: none;
          th, td { border: none }
        }
      }
    }
  }
  // ? Service Desk -> Forward...
  #js-service-desk .card-header {
    radius: $radius;
    colors: $orange, $darker, $darker;
    h3 {
      margin: 0.75rem 0;
      font-size: 1.0rem;
    }
  }

  /* Commit button. */
  .commit-sha-group .label,
  .commit-sha-group .btn {
    color: $light;
    border-color: $darker;
    background-color: $dark;
  }
  /* Fix background in upload files. */
  .commit-message-container { background: none; }
  /* Dropzone! */
  .blob-upload-dropzone-previews { border-color: $darker; }

  // * Project :: Badges.
  .project-badge { transition: 0.2s opacity ease-in-out; }
  [src*="for-the-badge"] { radius: $radius; }
  span.badge, button.badge, div.badge {
    // Remove unnecessary underline.
    &.color-label { text-decoration: none !important; }
    // Apply everywhere except on color-label elements.
    &:not(.color-label) { colors: var(--white), 0, 0; }
    // Hack for darkening background color.
    &:not(.badge-pill):not(.available) {
      // transition: 0.15s ease;
      box-shadow: inset 0 0 0 1rem #33333370;
      &:hover { box-shadow: none; }
      &[style*="color: #333333"] {
        color: #000000 !important;
        box-shadow: inset 0 0 0 1rem #33333325;
      }
    }
  }

   // * Project :: Readme.
  .file-holder {
    radius: $radius;
    colors: 0, $darker, $dark;
    // ? Header.
    .file-title {
      // @upstream https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/25648
      border-top: 1px solid;
      &, &-flex-parent {
        padding: 8px;
        radius: $radius $radius 0 0;
        colors: 0 $darker $dark;
        // Buttons w/o `button-default` class.
        a { color: unset }
        .btn {
          font-size: inherit;
          padding: 2px 10px;
          c: $lighter;
        }
        // Diff -> Renamed file names. #43
        .idiff {
          &.addition { colors: $green 0 $t }
          &.deletion { colors: $red 0 $t }
        }
      }
    }
    // ? Body.
    .file-content {
      colors: 0 0 $t;
      &.blob-no-preview h4 { text-shadow: none }
    }
  }

  // * Wiki.
  .wiki:not(.use-csslab) {
    color: $light;
    a { color: $accent !important; }
    h1, h2 { colors: $lighter, $darker, 0; }
    > p > code { border: 1px solid $darker !important; }
    blockquote, .blockquote {
      padding: 8px 16px;
      border-left-width: 4px;
      colors: $light, $darker, 0;
      // Second rule solves blockquote weirdness in issues.
      p, * > p { colors: $lighter, 0, 0; }
    }
    pre { radius: $radius; }
    pre, code { colors: $lighter, $darker, $dark; }
    img:not(.emoji) {
      border: none;
      radius: $radius;
      colors: 0, $darker, $dark;
    }
    kbd {
      colors: $accent, $dark, $shadow;
      box-shadow: none;
    }
  }

  // * Project -> File table.
  .table-holder {
    radius: $radius;
    border: none !important;
    background-color: $dark;
    box-shadow: 0 0 0 1px inset $darker;
    // ? File holder.
    .tree-table tr {
      td { transition: 0.15s ease !important }
      // ? Hide borders on file-holder.
      ../ .tree-table thead tr { border: none }
      &:last-of-type { colors: 0 $t 0 }
      // ? Table cells.
      &.tree-item {
        // Git submodules.
        span a { color: inherit; }
        // Text colors.
        .tree-time-ago, .tree-commit-link, .tree-item-file-name > *, time {
          transition: 0.15s ease;
          colors: $lighter, 0, 0;
        }
        // On event.
        &:hover, &.selected {
          > td { colors: 0, 0, $darker; }
          .tree-time-ago, .tree-commit-link, .tree-item-file-name > *, time {
            colors: $light, 0, 0;
          }
        }
      }
    }
    // ? Fixes `pre` element on project/pages/domains page.
    tbody pre { colors: $lighter, $darker, $dark; }
  }

  // Groups section.
  [data-page="users:show"] #groups {
    .content-list {
      margin-top: 10px;
      radius: $radius;
      colors: 0, 0, $dark;
      li {
        transition: 0.15s ease;
        &:hover { colors: 0, 0, $darker; }
      }
      .group-row .stats { color: $lighter; }
    }
  }
  // Text dividers.
  .middle-dot-divider::after { color: $lighter; }
  /* Fix master/history/find file/web ide section when low-resolution. */
  @media (max-width: 740px) {
    .nav-block {
      flex-direction: column;
    }
  }

  // * Profile -> Core styles.
  .user-profile {
    // User info cover.
    .cover-block {
      colors: 0 0 $dark;
      box-shadow: inset 0 -1px 0 0 $darker;
      [class*="fade-"] { border: none }
      .cover {
        &-title, &-desc { c: $light }
        &-status { padding: 8px 0 4px }
      }
    }
    // ? Calendar in activity. @obsolete
    #activity > .row-content-block { colors: 0, $darker, $dark; }
    // * Content list items.
    .content_list {
      radius: $radius;
      background-color: $dark;
      box-shadow: inset 0 0 0 1px $darker;
      .event-item { @media (max-width: 575px) {  padding-left: 8px !important; }}
    }
    // ? Overview -> Adjust whitewspace between panes.
    .row {
      @media (min-width: 980px) {
        .col-12 .append-bottom-default { margin-bottom: 0; }
        .col-lg-6:first-child { padding-right: 3px; }
        .col-lg-6:last-child { padding-left: 3px; }
      }
    }
    // ? Fix loader height.
    .overview-content-list > .loading  {
      &, > .loading {
        margin: 0 auto !important;
        height: 50px;
      }
    }
  }

  // * Profile -> Contribution calendar.
  svg.contrib-calendar > g {
    text { fill: $light; }
    rect { fill: $accent; }
    rect[fill="#ededed"] { opacity: 0.05; }
    rect[fill^="rgb(17"] { opacity: 0.20; }
    rect[fill^="rgb(12"] { opacity: 0.40; }
    rect[fill^="rgb(82"] { opacity: 0.65; }
    rect[fill^="rgb(37"] { opacity: 1; }
  }

  // ? Compact projects-list.
  .compact.projects-list {
    margin: 0 !important;
    colors: 0, 0, $t;
    box-shadow: none !important;
    .project-row {
      padding: 8px;
      &:first-child { radius: 0; }
      &:last-child { radius: 0 0 $radius $radius; }
    }
  }

  /* Text color. */
  .nothing-here-block,
  .calendar-hint,
  .content-list li {
    color: var(--light) !important;
  }
  .nothing-here-block { padding: 8px; }

  // * Project -> Activity.
  .project-activity {
    radius: $radius;
    background-color: $dark;
    box-shadow: inset 0 0 0 1px $darker;
    // Item.
    .event-item {
      padding: 8px 8px 8px 60px;
      colors: $light, $darker, 0;
      transition: background 0.15s ease-in-out;
      &:hover { background-color: $darker; }
      // Text color.
      a { color: $accent; }
      .event-title { color: $light; }
      .author_name a, strong a { color: $accent; }
      // Remove left padding on small resolution.
      @media (max-width: 575px) { padding-left: 8px; }
      // Avatar position.
      .user-avatar { margin-left: 8px; }
    }
  }

  // * Profile -> Overview.
  .user-profile {
    // Sections.
    [class*="col"] > [class*="-block"] {
      margin-top: 16px;
      radius: $radius;
      colors: 0, 0, $dark;
      box-shadow: 0 0 0 1px inset $darker;
      // ? Reset font size for blocks. @upstream
      h4 { font-size: 1rem !important }
      // ! @obsolete
      > [class*="-block"] {
        padding: 0.1px;
        h4, h5 { padding: 0 8px }
        + .prepend-top-10 { padding: 0 8px }
        // Hide "activity" border.
        &:first-child { colors: 0 $t 0 }
      }
      .border-bottom {
        padding: 0 8px;
        colors: 0 $t 0;
        // New top border for lists.
        + div { box-shadow: inset 0 1px $darker }
      }
    }
    // ? Content list items.
    .event-item {
      colors: 0, $darker, 0;
      transition: 0.15s ease;
      padding: 8px 8px 8px 48px !important;
      .system-note-image { left: 12px; }
      .event-title {
        color: $light;
        // Branch/repo.
        a { color: $light; }
      }
      .author_name a { colors: $light, 0, 0; }
      .username { colors: $lighter, 0, 0; }
      .event-body {
        .commit-row-title .commit-sha { colors: $light, 0, 0; }
        &, .md p, .commit-row-title { colors: $light, 0, 0; }
      }
      &:first-child { radius: $radius $radius 0 0; }
      &:last-child { radius: 0 0 $radius $radius; }
      &:hover { colors: 0, 0, $darker; }
    }
    // Contributions for the selected day.
    .user-calendar {
      padding: 8px !important;
      &-activities {
        .bordered-list li { padding: 8px }
        h4 { &, & + p { padding: 8px }}
      }
    }
  }

  // * Project :: Cycle Analytics.
  #cycle-analytics {
    // Introduction.
    .landing { colors: 0, $darker, $dark; }
    // Colors.
    .stage-nav {
      .stage-nav-item {
        position: relative;
        colors: $light, $darker, $dark;
        // Indicator.
        &::before {
          content: "";
          position: absolute;
          top: 0; left: 0; bottom: 0;
          width: 4px;
          ../:last-child::before { radius: 0 0 0 $radius }
        }
        // Hover event.
        &:hover:not(.active), &.active {
          colors: 0 $darker $dark;
          box-shadow: none;
          &::before { colors: 0 0 $accent }
        }
        // Hide double borders.
        &, &.active, &:hover:not(.active) { border-top-color: $t !important }
        // Median.
        .stage-empty, .not-available { color: $lighter; }
        &:last-child { radius: 0 0 0 $radius !important }
      }
    }
    // Related issues.
    .stage-event-item {
      colors: $lighter, $darker, 0;
      .total-time { &, span { colors: $lighter 0 0 }}
      .issue-link, .issue-date, .build-date { colors: $lighter, 0, 0; }
      .item-title a { colors: $light, 0, 0; }
    }
  }

  // * Project -> Insights.
  .insights-charts {
    .chart-canvas-wrapper {
      margin-top: 10px;
      radius: $radius;
      colors: 0 0 $dark;
      box-shadow: 0 0 0 1px inset $darker;
    }
  }

  // * Dashboard -> Sub-nav block.
  .row-content-block {
    margin-top: 10px !important;
    padding: 0px;
    radius: $radius;
    border: 0px solid $darker;
    colors: $lighter 0 $t;
    // Same as down below; probably outdated.
    &.white {
      border: 1px solid $darker;
      background-color: $dark;
    }
    time { color: $lighter }
    // * Global -> *You pushed to...*
    > .event-last-push {
      padding: 8px;
      radius: $radius;
      colors: 0 0 $dark;
      // Smol button is no-no.
      .btn { padding: 8px }
    }
  }
  /* Sub-header found in compare branches. */
  .sub-header-block {
    border-color: $darker;
    background-color: transparent;
    // Commits list.
    + .card {
      border-radius: $radius !important;
      ul > li:last-child { radius: 0 0 $radius $radius; }
    }
  }
  // Sticky file name.
  .diff-file .is-compare { top: calc(91px - var(--radius)) !important }
  // * Project -> Compare.
  [class*="card"] {
    // Nothing to compare.
    &.bg-light {
      colors: 0 0 $dark;
      box-shadow: 0 0 0 1px inset $darker;
    }
    // Reset whitespace.
    > .content-list > li {
      padding: 6px 8px 6px 6px;
      transition: 0.15s ease;
    }
  }
  /* Text color. */
  .issuable-milestone,
  .issuable-info,
  .task-status,
  .issuable-updated-at {
    color: var(--light) !important;
  }
  /* Email button. */
  .issuable-email-modal-btn {
    color: var(--accent);
  }
  /* Merged/closed. */
  .merge-request.merged,
  .issue.merged,
  .merge-request.closed,
  .issue.closed {
    border-color: var(--darker);
    background-color: var(--dark);
  }
  // ? New issues.
  .issue.today {
    colors: 0, 0, $t;
    box-shadow: none;
    &:hover { colors: 0 0 $darker }
    &::before {
      content: "";
      border-left: 4px solid $accent;
      position: absolute;
      top: 0; left: 0; bottom: 0;
    }
  }
  // ? Rounded corners for first list item.
  .issuable-list > li:first-child::before { radius: $radius 0 0 0; }
  // Items on hover.
  .card > ul > li {
    &:hover, &.done-reversible {
      colors: 0, 0, $darker;
    }
    .btn {
      colors: 0, 0, $dark;
    }
  }


  // * Dashboard -> Activity.
  .activities {
    // Navigation tweaks.
    &.nav-block {
      position: relative;
      margin-bottom: 8px;
      border-bottom: none;
      > div[class] { @media (max-width: 740px) { width: 100% }}
    }
    // Fix RSS icon.
    .controls {
      margin: 14px 0 0 0;
      z-index: 9;
      position: absolute;
      top: 0; right: 8px;
      @media (max-width: 740px) { display: none !important; }
    }
    // List.
    // ! Might need extra tweaking somewhere.
    .content_list {
      radius: $radius;
      colors: 0, 0, $dark;
      box-shadow: inset 0 0 0 1px $darker;
    }
    // Items.
    .event-item {
      padding: 8px 16px 8px 60px;
      colors: $light, $darker, 0;
      .event-title { color: $light; }
      a { color: $accent; }
      // Adjust avatars.
      .user-avatar { margin-left: 10px; }
    }
  }

  // * Dashboard :: Operations.
  .operations-dashboard {
    // Remove extra padding.
    > nav, > div { padding: 0 !important; }
    // "Search your projects" margin fix.
    .page-title-holder {
      margin-top: 16px;
      .append-bottom-default { margin-bottom: 0px !important; }
    }
    // Add projects.
    .tokenized-input-wrapper {
      radius: $radius;
      &.focus { box-shadow: 0 0 1px 1px $accent !important; }
      .tokenized-input { colors: $light, 0, $t; }
      .input-token, .tokenized-input-token-remove { colors: 0, 0, $darker; }
    }
    // Cards.
    .card {
      radius: $radius;
      box-shadow: 0 0 0 1px inset $darker;
      .card-header { radius: $radius $radius 0 0; }
    }
    // * Skeleton.
    .dashboard-cards {
      .bg-light { colors: 0 0 $darker }
      .dashboard-card-skeleton-info::after {
        background-image: linear-gradient(to right, $t 0%, $dark 50%, $t 100%)
      }
    }
    // Modals -> Add projects.
    #add-projects-modal .project-list-item {
      colors: 0 0 $t;
      &:hover {
        colors: $light 0 $darker;
        .identicon { colors: 0 0 $dark }
      }
    }
  }

  // * Dashboard :: Issues/MR page.
  [class$="-filters"] + .card {
    colors: 0, $t, $t;
    // List.
    .issuable-list {
      margin-top: 10px !important;
      radius: $radius;
      border: 1px solid;
      colors: 0, $darker, $dark;
      // Round corners.
      li {
        &:first-child { border-radius: $radius $radius 0 0; }
        &:last-child { border-radius: 0 0 $radius $radius; }
      }
      // Remove right padding on issues/merge requests page.
      .issuable-info-container { padding-right: 0; }
    }
  }

  // * Dashboard :: Todos page.
  .js-todos-all .card {
    margin-top: 10px;
    radius: $radius;
    colors: 0, 0, $t;
    // List wrapper.
    .todos-list {
      radius: $radius;
      border: 1px solid;
      colors: 0, $darker, $dark;
      // List items.
      .todo {
        border: none;
        // Reset borders and round corners.
        &:not(:first-child) { border-top: 1px solid $darker; }
        &:first-child { border-radius: $radius $radius 0 0; }
        &:last-child { border-radius: 0 0 $radius $radius; }
      }
    }
  }

  // * Issues :: List.
  .issues-holder {
    margin-top: 10px;
    radius: $radius;
    border: 1px solid $darker;
    background-color: $dark;
    // Email a new issue to this project.
    .issuable-footer {
      padding: 10px;
      border-top: 1px solid $darker;
    }
    li:not(.page-item) {
      transition: background 0.15s ease-in-out;
      &:first-child { radius: $radius $radius 0 0; }
      &:hover { background-color: $darker; }
    }
    // ? Reset pagination.
    .gl-pagination {
      padding: 10px;
      margin-top: 0px !important;
      border-top: 1px solid $darker;
      .pagination { margin: 0px; }
    }
  }

  // * Issues -> Similar issues list.
  .issue-form .list-unstyled {
    padding: 8px;
    radius: $radius;
    colors: 0 0 $dark;
    box-shadow: 0 0 0 1px inset $darker;
    .suggestion {
      colors: $accent 0 0;
      &-state-open { isvg: $green 0 }
      &-state-closed { isvg: $red 0 }
    }
  }

  // * Issues :: Search or filter results.
  .filtered-search-box {
    radius: $radius;
    colors: 0, $darker, $dark;
    &.focus { &, &:hover { colors: 0 $blue 0; box-shadow: none; }}
    // Fix corners.
    [class*="history-dropdown-toggle-button"] { radius: $radius 0 0 $radius }
    &-input-container .filtered-search { radius: 0 $radius $radius 0 }
    .btn-link { colors: $lighter 0 0 }
    // Search field.
    .form-control { colors: $light, $t, 0; }
    // Search field words.
    .name { color: $light; }
    // Search field button.
    .clear-search {
      radius: $radius;
      colors: 0 0 $dark
    }
    // Search tokens (labels).
    .selectable {
      margin-right: 8px;
      radius: 2px;
      box-shadow: $inner;
      .name { c: $lighter 0 $t }
      .value-container {
        margin-right: 0;
        c: $light 0 $darker;
      }
    }
    .filtered-search-token > .name { c: $light 0 $darker }
  }

  // * Issues :: Details.
  .detail-page-header { c: $light $darker }
  .issuable-details .content-block { c: $light $t }

  // * Epics -> Wrapper.
  .epic-page-container {
    // Remove extra padding.
    .issuable-details {
      padding: 0;
      colors: 0, $t, 0;
      // Remove margin.
      .card-slim { margin-bottom: 0px; }
    }
    // Reactions wrapper.
    + .content-block { colors: 0 $t 0; }
  }
  // Time tracking.
  .time_tracker {
    .progress .bg-primary { colors: 0 0 $blue }
    .compare-label { colors: $lighter 0 0 }
    .compare-value { colors: $light 0 0 }
    .time-tracking-help-state { colors: 0 $darker $dark }
  }
  // Edited.
  // ? Contains styles for milestone elements; find a better place.
  .detail-page-description {
    .title, &.milestone-detail { colors: $light, $darker, 0; }
    .edited-text, .edited-text * { colors: $lighter, 0, 0; }
  }

  // * Issues -> Related issues.
  .related-issues-block {
    margin-top: 16px;
    .card-slim {
      border: 1px solid $darker;
      .card-header { c: 0 0 $t }
    }
    // Issue metadata.
    .item-body {
      // Link to the issue.
      a.sortable-link { colors: $light, 0, 0; }
      // Milestone/weight/etc.
      .item-weight span, .path-id-text { colors: $lighter, 0, 0; }
    }
    // Search Box
    input { colors: $light, 0, $dark; }
    // Tokens.
    .issue-token {
      radius: 2px;
      box-shadow: $inner;
      &-reference { c: $light 0 $darker }
      &-remove-button { c: 0 0 $t }
    }
  }
  // Related merge requests.
  #merge-requests > .card-header { c: 0 0 $dark }
  // Badges.
  .issue-count-badge, .mr-count-badge { c: 0 $darker }
  .related-items-list {
    .path-id-text, .item-path-id { colors: $light, 0, 0; }
    .open { fill: $green !important; }
    .closed { fill: $red !important; }
  }
  // Epic Related Issues
  .sortable-container { background-color: $darker; }

  // Notes.
  .note-text pre {
    radius: $radius !important;
  }
  // ? Fixes missing bottom border for code.
  .notes .note-text > p:last-child { padding-bottom: 1px !important; }

  // * Global -> Cards.
  .card, .card-slim {
    radius: $radius;
    colors: 0 $darker $dark;
    .card-header {
      radius: $radius $radius 0 0;
      colors: $light $darker $darker;
    }
    .card-body {
      padding: 8px;
      colors: 0 0 $t;
      .text-plain { colors: $lighter 0 0 }
      // Reset actions on `user/project/pages` page.
      .form-actions { margin: 0 !important }
    }
    .card-footer {
      padding: 8px;
      radius: 0 0 $radius $radius;
      colors: 0 $darker $t;
    }
    .card-body, .card-footer {
      pre {
        font-family: var(--mono-font);
        radius: $radius;
        colors: $lighter $darker $dark;
      }
    }
    // ? Project -> Releases.
    &.linked-card {
      .badge.badge-pill { colors: $light, 0, 0; }
      &::after {
        border: none;
        border-left: 1px solid $darker;
      }
    }
  }

  // * Emoji menu.
  .emoji-menu {
    radius: $radius;
    colors: 0 $darker $dark;
    box-shadow: 0 4px 8px 0 $shadow;
  }

  // * Auto-complete menu.
  .atwho-view {
    radius: $radius;
    colors: $lighter $darker $dark;
    box-shadow: 0 2px 4px 0 $shadow;
    .atwho-view-ul {
      li {
        colors: $light 0 0;
        // Matching text.
        strong { colors: $accent 0 0 }
        // Light text.
        small, .params { colors: $lighter 0 0 }
        // Selected.
        &:hover, &.cur { colors: $light 0 $darker }
      }
    }
  }

  // * Boards -> Wrapper resets.
  .boards-list {
    padding: 10px 16px !important;
    height: calc(100vh - 134px);
    .board {
      transition: 0.15s ease;
      padding: 0 !important;
      &:not(:first-child) { padding-left: 8px !important }
      &-title-caret:hover { colors: 0 0 $darker }
      // Whitespace for the last card.
      .board-card:last-child { margin-bottom: 8px !important }
      &-inner.rounded { radius: $radius !important }
      // Welcome/promos.
      &-blank-state, &-promotion-state {
        radius: 0 0 $radius $radius;
        colors: 0 0 $dark;
      }
    }
  }

  // * Boards -> Base styles.
  .issue-boards-content {
    // Fullscreen.
    &.is-focused {
      colors: 0, 0, $dark;
      // Fix list height.
      .boards-list { height: calc(100vh - 45px) }
    }
    // Reset search bar.
    .row-content-block {
      margin: 0 16px;
      // Fix search box.
      .filtered-search-box { radius: 3px }
    }
    // Board colors.
    .board-inner {
      colors: 0, $darker, $dark;
      // Board header.
      .board-title { colors: $light, $darker, 0; }
      // Empty, default boards.
      [class$="-state"] { colors: $light, 0, $dark; }
      // Showing all issues.
      .board-list-count,
      .board-title-sub-text {
        colors: $lighter, 0, 0;
      }
    }
    .issue-count-badge {
      colors: 0, $darker, 0;
    }
    // Weight cards.
    .board-card-weight { colors: $lighter, 0, 0; }
    // Fix sidebar gutter close svg. #46 @upstream
    .gutter-toggle {
      padding-right: 10px;
      svg { width: 11px; }
    }
  }

  // * Boards -> Cards.
  // ? They turn into a tooltip once dragged so we must style them here.
  .board-card {
    c: 0 $darker $dark;
    box-shadow: 0px 1px 2px 0 $shadow;
    transition: 0.15s ease;
    &:hover {
      c: 0 $accent 0;
      box-shadow: 0px 2px 4px 0 $shadow;
    }
    // Text color.
    .board-card-title a { color: $light; }
    .board-card-number { color: $lighter; }
    // Assignee background.
    .board-card-assignee:hover a { colors: 0, 0, $t; }
  }
  // ? When you move boards themselves.
  .board > .board-inner {
    colors: 0, $darker, $dark;
    .board-title { border-bottom-color: $darker; }
  }

  // * Boards :: Add issues.
  .add-issues-container {
    radius: $radius;
    colors: 0, 0, $darker;
    // Reset styles.
    .add-issues-header, .add-issues-footer {
      colors: 0, 0, $t;
    }
  }

  // * Issues :: Labels.
  .labels-container {
    padding: 0px;
    colors: 0, 0, $t;
    // List.
    .manage-labels-list > li:not(.empty-message) {
      &:not(.no-border) {
        border: 1px solid $darker !important;
        box-shadow: none !important;
      }
      &:not(.is-not-draggable) {
        margin-bottom: 8px;
        radius: $radius;
        colors: 0 $darker $dark;
      }
    }
    .label {
      // Badges.
      &-badge-gray { colors: $light $darker $darker }
      &-badge-blue { colors: $white $blue $blue }
      &-subscribe-button[data-toggle] {
        width: auto;
        padding: 3px 8px ;
        margin-top: -3px;
        font-weight: normal;
      }
    }
  }

  // * Issues -> Milestones.
  .milestones {
    padding: 0;
    radius: 0;
    c: 0 0 $t;
    // Items.
    .milestone {
      padding: 8px;
      radius: $radius;
      c: $light 0 $dark;
      box-shadow: $inner;
      // Text color.
      .milestone-range { colors: $light, 0, 0; }
      // Links.
      .milestone-progress {
        .light, a { colors: $lighter, 0, 0; }
      }
      // Title and reopen button.
      strong a, .btn-reopen { colors: $light, 0, 0; }
    }
  }
  .milestone {
    padding: 8px;
    .label-badge {
      c: $lighter $darker $dark;
      &-gray { c: $light 0 $darker }
    }
    // Color in relatable issues.
    &-title { colors: $lighter, 0, 0; }
    &-banner-link { padding: 2px !important; }
    // Reset for boards.
    &-content {
      .card-header {
        colors: 0 $t $t;
        + .content-list { box-shadow: 0 1px inset $darker }
      }
      li:last-child { radius: 0 0 $radius $radius }
    }
  }

  // Details.
  .issuable-row {
    colors: 0, 0, $t;
    .issuable-number { colors: $lighter, 0, 0; }
  }

  // Forms.
  .form-actions {
    padding: 8px;
    border: none;
    radius: $radius;
    c: 0 0 $dark;
    box-shadow: $inner;
  }

  // * Promotional.
  .user-callout {
    // Reset extra margins on the side.
    margin: 20px 0 10px !important;
    &.promotion-callout {
      .bordered-box {
        padding: 8px !important;
        radius: $radius;
        colors: 0, $darker, $dark;
      }
    }
    // ? Found in: .../repo/pipeline_schedules
    .bordered-box.content-block {
      padding: 8px !important;
      radius: $radius;
      colors: 0, $darker, $dark;
    }
  }
  .banner-non-empty-state {
    padding: 5px 0 0 0;
    border: 1px solid;
    radius: $radius;
    colors: 0, $darker, $dark;
    &.append-bottom-20 { margin-bottom: 10px }
  }
  // ? Callout in .../project/environments
  .canary-deployment-callout {
    border-top: 1px solid $darker;
    border-bottom: none;
  }
  // Milestones -> Burndown chart hint.
  .content-block.burndown-hint {
    radius: $radius;
    colors: 0 $darker $dark;
    svg path[fill='#fff'] { isvg: $t }
  }
  // GitLab-Gold promotion.
  .container-fluid > #content-body > .container-fluid.pt-1 { padding: 0; }

  // * Milestones -> Burndown chart.
  .burndown-chart {
    radius: $radius;
    c: 0 0 $dark;
    box-shadow: $inner;
    text { fill: $light; }
    .axis {
      &-label text { colors: $red, 0, 0; }
      &-label line, line, path { stroke: $lighter; }
    }
    // ? Legend!
    .legend {
      rect { stroke: $lighter; }
      text { fill: $light; }
    }
    .actual.line {
      stroke: $accent;
      fill: none !important;
    }
  }
  // Repository charts.
  .repo-charts {
    // Brings back the language color.
    .fa { color: inherit !important; }
    canvas:not(#languages-chart) { colors: 0, 0, $dark; }
  }
  // ? Found in: .../repo/pipelines/charts
  [data-page="projects:pipelines:charts"] {
    .legend {
      &-success .fa { color: inherit !important; }
      &-all { colors: $lighter, 0, 0; }
      &-all > i { color: inherit !important; }
    }
    canvas {
      radius: $radius;
      colors: 0, 0, $dark;
      box-shadow: inset 0 0 0 1px $darker;
    }
  }

  // * Calendar.
  .pika-single {
    radius: $radius;
    c: $light $darker $dark;
    // Header.
    .pika-label { c: $lighter 0 $t }
    // Cells.
    th { c: $light $darker }
    td {
      c: 0 $darker 0;
      .pika-day {
        c: $light 0 $dark;
        &:hover, ../[class^="is-"] .pika-day { c: $accent 0 $darker }
      }
    }
    // Shadow.
    &.is-bound { box-shadow: 0 2px 4px 0 $shadow }
  }

  // * Pagination.
  .pagination {
    // Rounded corners.
    > .page-item:first-child a {
      border-top-left-radius: $radius;
      border-bottom-left-radius: $radius;
    }
    > .page-item:last-child a {
      border-top-right-radius: $radius;
      border-bottom-right-radius: $radius;
    }
    // Links.
    .page-item {
      // Defaults.
      .page-link { colors: $lighter, $darker, $dark; }
      // Disabled.
      &.disabled .page-link {
        colors: $lighter, 0, 0;
        filter: opacity(0.75) !important;
      }
      // Selected.
      &.active .page-link { colors: $accent, 0, $darker; }
      &:hover:not(.disabled):not(.active) .page-link { colors: $accent, 0, 0; }
    }
  }

  // * Merge Requests :: List.
  .merge-requests-holder {
    margin-top: 10px;
    radius: $radius;
    border: 1px solid var(--darker);
    background-color: var(--dark);
    li:not(.page-item) {
      transition: background 0.15s ease-in-out;
      &:hover { background-color: var(--darker); }
      // Approvals.
      .text-success {
        colors: $green, 0, 0;
        svg { fill: $green !important; }
      }
    }
    // Fix whitespace.
    .gl-pagination {
      padding: 10px;
      margin-top: 0px !important;
      border-top: 1px solid $darker;
      .pagination { margin: 0px; }
    }
    // Email a new MR.
    .issuable-footer {
      padding: 10px;
      border-top: 1px solid var(--darker);
    }
  }

  // * Merge Requests -> Details.
  .merge-request-tabs-holder, .epic-tabs-holder {
    margin: 0 0 10px;
    border: none;
    radius: $radius;
    colors: 0 0 $dark;
    box-shadow: $inner;
    // Resets.
    .nav-links {
      margin: 0;
      radius: 0;
      c: 0 0 $t;
      box-shadow: none;
    }
    > div > div:last-child { margin: 0 8px }
  }
  // First contribution.
  .fa-certificate {
    colors: $accent, 0, 0;
    + strong { colors: $light, 0, 0; }
  }
  /* Resolved. */
  .line-resolve-all {
    border-color: var(--darker);
    background-color: var(--dark);
  }
  // Resolved state icons.
  .line-resolve-btn {
    &.is-active svg { isvg: $green }
    &.is-disabled svg { isvg: $lighter }
  }


  /* Merge Requests :: Notes. */
  .discussion-body .notes .note,
  .diff-file .notes .note {
    border-bottom-color: var(--darker);
  }
  /* Reply. */
  .discussion-form {
    background-color: transparent !important;
  }
  // ? Discussion within diff section.
  .diffs {
    .notes {
      border-top: none !important;
      &::before { border-left: 1px solid $darker !important; }
    }
    .note.timeline-entry {
      colors: 0, 0, $dark;
    }
  }
  // * Notes -> Reply section.
  .discussion-body, .diff-file {
    .discussion-reply-holder {
      colors: 0 $darker $t;
      &:last-child { radius: 0 0 $radius $radius !important; }
      + .new-note { colors: 0 $darker 0 }
    }
  }
  // Comments disabled.
  .disabled-comment {
    margin-top: 10px;
    padding: 8px 0;
    radius: $radius;
    colors: $light, $darker, $dark;
    a[href] { color: $accent }
    [class*="warning"] { colors: $orange, $t, $t; }
  }
  /* Text color. */
  .timeline .system-note .note-text,
  .notes .note-body .note-text {
    color: var(--light) !important;
  }
  .notes .system-note .system-note-commit-list-toggler {
    color: var(--accent) !important;
  }
  // 'Toggle commit list' background.
  .notes .system-note .note-body .note-text:not(.hide-shade)::after {
    background: none !important;
  }

  // * Merge Requests -> Review.
  .draft-note-component { colors: 0 0 $t }
  .review-bar-component { colors: 0 $darker $dark }

  // * Merge Requests :: Discussions in file diff.
  .diff-file .notes_holder {
    font-family: var(--ui-font);
    // ! Might not need this line anymore.
    .notes_line {
      colors: $light, $dark, $dark;
      border-right-color: $darker !important;
    }
    // Note border/background colors.
    .notes-content { colors: 0 $darker $t }
    // Different notes_content.
    .notes_content {
      colors: $light, $dark, $dark;
      // Discussion.
      .notes {
        border-top: 1px solid;
        colors: 0, $darker, $dark;
      }
    }
  }

  // * Merge Requests :: Files.
  .diff-tree-list {
    .drag-handle:hover { colors: 0 0 $darker }
    .tree-list-holder {
      // Search.
      .tree-list-search input {
        radius: $radius;
        colors: $light 0 0;
      }
      // Files.
      .tree-list-scroll {
        padding: 8px;
        overflow: auto;
        radius: $radius;
        border: 1px solid;
        colors: 0 $darker $dark;
        .file-row {
          &:hover, &:active { colors: 0 0 $darker }
        }
      }
    }
  }

  // * Merge Requests :: New MR.
  // TODO Refactor needed to simplify styles.
  .mr-state-widget {
    // ! Temporary fix for #64.
    .report-block-container {
      padding: 0;
      colors: 0 $darker $t;
      .failed svg { isvg: $red 0 }
    }
    .mr-source-target {
      padding: 8px;
      min-height: auto;
      colors: 0, $darker, $dark;
    }
    // Description container.
    .mr-section-container {
      radius: $radius;
      border: 1px solid;
      colors: 0, $darker, $dark;
      .mr-widget-section {
        // padding: 12px 8px;
        radius: 0 !important;
        colors: 0, $darker, 0;
        // MR you can merge.
        > div > .media { padding: 8px }
        .border-top { colors: 0 $darker 0 }
        // MR you can't merge.
        > .mr-widget-body { padding: 8px }
        > .mr-widget-info { padding: 0 8px }
        .danger_message { colors: $red $red $darker }
      }
      // Remove extra padding.
      .media-section > .media { padding: 0px !important; }
      .mr-widget-footer .mr-widget-help {
        padding: 0 4px;
        colors: $lighter 0 0;
      }
      // Align the CI icon.
      .media > .space-children { margin-left: 4px !important; }
      // Rounded corners.
      > section:first-child { radius: $radius $radius 0 0; }
      > div:last-child { radius: 0 0 $radius $radius; }
    }
    // Borders.
    .media-section,
    .mr-widget-heading,
    .mr-widget-footer {
      padding: 8px;
      colors: 0, $darker, $dark;
    }
    // Rounded corners.
    .mr-source-target, .mr-widget-heading { radius: $radius; }
    // Circle icon thing.
    .circle-icon-container { colors: $light, $darker, 0; }
    .mr-widget-extension { colors: 0, $darker, $dark; }
    // ? Fixes approved merge request element.
    // TODO Rewrite this entire section at some point.
    .mr-widget-content {
      padding: 0 !important;
      .js-mr-approvals { padding: 0 !important; }
    }
    .mr-widget-workflow {
      // Connector.
      &::before { border-left-color: $darker; }
      // Remove the double-border forming on first child.
      > .mr-widget-border-top:first-child,
      > .mr-widget-section:first-child { border-top: none; }
    }
    // Branch name.
    .label-branch, .pipeline-number {
      color: $light;
      font-size: inherit;
      font-weight: inherit;
      font-family: var(--ui-font);
      &.label-truncate > a { line-height: 1.2 }
    }
    // Found on: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/3023
    .ci-widget { colors: $lighter, 0, 0; }
  }
  .mr-widget-workflow::before,
  .mr-widget-heading:not(.deploy-heading)::before {
    left: 24px !important;
    border-left: 1px solid var(--darker);
  }
  // Text color.
  .mr-state-widget {
    colors: $light, 0, 0;
    .bold { colors: $light, 0, 0; }
    .font-weight-bold, .code-text, .coverage, .diverged-commits-count {
      colors: $lighter, 0, 0;
      a {
        font-weight: bold;
        color: inherit;
      }
    }
  }
  // Icon color.
  .git-merge-icon-container { colors: $light, $darker, $darker; }

  // * MR -> Changes.
  .mr-version-controls {
    margin: 0;
    width: 100%;
    radius: $radius;
    border: 1px solid !important;
    colors: $light, $darker, $dark;
    // Reset the width when file tree is open. @upstream
    &.is-fileTreeOpen {
      margin: 0 !important;
      width: 100% !important;
    }
    > div { border-bottom: none; }
  }

  // * File Diff :: Expanded view.
  .line_holder {
    // Show/hide comments.
    .diff-notes-collapse {
      colors: 0, $darker, $dark;
      &:hover { colors: 0, 0, $darker; }
    }
    // No new line.
    .new-nonewline { colors: $lighter, 0, $t; }
    // Unfold lines.
    td.unfold, td.line_content.match {
      font-style: italic;
      colors: $lighter 0 $t;
    }
    // Comment bubble.
    .add-diff-note {
      padding: 0 0 1px 1px;
      colors: $light $darker $dark;
      &:hover { colors: 0 0 $darker }
    }
    // Highlight the hovered line.
    &:not(.parallel):hover, &.parallel td.is-over { colors: 0 0 $darker }
    // Highlight syntax line in parallel view.
    > td.is-over + .parallel { colors: 0 0 $darker }
    // Divider for right pane in side-by-side mode.
    &.parallel > td:nth-child(3) { box-shadow: -1px 0 $darker }
  }
  /* Text colors. */
  .diff-stats-summary-toggler { color: $blue !important; }

  // * Snippets
  .project-snippets {
    // Fix file title height.
    .js-file-title  .file-header-content {
      line-height: 30px;
      .btn { padding: 8px 7px 2px 8px; }
    }
  }
  // Edit button.
  .detail-page-header a,
  .snippet-edited-ago {
    color: var(--light);
  }
  // Toggle discussion.
  .note-action-button {
    color: $light;
    &:focus, &:hover { color: $lighter; }
  }
  // Reactions.
  .row-content-block.content-component-block { background-color: $t; }
  // Snippets list.
  .snippets-list-holder {
    margin-top: 10px;
    border: 1px solid;
    radius: $radius;
    colors: 0, $darker, $dark;
    li {
      transition: all 0.2s ease-in-out;
      &:first-child { radius: $radius $radius 0 0; }
      &:last-child { radius: 0 0 $radius $radius; }
      &.snippet-row {
        padding: 8px !important;
        &:hover { colors: 0, 0, $darker; }
        // Text colors.
        .snippet-info {
          &, time, .js-user-link { colors: $lighter, 0, 0; }
        }
      }
    }
  }
  // Reset styles in reaction area.
  [data-page*="snippets:show"] .row-content-block {
    padding: 8px 0 0 0 !important;
    margin: 0 !important;
    border: none !important;
  }

  // * Project :: Snippets.
  [data-page*="projects:snippets:index"] {
    // Sub-navigation.
    .top-area {
      padding: 0 !important;
      colors: 0, $t, $t;
    }
    .snippet-scope-menu {
      margin-top: 0 !important;
      border-bottom: 1px solid $darker;
    }
  }

  // * Project :: Members.
  .members-list {
    li.member { padding: 8px; }
    .cgray time { colors: $lighter, 0, 0; }
    .member a.member-group-link { colors: $light, 0, 0; }
  }

  // * Editor -> Wrapper.
  .file-editor {
    .file-title input { radius: $radius }
    // Rounded corners; might remove later.
    .file-holder { radius: $radius; }
    // Fix flashing white background.
    #editor {
      radius: 0 0 $radius $radius;
      c: 0 0 $t;
    }
    // Header.
    .nav-links {
      margin-bottom: 10px;
      padding: 0 8px;
      radius: $radius;
      border: 1px solid;
      colors: 0, $darker, $dark;
    }
    // Branch name.
    .editor-ref { colors: 0, $darker, $t; }
    // Commit or disband.
    .form-actions {
      padding: 8px;
      radius: $radius;
      border: 1px solid $darker;
    }
  }

  // * Editor -> Template selection.
  .template-selectors-menu {
    colors: 0, $darker, 0;
    .text-info { colors: $light, 0, 0; }
  }

  // * Ace editor.
  .ace-tm {
    colors: $light, 0, $dark;
    // Gutter.
    .ace_gutter {
      radius: 0 0 0 $radius;
      colors: $lighter, 0, $dark;
      box-shadow: 1px 0 0 0 $darker;
      .ace_gutter-cell { colors: 0, 0, $t; }
      + .ace_scroller { radius: 0 0 $radius 0; }
    }
    // Highlighted line.
    .ace_gutter-active-line, .ace_active-line { colors: 0, 0, $darker; }
    .ace_selected-word, .ace_selection {
      c: 0 0 $blue;
      opacity: 0.6;
    }
    .ace_cursor { c: $accent }
    .ace_indent-guide {
      background: none;
      box-shadow: 1px 0 0 0 $lighter !important;
    }
    // Wrap line.
    .ace_print-margin { colors: 0, 0, $darker; }
    // Search/replace popout.
    .ace_search {
      padding: 0 4px;
      margin: 10px 10px 0 0;
      border: 1px solid;
      radius: $radius;
      colors: 0, $darker, $dark;
      box-shadow: 0 4px 8px 0 $shadow;
      // Inputs.
      &_field { colors: $light, 0, $dark; }
      .ace_search_form, .ace_replace_form { colors: 0, $darker, 0; }
      .ace_searchbtn, .ace_replacebtn { colors: 0, $darker, $darker; }
    }
    // Options.
    .ace_search_options {
      margin: 4px 0 0 0;
      text-align: left;
      .ace_button {
        padding: 5px;
        border-radius: 3px;
        colors: $lighter $t $dark;
        &:hover, &.checked { colors: $accent, 0, $t; }
      }
    }
    // Scroller.
    .ace_scroller.ace_scroll-left { box-shadow: inset 17px 0 16px -16px $dark; }
  }

  // * Ace editor -> Syntax highlighting.
  .ace {
    &_line { colors: $lighter, 0, 0; }
    &_support&_function { colors: $darker, 0, 0; }
    &_support&_type { colors: $lighter, 0, 0; }
    &_meta&_tag { colors: $blue, 0, 0; }
    &_string, &_comment { colors: $green, 0, 0; }
    &_heading, &_storage, &_keyword { colors: $blue, 0, 0; }
    &_list { colors: $magenta, 0, 0; }
    &_variable { colors: $green, 0, 0; }
    &_constant, &_numeric { colors: $light, 0, 0; }
  }

  // * About page :: Applications.
  // ? https://about.gitlab.com/applications
  .applications {
    // Search area.
    .search-container {
      border: 1px solid;
      colors: $light, $darker, $dark;
      input { colors: $light, 0, $dark; }
      .suggestions {
        colors: 0, 0, $dark;
        li:hover, .hl { radius: $radius; }
        li:hover { colors: 0, 0, $darker; }
        .hl { colors: 0, 0, $accent; }
      }
    }
    // Categories.
    .category-name { colors: $light, 0, 0; }
    .category-applications .tile {
      border: 1px solid;
      colors: 0, $darker, $dark;
    }
    // Scroll.
    .scroll-to-top {
      border: 1px solid;
      colors: $light, $darker, $dark;
    }
    // Source!
    .source-link {
      colors: $light, 0, $darker;
      .external-source-link { colors: $accent, $t, 0; }
    }
  }
  // Footer links.
  footer.footer a {
    colors: $lighter, 0, 0;
    &:hover, &:focus { colors: $accent, 0, 0; }
  }

  // * Docs :: Search results.
  .algolia-autocomplete {
    [class*="dataset"] { colors: $light, $darker, $dark;
      // Transparentize the content.
      [class*="docsearch-s"] { colors: $light, 0, $t; }
    }
    // Remove shadow.
    .ds-dropdown-menu {
      box-shadow: 0 4px 16px -4px $shadow;
      // Arrow.
      &:before { colors: 0, $darker, $dark; }
    }
    // Header.
    [class*="header"] { colors: $lighter, $darker, 0; }
    // Separator.
    .algolia-docsearch-suggestion--subcategory-column::before,
    .algolia-docsearch-suggestion--content::before { colors: 0, 0, $darker; }
    // Selected.
    [class$="--content"]:hover { colors: 0, 0, $darker; }
    // Matching result.
    [class*="highlight"] { box-shadow: inset 0 -2px 0 0 $accent !important; }
  }

  // * Main content.
  .main {
    background-color: transparent !important;
    box-shadow: none !important;
    // TOC.
    // Remove sidebar.
    *::-webkit-scrollbar { display: none !important; }
    // Alerts.
    blockquote {
      position: relative;
      colors: 0, $t, $dark;
      &::before {
        content: "";
        position: absolute;
        top: 0; left: 0; bottom: 0;
        radius: $radius 0 0 $radius;
        border-left: 4px solid $blue;
      }
    }
    .alert-warning { colors: 0, $red, $dark; }
    .alert.alert-success { colors: 0, $violet, $violet; }
    // Reset *introduced in...* blockquotes.
    blockquote {
      padding: 16px;
      radius: $radius;
      box-shadow: inset 0 0 0 1px $darker;
      > p { margin: 0; }
    }
    // Border colors.
    h2, h3, h4, h5, h6, .edit-on, .comments { colors: 0, $darker, 0; }
    // Text colors.
    a:hover, a:focus { text-decoration: underline; }
    .article-metadata { colors: $light, 0, 0; }
    .highlight.plaintext code { colors: $light, 0, 0; }
    code {
      radius: 3px;
      border: 1px solid;
      colors: $accent, $darker, $dark;
    }
    img {
      transition: 0.15s ease;
      opacity: faded_img;
      &:hover { opacity: 1; }
    }
  }

  // Feature -> Custom width for fluid/fixed layout.
  .layout-page {
    // Fluid layout.
    .container-fluid {
      &:not(.container-limited):not(.js-focus-mode-board) {
        max-width: var(--width) !important;
      }
    }
    // WIP: Fixed layout.
    .container-limited:not(#sc) {
      max-width: var(--width);
      .user-callout-copy { max-width: unset }
    }
    .limit-container-width {
      .emoji-list-container,
      .merge-request-tabs-container,
      .epic-tabs-container,
      .issuable-details,
      .detail-page-header,
      .page-content-header,
      .commit-box,
      .info-well,
      .commit-ci-menu,
      .files-changed-inner,
      .limited-width-notes,
      .limited-header-width,
      .issuable-details .detail-page-description,
      .issuable-details .mr-source-target,
      .issuable-details .mr-state-widget,
      .issuable-details .merge-manually,
      .file-content {
        max-width: unset !important;
        // outline-offset: -1px;
        // outline: 1px solid $yellow;
      }
    }
  }

  /* Fix bugged left sidebar. */
  @media screen and (max-width: 1200px) {
    /* Cut transitions. */
    .page-with-contextual-sidebar,
    .nav-sidebar,
    .toggle-sidebar-button,
    .close-nav-button,
    .nav-sidebar a {
      transition-duration: 0s !important;
    }
  }


  // * IDE!
  .ide {
    // Text color.
    .ide-view {
      colors: $light, 0, 0;
      // Left sidebar title.
      .context-header > a,
      .ide-review-sub-header { colors: $light, 0, 0; }
    }
    // Status bar.
    .ide-activity-bar, .ide-status-bar { colors: 0, $darker, $dark; }
    // Resize.
    .drag-handle { colors: 0, 0, $dark; }
  }
  // File templates.
  #ide .ide-file-templates { colors: 0, $darker, $dark; }

  // Left sidebar active.
  .ide-sidebar-link {
    transition: 0.2s ease-in-out;
    // On event.
    &:focus, &:hover, &.active {
      colors: $accent, $darker, $darker;
      box-shadow: inset 3px 0 var(--accent) !important;
    }
    &::after { colors: 0, 0, $dark; }
  }

  // * IDE :: File explorer.
  .ide {
    // Tree.
    .multi-file-commit-panel-inner-content {
      colors: 0, $darker, $dark;
      // File in the tree.
      .file-row {
        transition: 0.2s ease-in-out;
        &.is-active, &:hover, &:active { colors: 0, 0, $darker; }
        // File options.
        .ide-entry-dropdown-toggle { colors: $light, 0, $dark; }
      }
    }
    // Commit.
    .multi-file-commit-form {
      colors: 0, $darker, $dark;
      > .commit-form-compact { border-top-color: $darker; }
    }
    // Icons.
    .ide-tree-header button {
      color: $lighter;
      transition: all 0.2s ease-in-out;
      &[aria-expanded="true"] { colors: 0, 0, $darker; }
    }
  }

  // * IDE :: Merge Requests / Branches.
  .ide-tree-header {
    border-bottom-color: var(--darker);
    // Branch popup.
    .ide-nav-form {
      // Separator.
      .tab-links { colors: 0, $dark, 0; }
      // Inactive tab.
      .nav-links li a:not(.active) { colors: 0, 0, $darker; }
      .border-bottom { border-color: $dark !important; }
      // Search container.
      .filtered-search-wrapper {
        colors: 0, $darker, $dark;
        input { colors: 0, 0, $t; }
      }
      // Project metadata.
      .ide-merge-request-project-path { color: $lighter; }
    }
    // Branch on hover.
    button:hover { colors: $light, 0, $darker; }
  }
  /* Selected. */
  .ide-file-list .file:hover,
  .ide-file-list .file.file-active,
  .multi-file-commit-list-path:hover,
  .multi-file-commit-list-path.is-active {
    background-color: var(--darker);
  }

  // * IDE :: Commit section.
  .ide-view {
    // Borders.
    .ide-commit-list-container.is-first,
    .multi-file-commit-panel-header { colors: 0, $darker, 0; }
    // Remove background on buttons.
    .ide-staged-action-btn { colors: 0, 0, $t; }
    // Commit message.
    .ide-commit-message-field {
      colors: $lighter, 0, $t;
      textarea { colors: $light, 0, 0; }
    }
    // Background after you push a commit.
    .multi-file-commit-panel-success-message { colors: 0, 0, $dark; }
  }

  // * IDE :: Right sidebar.
  .ide-view .multi-file-commit-panel {
    border-color: var(--darker);
    background-color: var(--dark);
  }
  /* Jobs. */
  .ide-view .card-header,
  .ide-view .ide-job-item:not(:last-child) {
    border-color: var(--darker);
  }
  /* Build header. */
  .build-page .top-bar {
    radius: $radius $radius 0 0;
    colors: $lighter, $darker, $dark;
    // ? Fix terminal controls header, bug on upstream.
    &.sidebar-expanded { margin-right: 0 !important; }
  }
  // ? Hotfix for the header.
  .build-page > header > .build-header.top-area { margin-bottom: 10px; }
  /* Build log. */
  .build-page .build-trace {
    radius: 0 0 $radius $radius;
    color: var(--light);
    border: 1px solid var(--darker);
    border-top-color: transparent;
    background-color: var(--dark);
    > code {
      colors: $lighter, 0, 0;
      .term-fg-l-green { colors: $green, 0, 0; }
      .term-fg-red { colors: $red, 0, 0; }
    }
  }
  .build-page .environment-information {
    colors: 0, $darker, $dark;
  }

  // * Build sidebar.
  .build-sidebar {
    .link-commit { colors: $accent, 0, 0; }
  }

  // * Pipelines :: Builds.
  // TODO Buggy, info: https://gitlab.com/vednoc/dark-gitlab/issues/22
  .builds-container {
    colors: $light, $darker, $dark;
    .build-job {
      transition: 0.2s ease;
      a { colors: $light, 0, 0; }
      &:hover { colors: 0, 0, $darker; }
      // ? https://gitlab.com/gitlab-org/gitlab-ce/-/jobs/141718266
      &.retried { colors: 0, 0, $t; }
    }
  }

  // * IDE :: Edit area.
  .multi-file-edit-pane {
   colors: 0, $darker, $dark;
   // Tabs.
   .ide-mode-tabs { colors: 0, $darker, $darker; }
  }
  /* Tabs. */
  .multi-file-tabs {
    background-color: var(--dark);
    box-shadow: inset 0 -1px var(--darker);
    // Items.
    li {
      transition: 0.2s ease-in-out;
      colors: $lighter, $darker, $t;
      &.active, &:hover { colors: $accent, $darker, $darker; }
    }
  }
  // Commit header.
  .ide-commit-editor-header {
    colors: $light, $darker, $dark;
    box-shadow: inset 0 -1px var(--darker);
  }
  // Git additions/deletions.
  .monaco-diff-editor {
    .line-delete {
      border-color: transparent !important;
      background-color: rgba(200, 49, 49, 0.3) !important;
    }
    .char-delete, .char-insert {
      background-color: rgba(0, 0, 0, 0.15) !important;
    }
    .line-insert {
      border-color: transparent !important;
      background-color: rgba(149, 200, 99, 0.3) !important;
    }
  }

  // * IDE :: Monaco editor.
  .monaco-editor {
    colors: $light, 0, $dark;
    // Background.
    &-background { colors: $light, 0, $dark; }
    // TODO figure out what this was. XD
    .scroll-decoration {
      box-shadow: inset 0 6px 6px -6px $dark !important;
    }
    // Gutter.
    .margin {
      colors: 0, $dark, $dark;
      .line-numbers { colors: $lighter, 0, 0; }
    }
    // Current line.
    [class*="current-line"]  { colors: 0, $darker, $darker; }
    // Cursor.
    .cursor { colors: $light, $accent, $accent; }
    // Indent guide.
    .lines-content [class*="cigr"] { box-shadow: inset 1px 0 0 0 $accent !important; }
    // Command palette.
    .monaco-quick-open-widget {
      colors: $light, $darker, $dark;
      box-shadow: $box !important;
      // Focused.
      .monaco-tree-row {
        &:hover, &.focused { colors: $accent, 0, $darker; }
      }
    }
    // Inspect tokens.
    .tokens-inspect-widget { colors: $light, $darker, $dark; }
    // Input.
    .monaco-inputbox {
      colors: $light, $darker, $dark;
      input { colors: $light, 0, $dark; }
    }
    // Resize.
    .monaco-sash { colors: 0, 0, $accent; }
    // Find palette.
    .find-widget {
      colors: 0, 0, $darker;
      box-shadow: $box;
      .button, .label { filter: invert(var(--bg-invert)); }
    }
    // Accessibility.
    .accessibilityHelpWidget {
      colors: $light, $darker, $dark;
      box-shadow: $box;
    }
    // Context menu.
    .context-view {
      colors: 0, 0, $darker;
      box-shadow: 0 2px 8px $shadow;
    }
    // Hover popup.
    .monaco-editor-hover { colors: 0, $shadow, $darker; }
    // Selection.
    .cslr.selected-text { background-color: $darker; }
    // Matching.
    .selectionHighlight { background-color: $darker !important; }
    // Suggestion.
    .tree {
      colors: $light, $darker, $darker;
      box-shadow: $box;
      .focused { colors: $accent, 0, $dark; }
    }
  }
  /* Diff view. */
  .diffOverviewRuler { background-color: var(--dark); }
  /* Git. */
  .dirty-diff-added { background-color: var(--green); }
  .dirty-diff-modified { background-color: var(--blue); }
  // ? Dropdown for file finder.
  .ide-view .dropdown-menu {
    max-height: 500px;
    li button.is-focused, a.active { colors: 0, 0, $dark; }
  }

  // * IDE :: Monaco syntax highlighting.
  .monaco-editor {
    .mtk1, .mtk3 { color: $light; }
    .mtk10 { color: $lighter; }
    .mtk4, .mtk20 { color: $red; }
    .mtk8 { color: $green; }
    .mtk5, .mtk6, .mtk23 { color: $blue; }
    .mtk14 { color: $magenta; }
    .mtk22, .mtk12 { color: $cyan; }
    .mtk11 { color: $orange; }
  }

  // * Project :: Code view.
  .code {
    colors: $light, 0, $t;
    // Remove weird border around code wrapper.
    code { border: none; }
    // Highlighted line.
    span.line.hll { colors: 0 0 $darker }
    // Gutter border.
    pre.code, .diff-line-num { colors: 0, $darker, 0; }
    // Gutters in file view/diff.
    .line-numbers, .diff-line-num {
      &, a { colors: $lighter, 0, $t; }
      // ? Add left border to right section in parralel diff view.
      &:nth-child(3) { border-left: 1px solid $red !darker; }
    }
    // ? Code wrapper.
    .line_holder {
      // Lines for added/removed sections.
      .line_content {
        z-index: 1;
        colors: $light, 0, $t;
        &.new::before, &.old::before { colors: $lighter, 0, 0; }
        &.old::after, &.new::after {
          content: "";
          z-index: -1;
          opacity: 0.25;
          top: 0; right: 0; bottom: 0; left: 0;
          position: absolute;
        }
        &.old::after { colors: 0, 0, $red; }
        &.new::after { colors: 0, 0, $green; }
      }
      // Gutters for added/removed sections.
      .diff-line-num.old, .diff-line-num.new {
        z-index: 1;
        border-right: none;
        padding-right: 11px;
        box-shadow: inset -1px 0 $darker;
        &.old::after, &.new::after {
          content: "";
          z-index: -1;
          opacity: 0.25;
          top: 0; right: 0; bottom: 0; left: 0;
          position: absolute;
        }
        &.old::after { colors: 0, 0, $red; }
        &.new::after { colors: 0, 0, $green; }
      }
      // Rounded corners.
      &:last-child > td {
        &:first-child, &:first-child::after { radius: 0 0 0 $radius; }
        &:last-child, &:last-child::after { radius: 0 0 $radius 0; }
      }
    }
    // ? Notes -> Suggested changes.
    .gd, .gi {
      z-index: 0;
      position: relative;
      colors: $light, 0, $t;
      // Fake element.
      &::before {
        content: "";
        position: absolute;
        top: 0; right: 0; bottom: 0; left: 0;
        opacity: 0.25;
        z-index: -1;
      }
    }
    // Removed/added.
    .gd::before { colors: 0, 0, $red; }
    .gi::before { colors: 0, 0, $green; }
  }

  // * Project :: Code syntax highlighting.
  .code.white {
    .n, .gh, .s2, .gp { color: $light; }
    .s, .c, .cp, .c1, .nn, .go { color: $lighter; }
    .m, .nv, .na, .mf { color: $cyan; }
    .nb, .nc, .kt { color: $blue; }
    .ss, .s1, .se, .gu, .nd { color: $magenta; }
    .sx, .sb, .sh, .nf, .gt, .sd { color: $red; }
    .nt, .si, .mi { color: $violet; }
    .err {
      colors: 0, 0, $t;
      box-shadow: inset 0 -2px 0 0 $red;
    }
  }


  // * Project CI/CD :: Pipelines.
  .table-holder {
    margin: 10px 0 0 0;
    .ci-table {
      margin-bottom: 0;
      // Pipelines.
      > [class*="row"] {
        padding: 8px;
        border-color: var(--darker);
      }
      // Header.
      th, .table-row-header {
        font-weight: 700;
        color: var(--light);
        border-color: transparent;
        background-color: var(--darker);
      }
      // On hover.
      .commit, .commit > td {
        transition: background 0.15s ease-in-out;
        &:hover, &:hover > td {
          background-color: var(--darker) !important;
        }
      }
      // Whitespace.
      tr td { padding: 4px 8px }
    }
  }
  /* Pipeline commit. */
  .commit a,
  .generic_cimmit_status a,
  .pipelines .ci-table .pipeline-id,
  .ci-table .branch-commit .commit-sha {
    color: var(--light);
  }
  // Pipeline stage connectors.
  .stage-container::after { border-bottom: 1px solid $lighter !important }

  // * Pipelines -> Mini-pipelines.
  .mini-pipeline-graph-dropdown-toggle {
    colors: 0 0 $dark;
    &:focus { box-shadow: 0 0 4px 1px $blue !important }
    // * Pipelines -> Stages. Old info in #22.
    + .mini-pipeline-graph-dropdown-menu {
      // Indicator.
      &::after { colors: 0 $accent 0 }
      // Reset for items.
      li {
        &:hover a { colors: $lighter 0 $t }
        a:hover, a:focus { colors: $light 0 $darker }
        // Pipelines where you have permissions.
        .ci-job-component {
          transition: 0.15s ease;
          &:hover { colors: 0 0 $darker }
          .mini-pipeline-graph-dropdown-item {
            colors: 0 0 $t;
            .ci-status-text { colors: $lighter 0 0 }
            &:hover .ci-status-text { colors: $light 0 0 }
          }
          // Retry button.
          .ci-action-icon-container {
            colors: 0 $dark $darker;
            &:hover { colors: 0 $accent $darker }
          }
        }
      }
      // ? Fix text weight.
      .ci-build-text, .ci-status-text { font-weight: normal !important }
    }
  }

  // * CI/CD -> Pipeline details.
  .pipeline-graph {
    margin-top: 8px;
    radius: $radius;
    c: $light 0 $dark;
    box-shadow: $inner;
    // Pipeline node.
    .build .build-content {
      c: $lighter $darker $dark;
      transition: 0.15s ease;
      &:hover { c: $light $accent 0 }
    }
    // Triangle.
    .cross-project-triangle {
      margin-top: 10px !important;
      border-left-color: $darker;
    }
    // Linked pipeline?
    // ? https://gitlab.com/gitlab-org/gitlab-ce/pipelines/31973329
    .linked-pipeline {
      &-content {
        radius: 10px !important;
        colors: $light, $darker, $dark;
        &:hover { colors: 0, 0, $darker; }
      }
      // Connector line.
      &::before { margin-top: 2px; }
    }
    // Actions.
    .ci-action-icon-container {
      margin: 1px 1px 0 0;
      colors: 0, $darker, $dark;
    }
    // Connectors.
    .build, .stage-column .curve {
      &::before, &::after { colors: 0, $darker, 0; }
    }
    .ci-build-txt, .ci-status-text { font-weight: normal; }
  }

  // * Pipelines -> Mini pipelines in notes.
  // ? https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30080
  .linked-pipeline-mini-list {
    .arrow-icon { margin-top: 2px }
    .linked-pipeline-mini-item {
      margin-top: 5px !important;
      > svg { margin: 1px 0 0 1px }
      // Fix size and on-hover event.
      &[class*="ci-status-icon-"] {
        width: 24px;
        height: @width;
        colors: 0 0 $darker;
        ../:hover > svg { margin: 0 }
      }
    }
  }

  // * Pipelines :: Failed Jobs.
  .build-failures {
    .table {
      margin-top: 10px;
      border: 1px solid;
      colors: 0, $darker, $darker;
      // Table header.
      > thead th {
        colors: $light, 0, 0;
      }
    }
    // Log output.
    .build-trace {
      colors: 0, $dark, 0;
      > code {
        colors: $light, $darker, $darker;
      }
    }
    .build-name a {
      color: $accent;
    }
  }

  // * Pipelines :: Security.
  .split-report-section {
    margin-top: 10px;
    border: 1px solid;
    radius: $radius;
    colors: $light, $darker, $dark;
    // Wrapper.
    .report-block-container {
      colors: $light, $darker, $dark;
    }
  }

  // * Jobs :: Show output.
  .build {
    // Breadcrumbs.
    &-header .header-content {
      margin: 4px 0;
      color: $lighter;
      a { color: $light;
        &:hover { color: $accent; }
      }
    }
    // Job details.
    &-light-text { color: $lighter; }
    // Job on hover.
    &s-container a:hover { color: $accent !important; }
  }

  // * Jobs :: Browse artifacts.
  [data-page="projects:artifacts:browse"] {
    .tree-table {
      radius: $radius;
      box-shadow: 0 0 0 1px $darker;
      thead {
        tr, tr > th { border-top: none; }
        th:first-child { radius: $radius 0 0 0; }
        th:last-child { radius: 0 $radius 0 0; }
      }
      tbody {
        tr:last-child {
          td:first-child { radius: 0 0 0 $radius; }
          td:last-child { radius: 0 0 $radius 0; }
        }
      }
      // Remove borders.
      tr {
        border: none !important;
        td {
          border: none !important;
          border-top: 1px solid $darker !important;
        }
      }
      // Item text color.
      .tree-item a { colors: $light, 0, 0; }
    }
  }

  // * CI/CD :: Schedules.
  [data-page^="projects:pipeline_schedules"] {
    .ref-name, .next-run-cell { colors: $light, 0, 0; }
    .pipeline-schedule-table-row a { colors: $light, 0, 0; }
  }

  // * Skeleton.
  .animation-container [class^="skeleton-line-"] {
    background-color: $darker;
    &::after {
      background-image: linear-gradient(to right, $darker 0%, $dark 100%)
    }
  }

  // * Groups.
  .group-nav-container {
    + .tab-content .has-no-search-results { c: $lighter }
  }
  // * Group header.
  .explore-groups {
    radius: $radius;
    colors: 0, $darker, $dark;
  }
  // * Group body.
  .groups-list-tree-container > ul.group-list-tree {
    margin-top: 10px !important;
    radius: $radius;
    colors: 0, 0, $dark;
    box-shadow: 0 0 0 1px inset $darker;
    // On event.
    > .group-row {
      // Rounded corners.
      &:first-child > div { radius: $radius $radius 0 0; }
      &:last-child > div { radius: 0 0 $radius $radius; }
      // &.has-children .group-list-tree { margin-left: 42px !important; }
    }
    .group-row {
      // Keep fake border even when sub-group is open.
      &.is-open > div { box-shadow: 0 -1px 0 0 inset $darker; }
      // Horizontal line.
      &::before { colors: 0, $darker, 0; }
      // Vertical line.
      .group-list-tree::before {
        top: 0px;
        colors: 0, $darker, 0;
      }
      // Remove top-border from the first item.
      &:first-child { border-top: none !important; }
      // Fix last item background.
      &:last-child::before { colors: 0, 0, $t; }
      // Content.
      &-contents {
        transition: 0.15s ease;
        &:hover { colors: 0, 0, $darker; }
        // Text colors and width.
        .stats {
          colors: $lighter, 0, 0;
          .stat-value {
            min-width: 1.5rem;
            text-align: left;
          }
        }
        &.has-more-items { padding: 10px; }
      }
    }
  }

  // * Groups -> Contribution Analytics.
  .svg-graph-container {
    padding: 16px;
    margin-top: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    radius: $radius;
    colors: 0 0 $dark;
    box-shadow: 0 0 0 1px inset $darker;
    overflow-y: hidden; // Hide whitespace.
    svg {
      margin-top: -75px;
      text { isvg: $lighter false }
      path, line { isvg: false $lighter }
      rect {
        fill: $t !important;
        &.bar-rect { isvg: $darker $blue }
        &[fill="#fff" i] { isvg: $dark false }
      }
    }
  }

  // * Invert image icons.
  // TODO adjust if it causes weird things.
  img[src*="/assets/icon"] {
    filter: invert(1);
  }

  // * Invert illustrations.
  .wiki .anchor,
  .banner-graphic > svg,
  .explore-groups > .svg-container > svg,
  .commits-empty > svg,
  .artwork svg,
  .billing-plan-logo > svg,
  img[src*="/assets/illustrations/"],
  #subgroups_and_projects .empty-state svg {
    filter: opacity(0.9) invert(0.9) hue-rotate(180deg) !important;
  }

  // ! Trick for #44. @upstream
  img[src$="acc9ec5b5.svg"] {
    margin: -6px -16px 0 0;
    clip-path: circle(34px at 50% 48%);
    background: white;
  }

  // * Feature -> Invert icons in Shadow DOM.
  @supports not (-moz-user-select: none) {
    if ( invert_ic == 1 ) {
      .created-icon, .opened-icon,
      .ci-status-icon > svg,
      [class*="ci-status"] svg.s24,
      [class*="ci-status"]:not(#stageDropdown) svg.s16,
      a[class*="ci-status"] svg, svg.ic-upload {
        // ? Does not work with ThemeSwitcher.
        filter: invert(calc(var(--bg-invert) - 0.2)) hue-rotate(180deg);
      }
    }
  }

  // * Icons -> CI status icons.
  .ci-status {
    colors: 0 0 $dark;
    &[class*="ci-"]:hover { colors: 0 0 $darker }
    // Replace icon's main fill color.
    ../ symbol[id^="status_"] { path[fill='#FFF' i] { isvg: $dark }}
    // Colors!
    &.ci-success,
    &-icon-success, &-icon-passed {
      colors: $green $green 0;
      svg { isvg: $green }
    }
    &.ci-running,
    &-icon-running {
      colors: $blue $blue 0;
      svg { isvg: $blue }
    }
    &.ci-success-with-warnings, &-icon-failed-with-warnings,
    &-icon-pending, &-icon-warning, &-icon-success-with-warnings {
      colors: $orange $orange 0;
      svg { isvg: $orange }
    }
    &.ci-failed,
    &-icon-failed {
      colors: $red $red 0;
      svg { isvg: $red }
    }
    &.ci-created, &.ci-skipped, &.ci-canceled, &.ci-disabled, &.ci-manual {
      colors: $lighter $lighter 0;
    }
    ^[0]-icon {
      &-skipped, &-created, &-canceled {
        colors: 0 $lighter 0;
        svg { isvg: $lighter }
      }
      &-canceled, &-scheduled, &-disabled, &-not-found, &-manual {
        colors: 0 $lighter 0;
        svg { isvg: $lighter }
      }
    }
  }
  // * Icons -> Borderless CI status icons.
  .ic-status {
    &_warning_borderless { colors: 0 $orange 0 }
    &_success_borderless { colors: 0 $green 0 }
    &_running_borderless { colors: 0 $blue 0 }
    &_failed_borderless { colors: 0 $red 0 }
  }
  // Icons in epics.
  .issue-token-state-icon-open { fill: $green !important; }
  .issue-token-state-icon-closed { fill: $blue !important; }
  // Icons in activities.
  .commented-on-icon svg { fill: $blue !important; }
  .created-icon svg { fill: $cyan !important; }
  .opened-icon svg { fill: $green !important; }
  .closed-icon svg { fill: $red !important; }
  .accepted-icon svg { fill: $cyan !important; }
  .deleted-icon svg { fill: $yellow !important; }
  .imported-icon svg { fill: $violet !important; }

  // * Centers project header elements; old design lookalike.
  if ( p_header == 1 ) {
    // Necessary in v11.6 (I think).
    .project-home-panel .project-header {
      > div { max-width: 100%; }
    }
    .project-home-panel .project-badges {
      flex-direction: row !important;
      justify-content: center;
    }
    // Up until v11.5 (I think).
    .project-home-panel > div {
      display: flex;
      flex-direction: column;
      margin-bottom: 0px;
      > div {
        justify-content: center;
        text-align: center;
      }
    }
    .project-stats .nav { justify-content: center; }
    // Center the description.
    .project-description,
    .home-panel-title-row,
    .project-repo-buttons {
      margin: 0 auto;
    }
    // Separate buttons from the header and the description.
    .project-repo-buttons {
      margin-top: 10px;
      justify-content: center !important;
    }
  }

  // Switch to our version of GitLab logo.
  if ( dark_logo == 1 ) {
    .tanuki-logo {
      filter: brightness(095%) drop-shadow(0px 1px 1px $shadow) !important;
      .tanuki { &-right-eye, &-left-eye { isvg: $accent $t; }}
      .tanuki-right { &-cheek, &-ear { isvg: $dark $t; }}
      .tanuki-left { &-cheek, &-ear { isvg: $dark $t; }}
      .tanuki-nose { isvg: $dark $t; }
    }
  }

  // * Custom app background.
  // ? `:not(.dark)` is used to prevent disqus iframe conflicts.
  body:not(.dark)::before {
    position: fixed;
    z-index: -1;
    content: "";
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--background);
    background-position: var(--bg-pos);
    background-repeat: var(--bg-repeat);
    background-size: var(--bg-size);
    filter: var(--bg-filter);
  }

  // * Code font.
  .diff-file table,
  code, .code, pre.code code,
  [class*="monospace"], .ref-name,
  .diff-line-num, .diff-line-num a,
  #editor, .monaco-editor * {
    font-family: var(--mono-font) !important;
  }
  // Resets for code areas.
  .commit-sha, .gfm-commit, .gfm-commit_range, .ref-name,
  .git-revision-dropdown a {
    font-size: 100% !important;
    font-family: var(--ui-font) !important;
  }

  // * Feature -> Fix alignment of icons from GitLab icons extension.
  if ( gl_icons == 1 ) {
    .tree-item-file-name {
      > span, > .fa {
        width: 18px;
        display: inline-flex;
        justify-content: center;
        margin-right: 2px !important;
      }
    }
  }

  /* Prevent horizontal scrollbar from showing up when the viewport is overflowed. */
  html {
    overflow-x: hidden;
    background-color: var(--dark);
  }

  // ! What.
  // ? Fixes weird pseudoelements.
  .diff-file .file-title {
    &::before, &-flex-parent::before { display: none !important; }
  }
}

@-moz-document regexp("https?://design.gitlab.com(/.*)") {
  // Loading bar.
  .nuxt-progress { colors: 0, 0, $accent; }
  // Contribute section.
  .contribute { colors: 0, $darker, $dark; }
  // Cards.
  .card--header { colors: 0, $darker, $darker; }
  // Navigation.
  .nav-sidebar {
    colors: 0, $darker, 0;
    &__header {
      colors: 0, $darker, 0;
      &-anchor { colors: $light, 0, 0; }
    }
    // Links.
    summary:hover, details > a:hover { colors: 0, 0, $darker; }
    &__section-items-anchor { colors: $lighter, 0, 0; }
    .nuxt-link-exact-active {
      colors: $light, 0, $darker;
      box-shadow: inset 4px 0 0 $accent !important;
    }
  }
  // Fix color details.
  .palette:not(.neutral) > .color { background-color: $darker; }
  .todo { colors: 0, $darker, $dark; }
  table {
    colors: $light, $darker, $dark;
    thead { colors: 0, $darker, $darker; }
    td, th { colors: 0, $darker, 0; }
    td.header, th.header { colors: 0, $darker, $darker; }
  }
  // Typography spacing.
  .baseline--typography:after { background-image: linear-gradient($darker 1px, $t 0); }
}

@-moz-document regexp("^https?://about.gitlab.com(/.*)$") {
  // * Landing page.
  .hero-container {
    background: none;
    border-bottom: 1px solid;
    colors: $lighter $darker $dark;
    &::before {
      opacity: 0.6;
      content: "";
      position: absolute;
      top: 0; left: 0; bottom: 0; right: 0;
      background-image: linear-gradient(160deg, $yellow -50%, $accent 200%);
    }
    img {
      opacity: 1 !important;
      &.hero-bg { filter: opacity(1) grayscale(100%) !important }
      &.hero-thumb { filter: invert(calc(var(--bg-invert) - 0.2)) hue-rotate(180deg) !important}
    }
  }
  // * Global image reset.
  img, .video_container {
    opacity: faded_img !important;
    transition: 0.15s ease;
    &:hover { opacity: 1 !important; }
  }

  // * Index page for about sub-domain.
  .sdlc-table {
    radius: $radius !important;
    colors: 0, 0, $dark;
    box-shadow: 0 0 0 1px $darker !important;
    .sdlc-column:not(:last-child) {
      border-right-color: $darker !important;
    }
    .stage-container, .solutions-container {
      border-bottom-color: $darker !important;
    }
    .devops-tool-logo-container {
      radius: 0 0 $radius $radius;
      colors: 0, 0, $dark;
    }
  }
  a.feature-more { colors: $accent, 0, 0; }

  // * Blog resources.
  .tile-resource {
    radius: $radius;
    colors: 0, 0, $dark;
    box-shadow: $box, 0 0 0 1px $darker;
    .tile-info  { colors: 0, 0, $t; }
  }

  // * Articles.
  .blog.article {
    .overlay { background: linear-gradient(0deg, $dark, $t 100%); }
    .body { colors: 0, 0, $dark; }
    // Anchors.
    .content {
      h1, h2, h3, h4, h5, h6, ul li, a {
        // colors: $accent, 0, 0;
        a, code { colors: $accent, 0, 0; }
      }
      p a, p a > a { colors: $accent, 0, 0; }
    }
    .btn {
      &-red { colors: $light $red $darker }
      &-default { colors: $light $darker 0 }
    }
    .twitter-block .panel-body { colors: $lighter, 0, $darker; }
    // Availability of the features.
    .badge:not(.available) { colors: $light $darker $dark }
    .top-row .badge.available { colors: $white $red $red }
    .bottom-row .badge.available { colors: $white $orange $orange }
    // Previous/next buttons.
    .pull-left a, .pull-right a { colors: $light, $darker, $dark; }
    // Signup section.
    .signup {
      max-width: 100%;
      colors: 0, 0, $darker;
      > .panel {
        margin: 0 auto;
        max-width: 900px;
      }
    }
    // Disqus section.
    .comments {
      radius: $radius;
      border: 1px solid;
      colors: 0, $darker, $dark;
    }
  }
  // Header anchor.
  .header-link > i.fa-link { colors: $lighter, 0, 0; }
  // Divider between new features.
  [class$="-column"]:last-child { colors: 0, $darker, 0; }
  // Navbar.
  .sticky-banner {
    colors: 0, 0, $darker;
    box-shadow: 0 0 8px 0 $shadow;
  }
  .gray-section {
    colors: $lighter, $darker, $dark;
  }
  .blog-category-nav ul li {
    colors: $lighter 0 0;
    &::after { colors: 0 0 $accent }
    &:hover { colors: $accent 0 0 }
  }

  // * Navbar.
  .navbar {
    a.navbar-brand { colors: 0 0 $t }
    // Transparentize header.
    &.navbar-header-transparent {
      colors: 0 0 $t;
      box-shadow: none !important;
    }
    // Search.
    .search-box {
      background: none !important;
      colors: $light 0 $dark;
      box-shadow: 0 -1px 0 0 inset $darker;
      &-large, .search-input { colors: $light $t $t }
    }
    .sign-up, .search-icon {
      radius: $radius;
      colors: 0 0 $t;
      &:hover { colors: $accent 0 $dark }
    }
    .icon-bar { colors: 0 0 $lighter }
    // Mobile.
    .mobile-menu {
      colors: 0 0 $dark;
      li .dropdown a {
        radius: $radius;
        &:hover { colors: 0 0 $darker }
      }
      li .main-nav-link { colors: $accent 0 0 }
      ul .sign-up-container {
        colors: 0 0 $dark;
        li .sign-up {
          radius: $radius;
          colors: $lighter 0 $darker;
          &:hover { colors: $light 0 0; }
        }
      }
    }
    // Dropdowns and items.
    .navbar-right ul li {
      a, .search-icon i {
        radius: $radius;
        colors: $light 0 0;
        &:hover:not(.fa), &:focus { colors: $accent 0 $dark }
      }
      .dropdown {
        radius: $radius;
        border: 1px solid;
        colors: $lighter $darker $dark;
        a {
          radius: $radius;
          colors: $lighter 0 0;
          &:hover { colors: $accent 0 $darker }
        }
      }
      // Active page indicator.
      &.menu-item-active::after { colors: 0 0 $accent }
    }
  }

  // Announcements.
  .announcement-container {
    radius: $radius;
    colors: $lighter 0 $dark;
    box-shadow: inset 0 0 0 1px $darker;
    img { filter: grayscale(100%) }
  }

  // ? https://about.gitlab.com/releases
  .simple-header, .blank-header {
    z-index: 1;
    &, &::after {
      background-image: linear-gradient(60deg, $orange -100%, $violet 200%);
      background-color: $dark;
    }
    h1 { text-shadow: 2.5px 2.5px 0 $shadow; }
    // Prevent custom opacity on these images.
    img {
      pointer-events: none;
      &.hero-image-small {
        opacity: 1 !important;
        filter: drop-shadow(0 4px 4px $shadow);
      }
    }
  }

  // * Main content.
  .md-page {
    radius: $radius;
    colors: 0, 0, $dark;
    box-shadow: inset 0 0 0 1px $darker, 0 3px 3px 0 $shadow;
    // Inputs.
    input, select, textarea, fieldset {
      radius: $radius;
      colors: $light $darker $dark;
    }
    .highlight {
      colors: $light $darker $dark;
      > code { colors: 0 $t $t }
      .err { colors: $white 0 $red }
    }
    li {
      colors: $lighter, 0, 0;
      a {
        colors: $accent, 0, 0;
        code { colors: $accent, 0, 0; }
      }
    }
    p.date { font-weight: bold; }
    .breadcrumb { colors: 0, 0, $darker; }
    .breadcrumb > li + li::before { colors: $lighter, 0, 0; }
  }

  // ? https://about.gitlab.com/press/press-kit
  .tile {
    radius: $radius;
    colors: 0, 0, $dark;
    transition: 0.2s ease;
    box-shadow: inset 0 0 0 1px $darker, 0 2px 4px 0 $shadow;
    &:hover { box-shadow: inset 0 0 0 1px $darker, 0 4px 8px 2px $shadow; }
    .list { colors: 0, $darker, 0; }
    .list > a { colors: 0, $darker, 0; }
  }
  // Article borders.
  .press-block { colors: 0, $darker, 0; }
  // Mini nav.
  .press-toc-links, .toc-links {
    a { colors: $light, 0, 0; }
    a:hover { colors: $accent, $t, 0; }
  }

  // ? https://about.gitlab.com/solutions/public-sector
  .summary-container, .characteristics-container {
    colors: 0, $darker, $dark;
  }
  .form-container {
    margin-bottom: -80px;
    colors: 0, 0, $dark;
  }

  // ? https://about.gitlab.com/pricing/
  .tabs-wrapper {
    colors: 0, $darker, 0;
    .pricing-tabs {
      li { colors: 0, $darker, $dark; }
      li.active { colors: 0, $darker, $darker; }
    }
  }
  // Plans.
  .plan-row .plan {
    colors: $lighter, $orange, $dark;
    box-shadow: inset 0 0 0 1px $darker;
    li > a { color: $accent; }
    .btn-pricing { colors: $accent, $accent, 0; }
    .plan-name, .all-features { colors: $light, $darker, 0; }
  }

  // QnA.
  .faq {
    margin-bottom: -80px;
    colors: 0, $darker, $dark;
    .faq-item {
      .faq-inner-item { colors: $lighter, $darker, 0; }
      &.is-open .faq-inner-item {
        colors: $light, $darker, 0;
        .faq-answer p { colors: 0, 0, $darker; }
      }
    }
  }

  // Sign up.
  .mktoForm {
    input[type], select.mktoField, textarea.mktoField {
      colors: $light $darker $dark;
    }
  }
  .newsletter-form .mktoButton {
    colors: $light, $shadow, $dark;
    &:hover {
      colors: $accent, $shadow, $dark;
    }
  }
  .newsletter-form .mktoForm .mktoLogicalField label {
    color: $light !important;
  }

  // Page -> Case studies.
  .case-study-page {
    .customer-info-section-wrapper { colors: 0 $darker 0 }
    .customer-case-section-wrapper { colors: 0 0 $dark }
  }

  // Page -> Jobs.
  .jobs-content-row {
    colors: 0 0 $dark;
    // OpenStreetMap reset.
    + div .teleport-thing {
      margin-top: 20px;
      iframe { radius: $radius }
    }
  }

  // Front page
  .sdlc-container .sdlc-table {
    td:not(:last-child), td:not(:last-child), tr:not(:last-child) {
      border-color: $darker !important;
    }
    .competitor-logo-container {
      background-color: $darker !important;
    }
  }

  // Cards.
  .gke-layer .gke-layer-body, .gke-layer .k8s-layer-media,
  .testimonials-container .testimonials-row .testimonial, .forrester-graphic-title,
  .feature, .integrated-teams {
    border: 1px solid;
    radius: $radius !important;
    colors: $light $darker $dark;
    box-shadow: 0 2px 4px 0 $shadow;
  }
  .k8s-layer-media { margin-left: 16px }
  .u-subtle-bg {
    background-color: $dark;
  }
  .flex-tile-list > .tile {
    colors: $light, $darker, $darker;
  }
  .cta-btn {
    transition: 0.15s ease;
    radius: $radius;
    &.orange {
      colors: $white $orange $orange;
      &:hover { opacity: 0.8 }
    }
    &.accent {
      colors: $white $accent $accent;
      &:hover { opacity: 0.8 }
    }
  }
  .panel, .panel-info > .panel-heading {
    colors: $light, $darker, $darker;
  }
  .panel-success > .panel-heading {
    colors: $lighter, $green, $green;
    .panel-title {
      color: $lighter !important;
    }
  }
  .panel-warning > .panel-heading {
    colors: $lighter, $orange, $orange;
    .panel-title {
      color: $lighter !important;
    }
  }
  // Featured Posts cards
  .blog.list {
    .article-information {
      colors: $lighter, $shadow, $darker;
      a {
        color: $accent !important;
      }
    }
    .more, .browse {
      colors: $lighter, $dark, $dark;
      &:hover {
        background-color: $accent !important;
      }
    }
  }
  .blog .callout, .blog .gitlab-trial {
    colors: $lighter, $shadow, $darker;
  }

  // * Handbook search.
  .st-ui {
    &-autocomplete, &-slide-autocomplete {
      > div[class] {
        radius: $radius !important;
        colors: $light $darker $dark;
        box-shadow: 0 2px 4px 0 $shadow;
      }
    }
    &-result[href] {
      border-color: $darker !important;
      &:hover { colors: $light $darker $darker }
      .st-ui-type-heading {
        colors: $accent 0 0;
        em {
          colors: $white 0 $accent;
          box-shadow: inset 0 -1px $accent;
        }
      }
      .st-ui-type-detail, .st-ui-type-detail-bold {
        colors: $lighter 0 0;
        em {
          colors: $accent 0 $t;
          box-shadow: inset 0 -1px $accent;
        }
      }
    }
  }

  // Search
  .st-ui-injected-overlay-container {
    colors: $lighter, $darker, $dark;
    .st-ui-header, .st-ui-footer {
      colors: $lighter, $darker, $dark;
      input[type="text"] {
        color: $lighter !important;
      }
    }
  }
  a.st-ui-close-button {
    filter: invert(1);
  }

  // Code
  .command, .alert-warning {
    colors: $accent, $shadow, $darker;
  }
  .panel-body pre {
    colors: $accent, $shadow, $dark;
  }
  .method p a:not(.btn) {
    color: $accent !important;
  }
  .distro-content .display-extra-links li {
    a {
      colors: $accent, $darler, 0;
      background: $t !important;
      text-shadow: none !important;
      text-decoration: none !important;
    }
    &:not(:last-child)::before {
      background-color: $darker !important;
    }
  }

  // Footer.
  .footer {
    margin-top: 50px;
    padding-top: 20px;
    border-top: 1px solid;
    colors: 0 $darker $dark;
  }

  // Footer -> Sources.
  .source-link {
    border-top: 1px solid;
    colors: $lighter $darker $dark;
    .external-source-link {
      colors: $lighter $lighter 0;
      &:hover { colors: $accent $t 0 }
    }
  }

  // * Feature -> Custom logo.
  if ( dark_logo == 1 ) {
    svg.nav-logo {
      filter: drop-shadow(0 2px 4px $shadow);
      path:nth-child(1) { isvg: $light 0 }
      path:nth-child(2), path:nth-child(5), path:nth-child(8) { isvg: $dark 0 }
      path:nth-child(7), path:nth-child(4) { isvg: $dark 0 }
      path:nth-child(3), path:nth-child(6) { isvg: $accent 0 }
    }
  }
}

// ? Not extensively tested, mainly a refactor of old working code.
@-moz-document regexp("^https?://forum.gitlab.com(/.*)$") {
  // Top bar.
  nav#bar {
    colors: 0 0 $darker;
    li a {
      colors: $lighter 0 0;
      &:hover { colors: $light 0 0 }
    }
  }

  // Navigation and menu.
  .d-header {
    colors: 0 $darker $dark;
    .icon { &:hover { colors: 0 $darker $darker }}
    .active { > a { &, &::after { colors: 0 $darker $dark }}}
    .menu-panel {
      radius: $radius;
      colors: 0 $darker $dark;
      box-shadow: 0 2px 4px -1px $shadow;
      // Burger
      ul a {
        colors: $light 0 0;
        &:hover, &:focus { colors: 0 $t $darker }
      }
    }
  }

  input[type] {
    colors: $lighter $darker $dark;
    &:focus {
      colors: $light $accent 0;
      box-shadow: none !important;
    }
  }

  // Advanced search.
  .search-container {
    .search-advanced-title { colors: 0 0 $darker }
    .search-advanced-filters {
      colors: 0 0 $dark;
      box-shadow: 0 0 0 1px inset $darker;
    }
    // Posted by.
    .ac-wrap {
      colors: 0 $darker $dark;
      .ac-user {
        colors: 0 $dark $dark;
        box-shadow: 0 0 0 1px $darker;
        li { colors: 0 $darker 0 }
        a {
          colors: $lighter 0 0;
          &:hover, &.selected { colors: 0 0 $darker }
          .username { colors: $light 0 0 }
        }
      }
    }
  }

  // Dropdowns.
  .select-kit {
    .is-focused {
      colors: 0 $accent 0;
      box-shadow: none !important;
    }
    .is-highlighted { colors: $light 0 $darker }
    .combo-box-header { colors: $light $darker $dark }
    &-collection { box-shadow: 0 0 0 1px $darker }
    &.multi-select { colors: 0 $darker $dark }
    &-header { colors: $lighter $darker $t }
    &-filter { colors: 0 $darker $dark }
    &-body {
      box-shadow: 0 2px 4px 0 $shadow;
      ../-collection { colors: 0 0 $dark }
      span, .topic-count { colors: $lighter 0 0 }
    }
    .period-chooser {
      .top-date-string { colors: $lighter 0 0 }
      .date-section { colors: $accent 0 0 }
    }
  }

  // Shortcuts.
  #keyboard-shortcuts-help ul b {
    border-bottom: 1px solid;
    colors: $light $darker $dark;
    box-shadow: 0 2px 4px 0 $shadow;
  }

  // Breadcrumbs.
  .nav-pills {
    a { colors: $lighter $t $dark }
    .active a { colors: $accent 0 0 }
  }

  // Post badges.
  .badge-wrapper.bar span.badge-category { colors: $lighter 0 0 }

  // Topic list.
  .topic-list {
    .num, .badge-posts[href] { colors: $lighter 0 0 }
    .sortable:hover { colors: $accent 0 $t }
    .topic-excerpt { colors: $lighter 0 0 }
    .main-link a.title {
      colors: $light 0 0;
      &:visited { colors: $accent 0 0 }
    }
    // Tables.
    tr {
      colors: 0 $darker 0;
      th { colors: $lighter 0 0 }
      &:hover > td { colors: 0 0 $darker }
    }
    tbody { colors: 0 $darker 0 }
  }
  // Number of views.
  .heatmap {
    &-high { &, span { colors: $red 0 0 }}
    &-med { &, span { colors: $orange 0 0 }}
    &-low { &, span { colors: $yellow 0 0 }}
  }
  // Last visit.
  .topic-list .topic-list-item-separator td {
    colors: 0 $accent 0;
    span { colors: $accent $shadow $darker }
  }
  // Tags.
  .discourse-tag.simple {
    &, &:hover { colors: $lighter 0 0 }
    &:visited { colors: $accent 0 0 }
  }

  // Main content.
  #main {
    .title-wrapper h1 a, .topic-link { colors: $light 0 0 }
    .topic-body, .topic-avatar, .topic-status-info { colors: 0 $darker 0 }
    .onebox { colors: 0 $darker 0 }
    .post-links-container {
      .post-links { colors: 0 $darker 0 }
      ul li a[href] { colors: $light 0 0}
    }
  }

  // Remove animation.
  .topic-body {
    &, &.highlighted { animation: 0s !important; }
  }
  // Pinned topics
  .names span a { colors: $lighter 0 0 }
  .small-action {
    colors: 0 $darker 0;
    .small-action-desc { colors: $light 0 0 }
  }
  // Mods.
  .moderator {
    .names span.user-title, .regular > .cooked { colors: $accent 0 $darker }
  }
  .alert.alert-info { colors: $lighter 0 $darker }
  // Mentions.
  a.mention, a.mention-group { colors: $accent 0 $darker }

  // Code blocks.
  .topic-post {
    * > code, blockquote { colors: $lighter $darker $darker }
  }
  .quote-button {
    colors: $lighter $darker $light;
    box-shadow: 0 2px 4px 0 !important;
  }
  aside.quote .title { colors: $light $accent $darker }

  // Badges.
  .badge-notification { colors: $accent 0 $darker }
  .badge-card {
    colors: 0 $darker $dark;
    .badge-contents .badge-info {
      border: none !important;
      colors: $lighter 0 $t;
      h3 { colors: $accent 0 0 }
    }
    .badge-contents .badge-icon {
      &.badge-type-gold .fa { colors: $yellow 0 0 }
      &.badge-type-silver .fa { colors: $light 0 0 }
      &.badge-type-bronze .fa { colors: $orange 0 0 }
    }
  }

  // Like and share buttons.
  nav.post-controls {
    *:hover { colors: 0 0 $t }
    .like-button {
      .like-count { colors: $light 0 0 }
      &:hover {
        .like-count { colors: $accent 0 0 }
        .d-hover { colors: $accent 0 0 }
      }
    }
  }
  #share-link { colors: 0 0 $darker }
  // Reply.
  nav.post-controls button.create {
    colors: $light 0 0;
    &:hover { colors: $accent 0 0 }
  }

  // Topic map.
  .topic-map {
    colors: 0 $shadow $darker;
    section { colors: 0 $shadow 0 }
    .buttons .btn, .link-summary .btn { colors: 0 $shadow $darker }
    .map .number, .map i, span.domain { colors: $light 0 0 }
    td { colors: 0 0 $t }
  }

  // Timeline.
  .timeline-container .topic-timeline {
    .timeline-handle { colors: 0 0 $lighter }
    .timeline-scrollarea { colors: 0 $lighter 0 }
    .timeline-replies { colors: $lighter 0 0 }
    .timeline-ago, .start-date, .now-date { colors: $light 0 0 }
  }
  #topic-progress-wrapper {
    .timeline-fullscreen, #topic-progress, .bg { colors: $lighter $t $t }
    .topic-timeline { .username, .title a { colors: $accent 0 0 }}
  }

  // New topic modal/comment modal.
  .open .grippie { colors: 0 0 $accent }
  #reply-control {
    colors: $light $darker $dark;
    box-shadow: none !important;
    .reply-to .action-title, #draft-status, #file-uploading {
      colors: $light 0 0
    }
    .save-or-cancel .cancel {
      colors: $lighter 0 0
      &:hover { colors: $red 0 0 }
    }
  }
  .select-kit.dropdown-select-box {
    .select-kit-body { colors: $light $darker $dark }
    &.toolbar-popup-menu-options .select-kit-row {
      colors: $lighter 0 $dark;
      &:hover .name { colors: $accent 0 0 }
      .name, .d-icon { colors: $light 0 0 }
    }
    .select-kit-row .texts .name { colors: $accent 0 0 }
    .select-kit-row .texts .desc { colors: $light 0 0 }
  }
  .composer-popup { colors: $lighter $darker $dark }

  // User pages.
  .user-content { colors: 0 0 $dark }
  .user-main .about {
    .details, &.collapsed-info .details { colors: 0 $darker $dark }
    &.collapsed-info .controls ul a, & .controls a { colors: $light 0 $darker }
    .secondary {
      colors: 0 $darker $dark;
      dt { colors: $light 0 0 }
      dd { colors: $lighter 0 0 }
    }
  }
  .stats-section .value { colors: $light 0 0 }
  .user-main .d-icon-heart { colors: $red 0 0 }
  // Top borders.
  .top-sub-section li { colors: 0 $darker 0 }
  // Other usernames.
  .user-info .user-detail .username a { colors: $lighter 0 0 }
  .user-info .user-detail .name { colors: $light 0 0 }
  // Text colors.
  .links-section .domain { colors: $light 0 0 }
  .top-sub-section .topic-info { colors: $light 0 0 }
  // User activity.
  .user-stream {
    .item, .user-stream-item { colors: 0 $shadow $darker }
    .time, .delete-info { colors: $light 0 0 }
  }
  .user-navigation .nav-stacked a, .controls > .btn[href] { colors: $lighter 0 0 }
  // Logged user settings.
  .user-preferences {
    .static { colors: $lighter 0 0 }
    .instructions { colors: $light 0 0 }
  }

  // About.
  .user-preferences .bio-composer, .group-form-bio, .edit-category-tab-topic-template {
    colors: 0 $shadow 0;
    & .d-editor-preview { colors: 0 0 $dark }
    & textarea { colors: $light 0 0 }
  }
  .d-editor {
    &-spacer, &-button-bar { colors: 0 0 $shadow }
    &-textarea-wrapper {
      colors: $light $darker $darker;
      textarea { colors: $light $darker $dark }
    }
    // Insert link.
    & .d-editor-modal { colors: $light $darker $dark }
  }

  // Emojis.
  .emoji-picker {
    colors: $light $darker $dark;
    box-shadow: 0 2px 4px 0 $shadow;
    .categories-column { colors: 0 $darker $dark }
    .filter {
      colors: 0 $darker 0;
      .clear-filter .fa, .d-icon-search .fa {
        colors: $lighter 0 0;
        &:hover { colors: $light 0 0 }
      }
    }
    .section-header .title { colors: $lighter 0 0 }
    button.emoji:hover { colors: 0 0 $dark }
    .footer { colors: 0 $darker 0 }
  }

  // Upload image.
  .uploaded-image-preview { color: 0 0 $darker }
  .upload-selector .radios .inputs input[type="file"] { colors: $light 0 0 }

  // Modals.
  .modal {
    &-header { colors: $light $darker 0 }
    &-inner-container {
      colors: $light $darker $dark;
      box-shadow: 0 2px 4px 0 $shadow !important;
    }
    .modal-body label { colors: $lighter 0 0 }
    // History.
    &.history-modal {
      #revision-details, tbody { colors: 0 $shadow 0 }
      .diff-ins { colors: $lighter 0 $green }
    }
  }

  // Notifications.
  .user-menu .notifications li {
    colors: $light $darker $dark;
    &:hover, &:focus { colors: 0 0 $darker }
    span { colors: $accent 0 0 }
  }
  div.menu-links-header a {
    color: $lighter;
    &:hover, &:focus { colors: $accent 0 $dark }
  }

  // Login/register.
  #simple-container { colors: 0 0 $darker }
  #login-buttons:not(.hidden) { colors: 0 $darker 0 }
  button#login-link, button#new-account-link { colors: $lighter 0 0 }
  #login-form a { colors: $light 0 0 }
}

@-moz-document regexp("https?://docs.gitlab.com(/.*)") {
  // * Landing page.
  .landing {
    // Search container.
    .landing-header {
      colors: $light 0 $dark;
      box-shadow: 0 1px 0 0 $darker, 0 2px 8px 0 $shadow;
      // Navbar.
      &-top {
        colors: 0 $darker $dark;
        box-shadow: 0 1px 0 0 $darker, 0 2px 4px 0 $shadow;
        // Items.
        .header-link {
          transition: 0.15s ease;
          text-decoration: none !important;
          &:hover p { colors: $accent, 0, 0; }
        }
      }
      // Search.
      .input-container {
        img { filter: invert(var(--bg-invert)) }
        input {
          radius: $radius;
          colors: $light 0 $darker;
          &:focus { box-shadow: 0 4px 16px -4px $shadow; }
        }
      }
    }
    // Cards.
    .main-topics li {
      radius: $radius;
      border: 1px solid;
      colors: 0 $darker $dark;
      box-shadow: 0 4px 16px -4px $shadow !important;
    }
    // Most popular topics.
    .topic h4 { colors: 0, $darker, 0; }
  }

  // * Navigation.
  .header {
    colors: 0 $darker $dark;
    // Search bar.
    #search-form {
      colors: $lighter 0 0;
      // Found on docs/.../archives page.
      .docsearch {
        radius: $radius;
        colors: $lighter 0 $darker;
      }
      input[type="text"] {
        padding: 2px 11px 2px 28px;
        line-height: 30px;
        radius: $radius;
        colors: $light $darker 0;
      }
    }
    // Docs versions.
    .btn-versions { colors: $lighter $darker $t }
    .versions-tooltip { colors: $light, 0, $dark; }
    // Main navigation.
    .nav-item a { colors: $light, 0, 0; }
    .nav-item:hover a { colors: $accent, 0, 0; }
  }

  // Cards
  .main-topics li .wrapper h2 {
    border-color: $darker !important;
  }

  // Footer
  .footer {
    colors: 0 0 $dark;
    box-shadow: 0 -1px 0 0 $darker, 0 -2px 4px 0 $shadow;
    // Colorize icons.
    a:hover .fa { colors: $accent, 0, 0; }
    // "Created with" section.
    .source-link {
      border-top: 1px solid;
      colors: $lighter, $darker, $dark;
      a { colors: $accent, 0, 0; }
    }
  }

  // Logo
  if ( dark_logo == 1 ) {
    .landing .landing-header-top .logo, .header img {
      height: 0 !important;
      width: 0 !important;
      padding: 40px 0 0 40px !important;
      background-image: url("https://gitlab.com/vednoc/dark-gitlab/raw/master/images/docs_logo.png") !important;
      background-size: 40px 40px;
      background-repeat: no-repeat;
    }

    .footer-logo path.logo-dark-orange-shape:nth-child(4), .footer-logo path.logo-light-orange-shape:nth-child(3) {
      dark-logo: $t, 0, 0, 0, 0;
    }
    .footer-logo path.logo-svg-shape:nth-child(1) {
      dark-logo: 0, $t, 0, 0, 0;
    }
    .footer-logo path.logo-dark-orange-shape:nth-child(7), .footer-logo path.logo-light-orange-shape:nth-child(6) {
      dark-logo: 0, 0, $t, 0, 0;
    }
    .footer-logo path.logo-orange-shape:nth-child(2) {
      dark-logo: 0, 0, 0, $t, 0;
    }
    .footer-logo path.logo-orange-shape:nth-child(5) {
      dark-logo: 0, 0, 0, 0, $t;
    }
  }

  // * Main content.
  .main {
    border: none;
    h1 { colors: 0, $darker, 0; }
    img { box-shadow: none !important; }
    * > a { colors: $accent, 0, 0; }
    // Help and feedback section.
    .comments {
      margin: 16px auto -16px auto;
      radius: $radius;
      border: 1px solid;
      colors: 0 $darker $dark;
      .nav-tabs {
        margin: 0;
        border-color: $darker;
        li a {
          border-bottom: none;
          radius: $radius $radius 0 0;
          colors: $lighter $darker $t;
          &.active { colors: $light $darker $darker }
        }
      }
      // Buttons.
      .comments-filter a.comments-holder {
        colors: 0 $darker $dark;
        box-shadow: none !important;
      }
      .tab-content .row {
        margin-top: 16px;
        colors: 0 $darker 0;
      }
    }
  }
  .anchor {
    filter: invert(1);
  }
  .badge-small:hover::after {
    colors: $accent, $shadow, $darker;
    box-shadow: $box !important;
  }

  // * Left sidebar.
  .global-nav {
    colors: 0, 0, $dark;
    box-shadow: 1px 0 $darker;
    a.active { colors: $lighter, $accent, $darker; }
    &-block-top a { color: $light; text-shadow: none; }
    &-link {
      color: $lighter;
      box-shadow: none !important;
      transition: all 0.15s ease-in-out;
      &:visited { colors: $violet 0 0 }
      &:hover, &:focus { colors: $light, 0, $darker; }
    }
    .nav-link {
      transition: 0.15s ease;
      &:hover {
        colors: 0 0 $darker;
        box-shadow: none;
      }
    }
  }

  // * Right sidebar.
  .doc-nav {
    right: -12px;
    height: calc(100vh + 20px);
    colors: $lighter 0 $t;
    // Wrapper.
    #markdown-toc {
      a {
        text-decoration: none;
        colors: $lighter 0 0;
        &:hover { colors: $light 0 0 }
        &.active { colors: $accent 0 0 }
      }
    }
  }

  // * Search results page.
  // ? https://docs.gitlab.com/search/?q=test&idx=gitlab&p=1
  .instantsearch-input {
    .ais-search-box {
      colors: 0 0 $t;
      &--input {
        radius: $radius;
        colors: $light $darker $dark;
        box-shadow: 0 2px 4px 0 $shadow;
        &:focus { colors: 0 $accent 0 }
      }
      &--magnifier { pointer-events: none }
    }
    .search-results {
      .ais-stats {
        &, .stats {
          opacity: 1;
          colors: $lighter 0 0;
        }
      }
      .ais-header {
        colors: 0 $darker 0;
        + .ais-body {
          label { colors: $light 0 0 }
          label > span { colors: $light 0 $darker }
        }
      }
      // Results.
      .hit {
        &-content {
          padding: 8px;
          font-size: 1rem;
          colors: 0 $t 0;
          box-shadow: none;
          em { colors: $accent 0 $t }
        }
        &-text { colors: $lighter 0 0 }
        &-tag {
          radius: 0 0 3px 3px;
          colors: $light $t $t;
        }
      }
      .ais-infinite-hits {
        radius: $radius;
        colors: 0 0 $dark;
        box-shadow: inset 0 0 0 1px $darker;
        &__empty { padding: 8px }
        &--item:not(:first-child) { box-shadow: 0 -1px $darker }
        &--showmore > button {
          radius: $radius;
          border: 1px solid;
          colors: $lighter $darker $dark;
        }
      }
    }
  }

  // * Code blocks.
  pre.highlight {
    radius: $radius;
    colors: 0 $darker $t;
    box-shadow: 0 2px 4px 0 $shadow;
    code {
      white-space: pre-wrap;
      word-break: break-all;
      radius: inherit;
      colors: 0 $t 0;
    }
    // Copy to clipboard.
    .clip-btn {
      top: 1px; right: 1px;
      radius: 0 $radius 0 0;
      colors: $lighter, 0, $dark;
      .fa-clipboard::before { color: $lighter; }
    }
    // Syntax highlighting.
    code, .na, .c { colors: $lighter, 0, 0; }
    .n, .p, .nb { colors: $light, 0, 0; }
    .pi { colors: $red, 0, 0; }
    .no { colors: $violet, 0, 0; }
    .na { colors: $lighter, 0, 0; }
    .s1, .s2 { colors: $green, 0, 0; }
    .kp, .k { colors: $violet, 0, 0; }
    .nt { colors: $blue, 0, 0; }
    .se, .err { colors: $orange, 0, 0; }
    .o { colors: $cyan, 0, 0; }
  }
}

@-moz-document domain("status.gitlab.com") {
  // * Header.
  #statusio_header {
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    // ? Make the header image smaller.
    #statuspage_header_image {
      float: left;
      width: 100%;
      max-width: 400px;
      &::before, &::after { clear: both; }
    }
  }

  // * Status bar.
  [style*="background:#C44031"] { colors: 0, 0, $red; }
  [style*="background:#27AE60"] { colors: 0, 0, $green; }
  [style*="background:#00AAF0"] { colors: 0, 0, $blue; }
  [style*="background:#FFA837"] { colors: 0, 0, $yellow; }

  // * About section.
  .section_border_1 {
    colors: 0, $darker, $dark;
    a { colors: $accent, 0, 0; }
    // Icons and text elements nested within them.
    .fa {
      span { colors: $light, 0, 0; }
      &-check { colors: $green, 0, 0; }
    }
  }

  // * Table.
  .status_td { colors: $lighter, $darker, $dark; }

  // * History timeline.
  #statusio_history .history-filter-text, .back-text { colors: $lighter, 0, 0; }
  #statusio_history_timeline .timelineContainer {
    colors: 0, $darker, 0;
    .incident_time { colors: $light, 0, 0; }
    .timelineMajor h2 {
      background-image: none !important;
      &::after {
        content: "";
        position: absolute;
        margin-top: 20px;
        left: 16px;
        width: 24px;
        height: 2px;
        colors: 0, 0, $darker;
      }
    }
    .timelineMinor dt {
      background: none;
      .open, .closed { colors: $lighter, 0, 0; }
      &::before {
        content: "";
        position: absolute;
        margin-top: 20px;
        left: 0px;
        width: 12px;
        height: 2px;
        colors: 0, 0, $darker;
      }
    }
    hr { colors: 0, 0, $darker; }
  }

  // * Labels.
  .label-success { colors: $light, 0, $green; }
  .label-info { colors: $light, 0, $blue; }

  // * Rounded corners.
  .make_round {
    radius: $radius;
    &.make_round_bottom_only { radius: 0 0 $radius $radius; }
    &.panel-heading { radius: $radius $radius 0 0; }
  }
  .component {
    &_first { radius: $radius $radius 0 0; }
    &_last { radius: 0 0 $radius $radius; }
  }

  // * Footer.
  #bottom_menu {
    a { colors: $accent, 0, 0; }
    strong a { text-decoration: underline; }
  }
}

@-moz-document domain("next.gitlab.com") {
  body {
    background: none !important;
    .wrapper > img.bg { opacity: 0 }
  }
  .white-box {
    radius: $radius;
    border: 1px solid;
    colors: $light, $darker, $dark;
    a { colors: $accent, 0, 0; }
    .text-switch { colors: $lighter, 0, 0; }
    .switch .cmn-toggle-round {
      + label { colors: 0, 0, $darker; }
      + label::after { colors: 0, 0, $darker; }
      + label::before { colors: 0, 0, $dark; }
      &:checked + label::before { colors: 0, 0, $blue; }
    }
  }
  .footer a { colors: $light, 0, 0; }
}
